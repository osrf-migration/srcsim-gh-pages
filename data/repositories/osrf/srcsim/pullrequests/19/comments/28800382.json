{"links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/19/comments/28800382.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/19/_/diff#comment-28800382"}}, "parent": {"id": 28799527, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/19/comments/28799527.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/19/_/diff#comment-28799527"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/19.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/19"}}, "title": "Scoring"}, "content": {"raw": "You're right, it looks like the Gazebo world frame is different from the ROS world frame. The pelvis is centered in Gazebo:\n\n~~~\n$ gz model -p -m valkyrie\n-0.033887 -0.001069 0.983162 -6.6e-05 -0.003811 -0.002758\n~~~\n\nbut for ROS it's not:\n\n~~~\n$ rosrun tf tf_echo /world /pelvis\nAt time 239.296\n- Translation: [-0.011, -0.026, 0.983]\n- Rotation: in Quaternion [-0.000, -0.002, -0.002, 1.000]\n            in RPY (radian) [-0.000, -0.004, -0.003]\n            in RPY (degree) [-0.002, -0.217, -0.195]\n~~~\n\nThere might be another fixed joint reduction somewhere.\n", "markup": "markdown", "html": "<p>You're right, it looks like the Gazebo world frame is different from the ROS world frame. The pelvis is centered in Gazebo:</p>\n<div class=\"codehilite\"><pre><span></span>$ gz model -p -m valkyrie\n-0.033887 -0.001069 <span class=\"m\">0</span>.983162 -6.6e-05 -0.003811 -0.002758\n</pre></div>\n\n\n<p>but for ROS it's not:</p>\n<div class=\"codehilite\"><pre><span></span>$ rosrun tf tf_echo /world /pelvis\nAt <span class=\"nb\">time</span> <span class=\"m\">239</span>.296\n- Translation: <span class=\"o\">[</span>-0.011, -0.026, <span class=\"m\">0</span>.983<span class=\"o\">]</span>\n- Rotation: in Quaternion <span class=\"o\">[</span>-0.000, -0.002, -0.002, <span class=\"m\">1</span>.000<span class=\"o\">]</span>\n            in RPY <span class=\"o\">(</span>radian<span class=\"o\">)</span> <span class=\"o\">[</span>-0.000, -0.004, -0.003<span class=\"o\">]</span>\n            in RPY <span class=\"o\">(</span>degree<span class=\"o\">)</span> <span class=\"o\">[</span>-0.002, -0.217, -0.195<span class=\"o\">]</span>\n</pre></div>\n\n\n<p>There might be another fixed joint reduction somewhere.</p>", "type": "rendered"}, "created_on": "2016-12-23T03:24:33.486361+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-12-23T03:26:03.837970+00:00", "type": "pullrequest_comment", "id": 28800382}