{"links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/19/comments/28799527.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/19/_/diff#comment-28799527"}}, "parent": {"id": 28793812, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/19/comments/28793812.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/19/_/diff#comment-28793812"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/19.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/19"}}, "title": "Scoring"}, "content": {"raw": "Looks like we found the Y offset.  I get those values by transforming (0,0,0) in the head frame to the world frame using a transform listener (listen_).\nIt is almost the first step in the entire program.\nHere is the code (in the actual code, this is wrapped in a try/catch), assuming that the transform listener has been initialized and passed as listener_\n\n```\n#!python\n\ngeometry_msgs::PointStamped zeroPointWorldFrame, zeroPointHeadFrame_;\n\tzeroPointHeadFrame_.point.x = 0.0;\n\tzeroPointHeadFrame_.point.y = 0.0;\n\tzeroPointHeadFrame_.point.z = 0.0;\n\tzeroPointHeadFrame_.header.frame_id = \"head\";\n\tzeroPointHeadFrame_.header.stamp = ros::Time();\nlistener_.transformPoint(\"world\", zeroPointHeadFrame_, zeroPointWorldFrame);\n```\n", "markup": "markdown", "html": "<p>Looks like we found the Y offset.  I get those values by transforming (0,0,0) in the head frame to the world frame using a transform listener (listen_).\nIt is almost the first step in the entire program.\nHere is the code (in the actual code, this is wrapped in a try/catch), assuming that the transform listener has been initialized and passed as listener_</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">geometry_msgs</span><span class=\"p\">::</span><span class=\"n\">PointStamped</span> <span class=\"n\">zeroPointWorldFrame</span><span class=\"p\">,</span> <span class=\"n\">zeroPointHeadFrame_</span><span class=\"p\">;</span>\n    <span class=\"n\">zeroPointHeadFrame_</span><span class=\"o\">.</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span><span class=\"p\">;</span>\n    <span class=\"n\">zeroPointHeadFrame_</span><span class=\"o\">.</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span><span class=\"p\">;</span>\n    <span class=\"n\">zeroPointHeadFrame_</span><span class=\"o\">.</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span><span class=\"p\">;</span>\n    <span class=\"n\">zeroPointHeadFrame_</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"o\">.</span><span class=\"n\">frame_id</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;head&quot;</span><span class=\"p\">;</span>\n    <span class=\"n\">zeroPointHeadFrame_</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"o\">.</span><span class=\"n\">stamp</span> <span class=\"o\">=</span> <span class=\"n\">ros</span><span class=\"p\">::</span><span class=\"n\">Time</span><span class=\"p\">();</span>\n<span class=\"n\">listener_</span><span class=\"o\">.</span><span class=\"n\">transformPoint</span><span class=\"p\">(</span><span class=\"s2\">&quot;world&quot;</span><span class=\"p\">,</span> <span class=\"n\">zeroPointHeadFrame_</span><span class=\"p\">,</span> <span class=\"n\">zeroPointWorldFrame</span><span class=\"p\">);</span>\n</pre></div>", "type": "rendered"}, "created_on": "2016-12-23T02:09:26.628195+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": "2016-12-23T02:10:39.548768+00:00", "type": "pullrequest_comment", "id": 28799527}