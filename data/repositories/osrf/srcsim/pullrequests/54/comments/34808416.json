{"links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/54/comments/34808416.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/diff/osrf/srcsim:dafa701bf98e..658cdd2dfcb3?path=worlds%2Funique.world.erb"}, "html": {"href": "#!/osrf/srcsim/pull-requests/54/_/diff#comment-34808416"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 54, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/54.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/54"}}, "title": "Task 3: Habitat model"}, "content": {"raw": "You cannot generate just a task 3 world with this code right now. \n\nI am not a ruby coder but here is a quick fix:\n\n\n```\n#!ruby\n\n\ndiff -r f9a1ddc76bbf worlds/unique.world.erb\n--- a/worlds/unique.world.erb\tThu Apr 06 19:21:14 2017 -0700\n+++ b/worlds/unique.world.erb\tMon Apr 10 20:18:39 2017 -0500\n@@ -777,17 +777,34 @@\n     </plugin>\n\n     <!-- Walkway -->\n-    <%=\n-      t3cp1_frame = t2cp6_frame\n-      t3cp2_frame = t2cp6_frame\n-      t3cp3_frame = t2cp6_frame\n-      t3cp5_frame = t2cp6_frame\n-      t3cp7_frame = t2cp6_frame\n-      t3cp8_frame = t2cp6_frame\n+    <%\n+      if (task == '0')\n+    %>\n\n-      # Can't have 90 degrees near the final box\n-      nextWalkway($walkways, true)\n-    %>\n+        <%=\n+          t3cp1_frame = t2cp6_frame\n+          t3cp2_frame = t2cp6_frame\n+          t3cp3_frame = t2cp6_frame\n+          t3cp5_frame = t2cp6_frame\n+          t3cp7_frame = t2cp6_frame\n+          t3cp8_frame = t2cp6_frame\n+\n+          # Can't have 90 degrees near the final box\n+          nextWalkway($walkways, true)\n+        %>\n+    <% else %>\n+        <%=\n+          t3cp1_frame = t3start_frame\n+          t3cp2_frame = t3start_frame\n+          t3cp3_frame = t3start_frame\n+          t3cp5_frame = t3start_frame\n+          t3cp7_frame = t3start_frame\n+          t3cp8_frame = t3start_frame\n+\n+          # Can't have 90 degrees near the final box\n+          nextWalkway($walkways, true)\n+        %>\n+    <% end %>\n\n     <!-- Walkway -->\n     <%=\n\n```", "markup": "markdown", "html": "<p>You cannot generate just a task 3 world with this code right now. </p>\n<p>I am not a ruby coder but here is a quick fix:</p>\n<div class=\"codehilite language-ruby\"><pre><span></span><span class=\"n\">diff</span> <span class=\"o\">-</span><span class=\"n\">r</span> <span class=\"n\">f9a1ddc76bbf</span> <span class=\"n\">worlds</span><span class=\"o\">/</span><span class=\"n\">unique</span><span class=\"o\">.</span><span class=\"n\">world</span><span class=\"o\">.</span><span class=\"n\">erb</span>\n<span class=\"o\">---</span> <span class=\"n\">a</span><span class=\"o\">/</span><span class=\"n\">worlds</span><span class=\"o\">/</span><span class=\"n\">unique</span><span class=\"o\">.</span><span class=\"n\">world</span><span class=\"o\">.</span><span class=\"n\">erb</span>   <span class=\"no\">Thu</span> <span class=\"no\">Apr</span> <span class=\"mo\">06</span> <span class=\"mi\">19</span><span class=\"p\">:</span><span class=\"mi\">21</span><span class=\"p\">:</span><span class=\"mi\">14</span> <span class=\"mi\">2017</span> <span class=\"o\">-</span><span class=\"mo\">0700</span>\n<span class=\"o\">+++</span> <span class=\"n\">b</span><span class=\"o\">/</span><span class=\"n\">worlds</span><span class=\"o\">/</span><span class=\"n\">unique</span><span class=\"o\">.</span><span class=\"n\">world</span><span class=\"o\">.</span><span class=\"n\">erb</span>   <span class=\"no\">Mon</span> <span class=\"no\">Apr</span> <span class=\"mi\">10</span> <span class=\"mi\">20</span><span class=\"p\">:</span><span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">39</span> <span class=\"mi\">2017</span> <span class=\"o\">-</span><span class=\"mo\">0500</span>\n<span class=\"err\">@@</span> <span class=\"o\">-</span><span class=\"mi\">777</span><span class=\"p\">,</span><span class=\"mi\">17</span> <span class=\"o\">+</span><span class=\"mi\">777</span><span class=\"p\">,</span><span class=\"mi\">34</span> <span class=\"err\">@@</span>\n     <span class=\"o\">&lt;</span><span class=\"sr\">/plugin&gt;</span>\n\n<span class=\"sr\">     &lt;!-- Walkway --&gt;</span>\n<span class=\"sr\">-    &lt;%=</span>\n<span class=\"sr\">-      t3cp1_frame = t2cp6_frame</span>\n<span class=\"sr\">-      t3cp2_frame = t2cp6_frame</span>\n<span class=\"sr\">-      t3cp3_frame = t2cp6_frame</span>\n<span class=\"sr\">-      t3cp5_frame = t2cp6_frame</span>\n<span class=\"sr\">-      t3cp7_frame = t2cp6_frame</span>\n<span class=\"sr\">-      t3cp8_frame = t2cp6_frame</span>\n<span class=\"sr\">+    &lt;%</span>\n<span class=\"sr\">+      if (task == &#39;0&#39;)</span>\n<span class=\"sr\">+    %&gt;</span>\n\n<span class=\"sr\">-      # Can&#39;t have 90 degrees near the final box</span>\n<span class=\"sr\">-      nextWalkway($walkways, true)</span>\n<span class=\"sr\">-    %&gt;</span>\n<span class=\"sr\">+        &lt;%=</span>\n<span class=\"sr\">+          t3cp1_frame = t2cp6_frame</span>\n<span class=\"sr\">+          t3cp2_frame = t2cp6_frame</span>\n<span class=\"sr\">+          t3cp3_frame = t2cp6_frame</span>\n<span class=\"sr\">+          t3cp5_frame = t2cp6_frame</span>\n<span class=\"sr\">+          t3cp7_frame = t2cp6_frame</span>\n<span class=\"sr\">+          t3cp8_frame = t2cp6_frame</span>\n<span class=\"sr\">+</span>\n<span class=\"sr\">+          # Can&#39;t have 90 degrees near the final box</span>\n<span class=\"sr\">+          nextWalkway($walkways, true)</span>\n<span class=\"sr\">+        %&gt;</span>\n<span class=\"sr\">+    &lt;% else %&gt;</span>\n<span class=\"sr\">+        &lt;%=</span>\n<span class=\"sr\">+          t3cp1_frame = t3start_frame</span>\n<span class=\"sr\">+          t3cp2_frame = t3start_frame</span>\n<span class=\"sr\">+          t3cp3_frame = t3start_frame</span>\n<span class=\"sr\">+          t3cp5_frame = t3start_frame</span>\n<span class=\"sr\">+          t3cp7_frame = t3start_frame</span>\n<span class=\"sr\">+          t3cp8_frame = t3start_frame</span>\n<span class=\"sr\">+</span>\n<span class=\"sr\">+          # Can&#39;t have 90 degrees near the final box</span>\n<span class=\"sr\">+          nextWalkway($walkways, true)</span>\n<span class=\"sr\">+        %&gt;</span>\n<span class=\"sr\">+    &lt;% end %&gt;</span>\n\n<span class=\"sr\">     &lt;!-- Walkway --&gt;</span>\n<span class=\"sr\">     &lt;%=</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-04-11T01:19:48.573277+00:00", "user": {"display_name": "Aric Stewart", "uuid": "{5e392443-300d-426f-83e1-2132cd8f37b7}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5e392443-300d-426f-83e1-2132cd8f37b7%7D"}, "html": {"href": "https://bitbucket.org/%7B5e392443-300d-426f-83e1-2132cd8f37b7%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:3d3a190f-08f3-4f9b-971f-f02316fcf8de/987c2161-0456-4cb1-95d3-24e3388f9feb/128"}}, "nickname": "aricstewart", "type": "user", "account_id": "557058:3d3a190f-08f3-4f9b-971f-f02316fcf8de"}, "inline": {"to": null, "from": null, "outdated": false, "path": "worlds/unique.world.erb"}, "updated_on": "2017-04-11T01:20:21.935206+00:00", "type": "pullrequest_comment", "id": 34808416}