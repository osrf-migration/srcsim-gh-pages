{"rendered": {"description": {"raw": "This PR adds the ability to re-harness Valkyrie to any desired pose. Previously, the harness was provided by gazebo's `HarnessPlugin` that has a gazebo topic interface, and the `gazebo_ros_harness` plugin that adds a ros interface. The changes to enable re-harnessing broke the ABI of the `HarnessPlugin`, so I forked them into this repository, while the changes will be sent upstream to gazebo's default branch.\r\n\r\nIn the VRC, we had an environment variables called `VRC_CHEATS_ENABLED` that needed to be set to `1` in order for teleportation to be used. We should probably do the same for the ros harness attach topic, since it involves teleportation. We will provide an official method for re-harnessing, but we should probably use the gazebo topic interface for that.\r\n\r\nHere's a quick example command for sending a re-harness command; feel free to tinker with the pose arguments:\r\n\r\n~~~\r\nrostopic pub --once \\\r\n  /valkyrie/harness/attach \\\r\n  geometry_msgs/Pose \\\r\n  '{position: {x: 5.77, y: -1.31, z: 4.5 }, orientation: {w: 1, x: 0, y: 0, z: 0}}'\r\n~~~\r\n\r\nI forgot to mention that you have to update the valkyrie urdf in order to use this; change the `libgazebo_ros_harness.so` to `libsrcsim_ros_harness.so`: [available in this gist](https://gist.github.com/scpeters/18c47ae2b0d4e8c2d339df88daa922e9)", "markup": "markdown", "html": "<p>This PR adds the ability to re-harness Valkyrie to any desired pose. Previously, the harness was provided by gazebo's <code>HarnessPlugin</code> that has a gazebo topic interface, and the <code>gazebo_ros_harness</code> plugin that adds a ros interface. The changes to enable re-harnessing broke the ABI of the <code>HarnessPlugin</code>, so I forked them into this repository, while the changes will be sent upstream to gazebo's default branch.</p>\n<p>In the VRC, we had an environment variables called <code>VRC_CHEATS_ENABLED</code> that needed to be set to <code>1</code> in order for teleportation to be used. We should probably do the same for the ros harness attach topic, since it involves teleportation. We will provide an official method for re-harnessing, but we should probably use the gazebo topic interface for that.</p>\n<p>Here's a quick example command for sending a re-harness command; feel free to tinker with the pose arguments:</p>\n<div class=\"codehilite\"><pre><span></span>rostopic pub --once \\\n  /valkyrie/harness/attach \\\n  geometry_msgs/Pose \\\n  &#39;{position: {x: 5.77, y: -1.31, z: 4.5 }, orientation: {w: 1, x: 0, y: 0, z: 0}}&#39;\n</pre></div>\n\n\n<p>I forgot to mention that you have to update the valkyrie urdf in order to use this; change the <code>libgazebo_ros_harness.so</code> to <code>libsrcsim_ros_harness.so</code>: <a data-is-external-link=\"true\" href=\"https://gist.github.com/scpeters/18c47ae2b0d4e8c2d339df88daa922e9\" rel=\"nofollow\">available in this gist</a></p>", "type": "rendered"}, "title": {"raw": "Allow re-harnessing of valkyrie", "markup": "markdown", "html": "<p>Allow re-harnessing of valkyrie</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This PR adds the ability to re-harness Valkyrie to any desired pose. Previously, the harness was provided by gazebo's `HarnessPlugin` that has a gazebo topic interface, and the `gazebo_ros_harness` plugin that adds a ros interface. The changes to enable re-harnessing broke the ABI of the `HarnessPlugin`, so I forked them into this repository, while the changes will be sent upstream to gazebo's default branch.\r\n\r\nIn the VRC, we had an environment variables called `VRC_CHEATS_ENABLED` that needed to be set to `1` in order for teleportation to be used. We should probably do the same for the ros harness attach topic, since it involves teleportation. We will provide an official method for re-harnessing, but we should probably use the gazebo topic interface for that.\r\n\r\nHere's a quick example command for sending a re-harness command; feel free to tinker with the pose arguments:\r\n\r\n~~~\r\nrostopic pub --once \\\r\n  /valkyrie/harness/attach \\\r\n  geometry_msgs/Pose \\\r\n  '{position: {x: 5.77, y: -1.31, z: 4.5 }, orientation: {w: 1, x: 0, y: 0, z: 0}}'\r\n~~~\r\n\r\nI forgot to mention that you have to update the valkyrie urdf in order to use this; change the `libgazebo_ros_harness.so` to `libsrcsim_ros_harness.so`: [available in this gist](https://gist.github.com/scpeters/18c47ae2b0d4e8c2d339df88daa922e9)", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/pullrequests/68/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/diffstat/osrf/srcsim:ece265f431ca%0D0cf9854d1715?from_pullrequest_id=68"}, "commits": {"href": "data/repositories/osrf/srcsim/pullrequests/68/commits.json"}, "self": {"href": "data/repositories/osrf/srcsim/pullrequests/68.json"}, "comments": {"href": "data/repositories/osrf/srcsim/pullrequests/68/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/pullrequests/68/merge"}, "html": {"href": "#!/osrf/srcsim/pull-requests/68"}, "activity": {"href": "data/repositories/osrf/srcsim/pullrequests/68/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/diff/osrf/srcsim:ece265f431ca%0D0cf9854d1715?from_pullrequest_id=68"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/pullrequests/68/approve"}, "statuses": {"href": "data/repositories/osrf/srcsim/pullrequests/68/statuses_page=1.json"}}, "title": "Allow re-harnessing of valkyrie", "close_source_branch": true, "reviewers": [], "id": 68, "destination": {"commit": {"hash": "0cf9854d1715", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/srcsim/commit/0cf9854d1715.json"}, "html": {"href": "#!/osrf/srcsim/commits/0cf9854d1715"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "branch": {"name": "default"}}, "created_on": "2017-04-27T22:39:35.859133+00:00", "summary": {"raw": "This PR adds the ability to re-harness Valkyrie to any desired pose. Previously, the harness was provided by gazebo's `HarnessPlugin` that has a gazebo topic interface, and the `gazebo_ros_harness` plugin that adds a ros interface. The changes to enable re-harnessing broke the ABI of the `HarnessPlugin`, so I forked them into this repository, while the changes will be sent upstream to gazebo's default branch.\r\n\r\nIn the VRC, we had an environment variables called `VRC_CHEATS_ENABLED` that needed to be set to `1` in order for teleportation to be used. We should probably do the same for the ros harness attach topic, since it involves teleportation. We will provide an official method for re-harnessing, but we should probably use the gazebo topic interface for that.\r\n\r\nHere's a quick example command for sending a re-harness command; feel free to tinker with the pose arguments:\r\n\r\n~~~\r\nrostopic pub --once \\\r\n  /valkyrie/harness/attach \\\r\n  geometry_msgs/Pose \\\r\n  '{position: {x: 5.77, y: -1.31, z: 4.5 }, orientation: {w: 1, x: 0, y: 0, z: 0}}'\r\n~~~\r\n\r\nI forgot to mention that you have to update the valkyrie urdf in order to use this; change the `libgazebo_ros_harness.so` to `libsrcsim_ros_harness.so`: [available in this gist](https://gist.github.com/scpeters/18c47ae2b0d4e8c2d339df88daa922e9)", "markup": "markdown", "html": "<p>This PR adds the ability to re-harness Valkyrie to any desired pose. Previously, the harness was provided by gazebo's <code>HarnessPlugin</code> that has a gazebo topic interface, and the <code>gazebo_ros_harness</code> plugin that adds a ros interface. The changes to enable re-harnessing broke the ABI of the <code>HarnessPlugin</code>, so I forked them into this repository, while the changes will be sent upstream to gazebo's default branch.</p>\n<p>In the VRC, we had an environment variables called <code>VRC_CHEATS_ENABLED</code> that needed to be set to <code>1</code> in order for teleportation to be used. We should probably do the same for the ros harness attach topic, since it involves teleportation. We will provide an official method for re-harnessing, but we should probably use the gazebo topic interface for that.</p>\n<p>Here's a quick example command for sending a re-harness command; feel free to tinker with the pose arguments:</p>\n<div class=\"codehilite\"><pre><span></span>rostopic pub --once \\\n  /valkyrie/harness/attach \\\n  geometry_msgs/Pose \\\n  &#39;{position: {x: 5.77, y: -1.31, z: 4.5 }, orientation: {w: 1, x: 0, y: 0, z: 0}}&#39;\n</pre></div>\n\n\n<p>I forgot to mention that you have to update the valkyrie urdf in order to use this; change the <code>libgazebo_ros_harness.so</code> to <code>libsrcsim_ros_harness.so</code>: <a data-is-external-link=\"true\" href=\"https://gist.github.com/scpeters/18c47ae2b0d4e8c2d339df88daa922e9\" rel=\"nofollow\">available in this gist</a></p>", "type": "rendered"}, "source": {"commit": {"hash": "1b14a6fa5624", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/srcsim/commit/1b14a6fa5624.json"}, "html": {"href": "#!/osrf/srcsim/commits/1b14a6fa5624"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "branch": {"name": "reharness"}}, "comment_count": 22, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2017-05-01T20:59:35.455467+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2017-05-01T20:18:01.934727+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}], "reason": "", "updated_on": "2017-05-05T19:56:22.570831+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "ece265f431ca", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/srcsim/commit/ece265f431ca.json"}, "html": {"href": "#!/osrf/srcsim/commits/ece265f431ca"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}