{"rendered": {"description": {"raw": "This is the skeleton of the plugin which will coordinate each run. A run consists of 3 tasks, each task having from 3 to 8 checkpoints. Each task has a timeout within which all of its checkpoints must be completed.\r\n\r\n### Example usage\r\n\r\n* Start example world:\r\n\r\n    `roslaunch srcsim unique.launch init:=true`\r\n\r\n* Wait for initialization to finish (see message `INIT: Done`)\r\n\r\n* Start Task 1, Checkpoint 1:\r\n\r\n    `rosservice call /srcsim/finals/start_task 1 1`\r\n\r\n    You should see these messages:\r\n\r\n        [Msg] Task [1] - Checkpoint [1] - Started (26 804000000)\r\n        [Msg] Started box contains plugin [task1/checkpoint1]\r\n\r\n* Listen to task updates:\r\n\r\n    `rostopic echo /srcsim/finals/task`\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 1\r\n        checkpoints_completion: []\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 3\r\n          nsecs: 609000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* Walk to satellite (drag robot using the translate tool)\r\n\r\n* See that checkpoint 1 is finished. Status messages should look like this:\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 2\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 30\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* And the console should say:\r\n\r\n        [Msg] Stopped box contains plugin [task1/checkpoint1]\r\n        [Msg] Task [1] - Checkpoint [1] - Completed (59 257000000)\r\n        [Msg] Task [1] - Checkpoint [2] - Started (59 257000000)\r\n\r\n* Skip to Checkpoint 3:\r\n\r\n    `rosservice call /srcsim/finals/start_task 1 3`\r\n\r\n* The console should say:\r\n\r\n        [Msg] Task [1] - Checkpoint [2] - Skipped (28 985000000)\r\n        [Msg] Task [1] - Checkpoint [3] - Started (28 985000000)\r\n        [Msg] Started box contains plugin [task1/checkpoint3]\r\n\r\n* See that checkpoint 2 is marked as skipped (time == 0)\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 3\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 50\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* Wait for Task 1 to timeout (timeout is 3 mins for debugging)\r\n\r\n* See that we moved to task 2\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 0\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 50\r\n          nsecs: 000000000\r\n        timed_out: True\r\n        finished: False\r\n        ---\r\n        task: 2\r\n        current_checkpoint: 1\r\n        checkpoints_completion: []\r\n        start_time: \r\n          secs: 200\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 10\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n### API\r\n\r\n#### Start task / checkpoint\r\n\r\n`rosservice call /srcsim/finals/start_task 1 1`\r\n\r\n* The service arguments correspond to the task id and the checkpoint id respectively.\r\n\r\n* Once a checkpoint has been completed, the next checkpoint is available.\r\n\r\n* Similarly, once a task has been completed, the next task is available. Beware that each task has a timeout.\r\n\r\n* It's not possible to restart the current checkpoint or to go back to an earlier checkpoint.\r\n\r\n#### Listen to task status\r\n\r\n`rostopic echo /srcsim/finals/task`\r\n\r\n* This has the status of the current task and all its checkpoints, as shown on the example above.\r\n\r\n### What can be tested\r\n\r\n* Try skipping to various tasks and checkpoints\r\n\r\n* Verify it's not possible to go back to a previous checkpoint\r\n\r\n* Look for any inconsistencies on the task status\r\n\r\n* Check that timeouts work\r\n\r\n* Check that robot is teleported when checkpoints are skipped\r\n\r\n* **NEW**: Try the box checkpoints (T1CP1 (walk to satellite), T1CP3 (finish box 1), T2CP6 (finish box 2))\r\n\r\n* **NEW**: Try the satellite checkpoint", "markup": "markdown", "html": "<p>This is the skeleton of the plugin which will coordinate each run. A run consists of 3 tasks, each task having from 3 to 8 checkpoints. Each task has a timeout within which all of its checkpoints must be completed.</p>\n<h3 id=\"markdown-header-example-usage\">Example usage</h3>\n<ul>\n<li>\n<p>Start example world:</p>\n<p><code>roslaunch srcsim unique.launch init:=true</code></p>\n</li>\n<li>\n<p>Wait for initialization to finish (see message <code>INIT: Done</code>)</p>\n</li>\n<li>\n<p>Start Task 1, Checkpoint 1:</p>\n<p><code>rosservice call /srcsim/finals/start_task 1 1</code></p>\n<p>You should see these messages:</p>\n<div class=\"codehilite\"><pre><span></span>[Msg] Task [1] - Checkpoint [1] - Started (26 804000000)\n[Msg] Started box contains plugin [task1/checkpoint1]\n</pre></div>\n\n\n</li>\n<li>\n<p>Listen to task updates:</p>\n<p><code>rostopic echo /srcsim/finals/task</code></p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 1\ncheckpoints_completion: []\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 3\n  nsecs: 609000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n<li>\n<p>Walk to satellite (drag robot using the translate tool)</p>\n</li>\n<li>\n<p>See that checkpoint 1 is finished. Status messages should look like this:</p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 2\ncheckpoints_completion: \n  - \n    secs: 95\n    nsecs: 21000000\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 30\n  nsecs: 000000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n<li>\n<p>And the console should say:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[Msg] Stopped box contains plugin [task1/checkpoint1]</span>\n<span class=\"na\">[Msg] Task [1] - Checkpoint [1] - Completed (59 257000000)</span>\n<span class=\"na\">[Msg] Task [1] - Checkpoint [2] - Started (59 257000000)</span>\n</pre></div>\n\n\n</li>\n<li>\n<p>Skip to Checkpoint 3:</p>\n<p><code>rosservice call /srcsim/finals/start_task 1 3</code></p>\n</li>\n<li>\n<p>The console should say:</p>\n<div class=\"codehilite\"><pre><span></span>[Msg] Task [1] - Checkpoint [2] - Skipped (28 985000000)\n[Msg] Task [1] - Checkpoint [3] - Started (28 985000000)\n[Msg] Started box contains plugin [task1/checkpoint3]\n</pre></div>\n\n\n</li>\n<li>\n<p>See that checkpoint 2 is marked as skipped (time == 0)</p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 3\ncheckpoints_completion: \n  - \n    secs: 95\n    nsecs: 21000000\n  - \n    secs: 0\n    nsecs:         0\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 50\n  nsecs: 000000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n<li>\n<p>Wait for Task 1 to timeout (timeout is 3 mins for debugging)</p>\n</li>\n<li>\n<p>See that we moved to task 2</p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 0\ncheckpoints_completion: \n  - \n    secs: 95\n    nsecs: 21000000\n  - \n    secs: 0\n    nsecs:         0\n  - \n    secs: 0\n    nsecs:         0\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 50\n  nsecs: 000000000\ntimed_out: True\nfinished: False\n---\ntask: 2\ncurrent_checkpoint: 1\ncheckpoints_completion: []\nstart_time: \n  secs: 200\n  nsecs:  21000000\nelapsed_time: \n  secs: 10\n  nsecs: 000000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n</ul>\n<h3 id=\"markdown-header-api\">API</h3>\n<h4 id=\"markdown-header-start-task-checkpoint\">Start task / checkpoint</h4>\n<p><code>rosservice call /srcsim/finals/start_task 1 1</code></p>\n<ul>\n<li>\n<p>The service arguments correspond to the task id and the checkpoint id respectively.</p>\n</li>\n<li>\n<p>Once a checkpoint has been completed, the next checkpoint is available.</p>\n</li>\n<li>\n<p>Similarly, once a task has been completed, the next task is available. Beware that each task has a timeout.</p>\n</li>\n<li>\n<p>It's not possible to restart the current checkpoint or to go back to an earlier checkpoint.</p>\n</li>\n</ul>\n<h4 id=\"markdown-header-listen-to-task-status\">Listen to task status</h4>\n<p><code>rostopic echo /srcsim/finals/task</code></p>\n<ul>\n<li>This has the status of the current task and all its checkpoints, as shown on the example above.</li>\n</ul>\n<h3 id=\"markdown-header-what-can-be-tested\">What can be tested</h3>\n<ul>\n<li>\n<p>Try skipping to various tasks and checkpoints</p>\n</li>\n<li>\n<p>Verify it's not possible to go back to a previous checkpoint</p>\n</li>\n<li>\n<p>Look for any inconsistencies on the task status</p>\n</li>\n<li>\n<p>Check that timeouts work</p>\n</li>\n<li>\n<p>Check that robot is teleported when checkpoints are skipped</p>\n</li>\n<li>\n<p><strong>NEW</strong>: Try the box checkpoints (T1CP1 (walk to satellite), T1CP3 (finish box 1), T2CP6 (finish box 2))</p>\n</li>\n<li>\n<p><strong>NEW</strong>: Try the satellite checkpoint</p>\n</li>\n</ul>", "type": "rendered"}, "title": {"raw": "Finals plugin", "markup": "markdown", "html": "<p>Finals plugin</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This is the skeleton of the plugin which will coordinate each run. A run consists of 3 tasks, each task having from 3 to 8 checkpoints. Each task has a timeout within which all of its checkpoints must be completed.\r\n\r\n### Example usage\r\n\r\n* Start example world:\r\n\r\n    `roslaunch srcsim unique.launch init:=true`\r\n\r\n* Wait for initialization to finish (see message `INIT: Done`)\r\n\r\n* Start Task 1, Checkpoint 1:\r\n\r\n    `rosservice call /srcsim/finals/start_task 1 1`\r\n\r\n    You should see these messages:\r\n\r\n        [Msg] Task [1] - Checkpoint [1] - Started (26 804000000)\r\n        [Msg] Started box contains plugin [task1/checkpoint1]\r\n\r\n* Listen to task updates:\r\n\r\n    `rostopic echo /srcsim/finals/task`\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 1\r\n        checkpoints_completion: []\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 3\r\n          nsecs: 609000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* Walk to satellite (drag robot using the translate tool)\r\n\r\n* See that checkpoint 1 is finished. Status messages should look like this:\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 2\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 30\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* And the console should say:\r\n\r\n        [Msg] Stopped box contains plugin [task1/checkpoint1]\r\n        [Msg] Task [1] - Checkpoint [1] - Completed (59 257000000)\r\n        [Msg] Task [1] - Checkpoint [2] - Started (59 257000000)\r\n\r\n* Skip to Checkpoint 3:\r\n\r\n    `rosservice call /srcsim/finals/start_task 1 3`\r\n\r\n* The console should say:\r\n\r\n        [Msg] Task [1] - Checkpoint [2] - Skipped (28 985000000)\r\n        [Msg] Task [1] - Checkpoint [3] - Started (28 985000000)\r\n        [Msg] Started box contains plugin [task1/checkpoint3]\r\n\r\n* See that checkpoint 2 is marked as skipped (time == 0)\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 3\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 50\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* Wait for Task 1 to timeout (timeout is 3 mins for debugging)\r\n\r\n* See that we moved to task 2\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 0\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 50\r\n          nsecs: 000000000\r\n        timed_out: True\r\n        finished: False\r\n        ---\r\n        task: 2\r\n        current_checkpoint: 1\r\n        checkpoints_completion: []\r\n        start_time: \r\n          secs: 200\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 10\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n### API\r\n\r\n#### Start task / checkpoint\r\n\r\n`rosservice call /srcsim/finals/start_task 1 1`\r\n\r\n* The service arguments correspond to the task id and the checkpoint id respectively.\r\n\r\n* Once a checkpoint has been completed, the next checkpoint is available.\r\n\r\n* Similarly, once a task has been completed, the next task is available. Beware that each task has a timeout.\r\n\r\n* It's not possible to restart the current checkpoint or to go back to an earlier checkpoint.\r\n\r\n#### Listen to task status\r\n\r\n`rostopic echo /srcsim/finals/task`\r\n\r\n* This has the status of the current task and all its checkpoints, as shown on the example above.\r\n\r\n### What can be tested\r\n\r\n* Try skipping to various tasks and checkpoints\r\n\r\n* Verify it's not possible to go back to a previous checkpoint\r\n\r\n* Look for any inconsistencies on the task status\r\n\r\n* Check that timeouts work\r\n\r\n* Check that robot is teleported when checkpoints are skipped\r\n\r\n* **NEW**: Try the box checkpoints (T1CP1 (walk to satellite), T1CP3 (finish box 1), T2CP6 (finish box 2))\r\n\r\n* **NEW**: Try the satellite checkpoint", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/pullrequests/30/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/diffstat/osrf/srcsim:41a05c4b5fcc%0D6ae5c31a120a?from_pullrequest_id=30"}, "commits": {"href": "data/repositories/osrf/srcsim/pullrequests/30/commits.json"}, "self": {"href": "data/repositories/osrf/srcsim/pullrequests/30.json"}, "comments": {"href": "data/repositories/osrf/srcsim/pullrequests/30/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/pullrequests/30/merge"}, "html": {"href": "#!/osrf/srcsim/pull-requests/30"}, "activity": {"href": "data/repositories/osrf/srcsim/pullrequests/30/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/diff/osrf/srcsim:41a05c4b5fcc%0D6ae5c31a120a?from_pullrequest_id=30"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/pullrequests/30/approve"}, "statuses": {"href": "data/repositories/osrf/srcsim/pullrequests/30/statuses_page=1.json"}}, "title": "Finals plugin", "close_source_branch": true, "reviewers": [], "id": 30, "destination": {"commit": {"hash": "6ae5c31a120a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/srcsim/commit/6ae5c31a120a.json"}, "html": {"href": "#!/osrf/srcsim/commits/6ae5c31a120a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "branch": {"name": "default"}}, "created_on": "2017-02-10T00:11:00.935527+00:00", "summary": {"raw": "This is the skeleton of the plugin which will coordinate each run. A run consists of 3 tasks, each task having from 3 to 8 checkpoints. Each task has a timeout within which all of its checkpoints must be completed.\r\n\r\n### Example usage\r\n\r\n* Start example world:\r\n\r\n    `roslaunch srcsim unique.launch init:=true`\r\n\r\n* Wait for initialization to finish (see message `INIT: Done`)\r\n\r\n* Start Task 1, Checkpoint 1:\r\n\r\n    `rosservice call /srcsim/finals/start_task 1 1`\r\n\r\n    You should see these messages:\r\n\r\n        [Msg] Task [1] - Checkpoint [1] - Started (26 804000000)\r\n        [Msg] Started box contains plugin [task1/checkpoint1]\r\n\r\n* Listen to task updates:\r\n\r\n    `rostopic echo /srcsim/finals/task`\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 1\r\n        checkpoints_completion: []\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 3\r\n          nsecs: 609000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* Walk to satellite (drag robot using the translate tool)\r\n\r\n* See that checkpoint 1 is finished. Status messages should look like this:\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 2\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 30\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* And the console should say:\r\n\r\n        [Msg] Stopped box contains plugin [task1/checkpoint1]\r\n        [Msg] Task [1] - Checkpoint [1] - Completed (59 257000000)\r\n        [Msg] Task [1] - Checkpoint [2] - Started (59 257000000)\r\n\r\n* Skip to Checkpoint 3:\r\n\r\n    `rosservice call /srcsim/finals/start_task 1 3`\r\n\r\n* The console should say:\r\n\r\n        [Msg] Task [1] - Checkpoint [2] - Skipped (28 985000000)\r\n        [Msg] Task [1] - Checkpoint [3] - Started (28 985000000)\r\n        [Msg] Started box contains plugin [task1/checkpoint3]\r\n\r\n* See that checkpoint 2 is marked as skipped (time == 0)\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 3\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 50\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n* Wait for Task 1 to timeout (timeout is 3 mins for debugging)\r\n\r\n* See that we moved to task 2\r\n\r\n        ---\r\n        task: 1\r\n        current_checkpoint: 0\r\n        checkpoints_completion: \r\n          - \r\n            secs: 95\r\n            nsecs: 21000000\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n          - \r\n            secs: 0\r\n            nsecs:         0\r\n        start_time: \r\n          secs: 65\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 50\r\n          nsecs: 000000000\r\n        timed_out: True\r\n        finished: False\r\n        ---\r\n        task: 2\r\n        current_checkpoint: 1\r\n        checkpoints_completion: []\r\n        start_time: \r\n          secs: 200\r\n          nsecs:  21000000\r\n        elapsed_time: \r\n          secs: 10\r\n          nsecs: 000000000\r\n        timed_out: False\r\n        finished: False\r\n        ---\r\n\r\n### API\r\n\r\n#### Start task / checkpoint\r\n\r\n`rosservice call /srcsim/finals/start_task 1 1`\r\n\r\n* The service arguments correspond to the task id and the checkpoint id respectively.\r\n\r\n* Once a checkpoint has been completed, the next checkpoint is available.\r\n\r\n* Similarly, once a task has been completed, the next task is available. Beware that each task has a timeout.\r\n\r\n* It's not possible to restart the current checkpoint or to go back to an earlier checkpoint.\r\n\r\n#### Listen to task status\r\n\r\n`rostopic echo /srcsim/finals/task`\r\n\r\n* This has the status of the current task and all its checkpoints, as shown on the example above.\r\n\r\n### What can be tested\r\n\r\n* Try skipping to various tasks and checkpoints\r\n\r\n* Verify it's not possible to go back to a previous checkpoint\r\n\r\n* Look for any inconsistencies on the task status\r\n\r\n* Check that timeouts work\r\n\r\n* Check that robot is teleported when checkpoints are skipped\r\n\r\n* **NEW**: Try the box checkpoints (T1CP1 (walk to satellite), T1CP3 (finish box 1), T2CP6 (finish box 2))\r\n\r\n* **NEW**: Try the satellite checkpoint", "markup": "markdown", "html": "<p>This is the skeleton of the plugin which will coordinate each run. A run consists of 3 tasks, each task having from 3 to 8 checkpoints. Each task has a timeout within which all of its checkpoints must be completed.</p>\n<h3 id=\"markdown-header-example-usage\">Example usage</h3>\n<ul>\n<li>\n<p>Start example world:</p>\n<p><code>roslaunch srcsim unique.launch init:=true</code></p>\n</li>\n<li>\n<p>Wait for initialization to finish (see message <code>INIT: Done</code>)</p>\n</li>\n<li>\n<p>Start Task 1, Checkpoint 1:</p>\n<p><code>rosservice call /srcsim/finals/start_task 1 1</code></p>\n<p>You should see these messages:</p>\n<div class=\"codehilite\"><pre><span></span>[Msg] Task [1] - Checkpoint [1] - Started (26 804000000)\n[Msg] Started box contains plugin [task1/checkpoint1]\n</pre></div>\n\n\n</li>\n<li>\n<p>Listen to task updates:</p>\n<p><code>rostopic echo /srcsim/finals/task</code></p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 1\ncheckpoints_completion: []\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 3\n  nsecs: 609000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n<li>\n<p>Walk to satellite (drag robot using the translate tool)</p>\n</li>\n<li>\n<p>See that checkpoint 1 is finished. Status messages should look like this:</p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 2\ncheckpoints_completion: \n  - \n    secs: 95\n    nsecs: 21000000\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 30\n  nsecs: 000000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n<li>\n<p>And the console should say:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[Msg] Stopped box contains plugin [task1/checkpoint1]</span>\n<span class=\"na\">[Msg] Task [1] - Checkpoint [1] - Completed (59 257000000)</span>\n<span class=\"na\">[Msg] Task [1] - Checkpoint [2] - Started (59 257000000)</span>\n</pre></div>\n\n\n</li>\n<li>\n<p>Skip to Checkpoint 3:</p>\n<p><code>rosservice call /srcsim/finals/start_task 1 3</code></p>\n</li>\n<li>\n<p>The console should say:</p>\n<div class=\"codehilite\"><pre><span></span>[Msg] Task [1] - Checkpoint [2] - Skipped (28 985000000)\n[Msg] Task [1] - Checkpoint [3] - Started (28 985000000)\n[Msg] Started box contains plugin [task1/checkpoint3]\n</pre></div>\n\n\n</li>\n<li>\n<p>See that checkpoint 2 is marked as skipped (time == 0)</p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 3\ncheckpoints_completion: \n  - \n    secs: 95\n    nsecs: 21000000\n  - \n    secs: 0\n    nsecs:         0\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 50\n  nsecs: 000000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n<li>\n<p>Wait for Task 1 to timeout (timeout is 3 mins for debugging)</p>\n</li>\n<li>\n<p>See that we moved to task 2</p>\n<div class=\"codehilite\"><pre><span></span>---\ntask: 1\ncurrent_checkpoint: 0\ncheckpoints_completion: \n  - \n    secs: 95\n    nsecs: 21000000\n  - \n    secs: 0\n    nsecs:         0\n  - \n    secs: 0\n    nsecs:         0\nstart_time: \n  secs: 65\n  nsecs:  21000000\nelapsed_time: \n  secs: 50\n  nsecs: 000000000\ntimed_out: True\nfinished: False\n---\ntask: 2\ncurrent_checkpoint: 1\ncheckpoints_completion: []\nstart_time: \n  secs: 200\n  nsecs:  21000000\nelapsed_time: \n  secs: 10\n  nsecs: 000000000\ntimed_out: False\nfinished: False\n---\n</pre></div>\n\n\n</li>\n</ul>\n<h3 id=\"markdown-header-api\">API</h3>\n<h4 id=\"markdown-header-start-task-checkpoint\">Start task / checkpoint</h4>\n<p><code>rosservice call /srcsim/finals/start_task 1 1</code></p>\n<ul>\n<li>\n<p>The service arguments correspond to the task id and the checkpoint id respectively.</p>\n</li>\n<li>\n<p>Once a checkpoint has been completed, the next checkpoint is available.</p>\n</li>\n<li>\n<p>Similarly, once a task has been completed, the next task is available. Beware that each task has a timeout.</p>\n</li>\n<li>\n<p>It's not possible to restart the current checkpoint or to go back to an earlier checkpoint.</p>\n</li>\n</ul>\n<h4 id=\"markdown-header-listen-to-task-status\">Listen to task status</h4>\n<p><code>rostopic echo /srcsim/finals/task</code></p>\n<ul>\n<li>This has the status of the current task and all its checkpoints, as shown on the example above.</li>\n</ul>\n<h3 id=\"markdown-header-what-can-be-tested\">What can be tested</h3>\n<ul>\n<li>\n<p>Try skipping to various tasks and checkpoints</p>\n</li>\n<li>\n<p>Verify it's not possible to go back to a previous checkpoint</p>\n</li>\n<li>\n<p>Look for any inconsistencies on the task status</p>\n</li>\n<li>\n<p>Check that timeouts work</p>\n</li>\n<li>\n<p>Check that robot is teleported when checkpoints are skipped</p>\n</li>\n<li>\n<p><strong>NEW</strong>: Try the box checkpoints (T1CP1 (walk to satellite), T1CP3 (finish box 1), T2CP6 (finish box 2))</p>\n</li>\n<li>\n<p><strong>NEW</strong>: Try the satellite checkpoint</p>\n</li>\n</ul>", "type": "rendered"}, "source": {"commit": {"hash": "0e3317d955fe", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/srcsim/commit/0e3317d955fe.json"}, "html": {"href": "#!/osrf/srcsim/commits/0e3317d955fe"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "branch": {"name": "finals_plugin"}}, "comment_count": 15, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2017-02-16T01:43:19.597879+00:00", "type": "participant", "approved": false, "user": {"display_name": "Jedediyah Williams", "uuid": "{0ed73727-8e01-409a-a6fd-1554e16cd944}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0ed73727-8e01-409a-a6fd-1554e16cd944%7D"}, "html": {"href": "https://bitbucket.org/%7B0ed73727-8e01-409a-a6fd-1554e16cd944%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1ce466e941d68c9b4cf1d88c67ce9d00d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJW-2.png"}}, "nickname": "Jedediyah", "type": "user", "account_id": "557058:dc7e05b7-d275-4ba5-8e1e-9f938ef11c7a"}}, {"role": "PARTICIPANT", "participated_on": "2017-02-16T02:27:04.984007+00:00", "type": "participant", "approved": false, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2017-02-15T00:12:18.011543+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2017-02-15T17:23:28.776859+00:00", "type": "participant", "approved": false, "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}}], "reason": "", "updated_on": "2017-02-16T02:27:05.016719+00:00", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "merge_commit": {"hash": "41a05c4b5fcc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/srcsim/commit/41a05c4b5fcc.json"}, "html": {"href": "#!/osrf/srcsim/commits/41a05c4b5fcc"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}