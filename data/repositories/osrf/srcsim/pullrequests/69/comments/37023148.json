{"links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/69/comments/37023148.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/69/_/diff#comment-37023148"}}, "parent": {"id": 37022952, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/69/comments/37022952.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/69/_/diff#comment-37022952"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/69.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/69"}}, "title": "add publishing of Score message"}, "content": {"raw": "Oh I didn't mean to move the whole logic before the update, I think we could just keep the checkpoint value on a variable to compare after the update.\n\nI think using `N+1` is fine, but there are a few places on the code where we check whether the current checkpoint is zero, so we just need to make sure we're not calling those after the task is finished. We also set the checkpoint to zero if the task times out, so we need to update that too.", "markup": "markdown", "html": "<p>Oh I didn't mean to move the whole logic before the update, I think we could just keep the checkpoint value on a variable to compare after the update.</p>\n<p>I think using <code>N+1</code> is fine, but there are a few places on the code where we check whether the current checkpoint is zero, so we just need to make sure we're not calling those after the task is finished. We also set the checkpoint to zero if the task times out, so we need to update that too.</p>", "type": "rendered"}, "created_on": "2017-05-17T03:08:54.870153+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-05-17T03:08:54.872387+00:00", "type": "pullrequest_comment", "id": 37023148}