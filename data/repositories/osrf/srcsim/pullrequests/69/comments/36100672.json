{"links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/69/comments/36100672.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/69/_/diff#comment-36100672"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/srcsim/pullrequests/69.json"}, "html": {"href": "#!/osrf/srcsim/pull-requests/69"}}, "title": "add publishing of Score message"}, "content": {"raw": "My score is being reset to zero when I complete T1CP4 after skipping CP2 and CP3. (Maybe I messed something up syncing with default after merging pull request #70?)\n\nAlso I have a question, the checkpoint list on the score message shows the **current checkpoint as zero** until it is completed, right? This is marked as **ok?** below.\n\nHow to reproduce:\n\n1. `roslaunch srcsim unique.launch init:=true &`\n1. `rostopic echo /srcsim/finals/score`\n1. At this point, nothing is published - ok\n1. `rosservice call /srcsim/finals/start_task 1 1`\n1. Score == 0 - ok, list empty - ok\n1. Manually teleport robot out of start box\n1. Score == 0 - ok, but there is also a zero checkpoint on the list - **ok?**\n1. Manually teleport robot to satellite\n1. Score == 1 - ok, but there is also a zero checkpoint on the **end** of the list - **ok?**\n1. Skip to checkpoint 4: `rosservice call /srcsim/finals/start_task 1 4`\n1. Score == 1 - ok, but there are also **3 zero checkpoints** on the **end** of the list - **ok?**\n1. Manually teleport robot to finish box 1\n1. Score == 0 - **not ok**, list empty - **not ok**", "markup": "markdown", "html": "<p>My score is being reset to zero when I complete T1CP4 after skipping CP2 and CP3. (Maybe I messed something up syncing with default after merging <a href=\"#!/osrf/srcsim/pull-requests/70/split-t1cp2\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #70</a>?)</p>\n<p>Also I have a question, the checkpoint list on the score message shows the <strong>current checkpoint as zero</strong> until it is completed, right? This is marked as <strong>ok?</strong> below.</p>\n<p>How to reproduce:</p>\n<ol>\n<li><code>roslaunch srcsim unique.launch init:=true &amp;</code></li>\n<li><code>rostopic echo /srcsim/finals/score</code></li>\n<li>At this point, nothing is published - ok</li>\n<li><code>rosservice call /srcsim/finals/start_task 1 1</code></li>\n<li>Score == 0 - ok, list empty - ok</li>\n<li>Manually teleport robot out of start box</li>\n<li>Score == 0 - ok, but there is also a zero checkpoint on the list - <strong>ok?</strong></li>\n<li>Manually teleport robot to satellite</li>\n<li>Score == 1 - ok, but there is also a zero checkpoint on the <strong>end</strong> of the list - <strong>ok?</strong></li>\n<li>Skip to checkpoint 4: <code>rosservice call /srcsim/finals/start_task 1 4</code></li>\n<li>Score == 1 - ok, but there are also <strong>3 zero checkpoints</strong> on the <strong>end</strong> of the list - <strong>ok?</strong></li>\n<li>Manually teleport robot to finish box 1</li>\n<li>Score == 0 - <strong>not ok</strong>, list empty - <strong>not ok</strong></li>\n</ol>", "type": "rendered"}, "created_on": "2017-05-02T20:12:51.722915+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-05-02T20:12:51.725556+00:00", "type": "pullrequest_comment", "id": 36100672}