{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "links": {"attachments": {"href": "data/repositories/osrf/srcsim/issues/72/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/srcsim/issues/72.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/72/watch"}, "comments": {"href": "data/repositories/osrf/srcsim/issues/72/comments_page=1.json"}, "html": {"href": "#!/osrf/srcsim/issues/72/vals-head-moves-uncontrollably"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/72/vote"}}, "reporter": {"display_name": "Tim Allen", "uuid": "{88c72f63-f297-48a5-8375-758bf11f1f42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B88c72f63-f297-48a5-8375-758bf11f1f42%7D"}, "html": {"href": "https://bitbucket.org/%7B88c72f63-f297-48a5-8375-758bf11f1f42%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8fa71e2e0ae7cb7bbde76b3a46eb0eb8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTA-1.png"}}, "nickname": "timallenyi111", "type": "user", "account_id": "557058:848366ba-ec08-4a27-97b1-50a27d6d51db"}, "title": "Vals head moves uncontrollably", "component": null, "votes": 1, "watches": 2, "content": {"raw": "I just did a fresh install of SRCSIM on a new PC last night.  I believe it was just after a release that allowed the neck and arms to be controllable. Now when I launch Qual2, the head shakes back and forth randomly and never stops.  I even tried the new keyboard_teleop.py script to see if I could regain control of the neck that way, but no luck.  When I would adjust the positon of the neck, it would jump to that position and then start rotating again, sometimes the jump would be harsh enough to make Val fall over.  \r\n\r\nAfter a few hours of investigating, I think the root of the cause is an error in the head IMU sensor.  below is some output I get when Q2 is starting up.  \r\n\r\n****[ INFO] [1484415336.496335112, 6.787000000]: SharedMemoryInterfacePlugin: Loading\r\n2017-01-14 12:35:36 localhost ncl_cpp: [WARN] \r\n\r\n[gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Possibly missing an api or node tag from one or more imu sensors\r\n2017-01-14 12:35:36 localhost ncl_cpp: [WARN] \r\n\r\n[gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Imu sensor head_imu_sensor doesn't have <imuTransform> tag. It is likely that the data you receive from this sensor will be incorrect.\r\n\r\n[ INFO] [1484415336.530239249, 6.787000000]: SharedMemorySimInterfacePlugin: Loading complete!****\r\n\r\nI am working on trying to find a solution to this issue, but so far am not having any luck.  The head shaking makes it so Val can hardly walk, so I can't just ignore it.  I have attached my the entire output I get when starting up Q2.", "markup": "markdown", "html": "<p>I just did a fresh install of SRCSIM on a new PC last night.  I believe it was just after a release that allowed the neck and arms to be controllable. Now when I launch Qual2, the head shakes back and forth randomly and never stops.  I even tried the new keyboard_teleop.py script to see if I could regain control of the neck that way, but no luck.  When I would adjust the positon of the neck, it would jump to that position and then start rotating again, sometimes the jump would be harsh enough to make Val fall over.  </p>\n<p>After a few hours of investigating, I think the root of the cause is an error in the head IMU sensor.  below is some output I get when Q2 is starting up.  </p>\n<p>****[ INFO] [<a href=\"#!/osrf/srcsim/commits/1484415336\" rel=\"nofollow\" class=\"ap-connect-link\">1484415336</a>.<a href=\"#!/osrf/srcsim/commits/496335112\" rel=\"nofollow\" class=\"ap-connect-link\">496335112</a>, 6.<a href=\"#!/osrf/srcsim/commits/787000000\" rel=\"nofollow\" class=\"ap-connect-link\">787000000</a>]: SharedMemoryInterfacePlugin: Loading\n2017-01-14 12:35:36 localhost ncl_cpp: [WARN] </p>\n<p>[gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Possibly missing an api or node tag from one or more imu sensors\n2017-01-14 12:35:36 localhost ncl_cpp: [WARN] </p>\n<p>[gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Imu sensor head_imu_sensor doesn't have &lt;imuTransform&gt; tag. It is likely that the data you receive from this sensor will be incorrect.</p>\n<p>[ INFO] [<a href=\"#!/osrf/srcsim/commits/1484415336\" rel=\"nofollow\" class=\"ap-connect-link\">1484415336</a>.<a href=\"#!/osrf/srcsim/commits/530239249\" rel=\"nofollow\" class=\"ap-connect-link\">530239249</a>, 6.<a href=\"#!/osrf/srcsim/commits/787000000\" rel=\"nofollow\" class=\"ap-connect-link\">787000000</a>]: SharedMemorySimInterfacePlugin: Loading complete!****</p>\n<p>I am working on trying to find a solution to this issue, but so far am not having any luck.  The head shaking makes it so Val can hardly walk, so I can't just ignore it.  I have attached my the entire output I get when starting up Q2.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-01-14T18:13:55.602968+00:00", "milestone": null, "updated_on": "2017-02-15T02:04:38.553610+00:00", "type": "issue", "id": 72}