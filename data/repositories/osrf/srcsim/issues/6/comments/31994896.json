{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/6/comments/31994896.json"}, "html": {"href": "#!/osrf/srcsim/issues/6#comment-31994896"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/6.json"}}, "type": "issue", "id": 6, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "controller manager dies"}, "content": {"raw": "For those having the problem where it launches successfully sometimes and sometimes you get the following exception,\n\n\n\n```\n#!bash\n\nexception subscribing to JointAPS_Angle_Rad : /pelvis/waist/JointAPS_Angle_Rad has not been registered.\nexception subscribing to JointAPS_Vel_Radps : /pelvis/waist/JointAPS_Vel_Radps has not been registered.\nexception subscribing to JointTorque_Des_Nm : /pelvis/waist/JointTorque_Des_Nm has not been registered.\nexception subscribing to JointTorque_Meas_Nm : /pelvis/waist/JointTorque_Meas_Nm has not been registered.\nexception subscribing to Position_Des_Rad : /pelvis/waist/Position_Des_Rad has not been registered.\nexception subscribing to Velocity_Des_Radps : /pelvis/waist/Velocity_Des_Radps has not been registered.\n\u001b[31m[ERROR] [1478572407.598196595]:  Exception encountered while attempting to add an actuator! Check your URDF for correct XML formatting!\u001b[0m\n```\n\nI have some debug steps that'll help me be certain what the problem is. For the debug, do `roslaunch val_gazebo val_sim.launch`, but first comment out the following lines in `val_sim.launch`,\n\n\n```\n#!xml\n\n<include file=\"$(find val_gazebo)/launch/val_empty_world.launch\">\n      <arg name=\"paused\" value=\"$(arg paused)\"/>\n      <arg name=\"use_sim_time\" value=\"$(arg use_sim_time)\"/>\n      <arg name=\"extra_gazebo_args\" default=\"$(arg extra_gazebo_args)\"/>\n      <arg name=\"gui\" value=\"$(arg gui)\" />\n      <arg name=\"headless\" value=\"$(arg headless)\"/>\n      <arg name=\"debug\" value=\"$(arg debug)\" />\n      <arg name=\"physics\" default=\"$(arg physics)\"/>\n      <arg name=\"verbose\" value=\"$(arg verbose)\"/>\n      <arg name=\"world_name\" value=\"$(arg world_name)\"/>\n    </include>\n```\n\nThen launch it multiple times and see if you get that exception still or if it launches cleanly 100% of the time. If it is still failing occasionally, in the following line change the `4` to larger values and see if that fixes it,\n\n\n```\n#!xml\n\n<node name=\"$(anon controller_manager)\" pkg=\"val_deploy\" type=\"delayed_roslaunch.sh\" args=\"4 val_deploy val_control_sim.launch controller_manager_looprate:=$(arg controller_manager_looprate)\" output=\"screen\"/>\n```\n\nLet me know how it goes!", "markup": "markdown", "html": "<p>For those having the problem where it launches successfully sometimes and sometimes you get the following exception,</p>\n<div class=\"codehilite language-bash\"><pre><span></span>exception subscribing to JointAPS_Angle_Rad : /pelvis/waist/JointAPS_Angle_Rad has not been registered.\nexception subscribing to JointAPS_Vel_Radps : /pelvis/waist/JointAPS_Vel_Radps has not been registered.\nexception subscribing to JointTorque_Des_Nm : /pelvis/waist/JointTorque_Des_Nm has not been registered.\nexception subscribing to JointTorque_Meas_Nm : /pelvis/waist/JointTorque_Meas_Nm has not been registered.\nexception subscribing to Position_Des_Rad : /pelvis/waist/Position_Des_Rad has not been registered.\nexception subscribing to Velocity_Des_Radps : /pelvis/waist/Velocity_Des_Radps has not been registered.\n\u001b<span class=\"o\">[</span>31m<span class=\"o\">[</span>ERROR<span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"m\">1478572407</span>.598196595<span class=\"o\">]</span>:  Exception encountered <span class=\"k\">while</span> attempting to add an actuator! Check your URDF <span class=\"k\">for</span> correct XML formatting!\u001b<span class=\"o\">[</span>0m\n</pre></div>\n\n\n<p>I have some debug steps that'll help me be certain what the problem is. For the debug, do <code>roslaunch val_gazebo val_sim.launch</code>, but first comment out the following lines in <code>val_sim.launch</code>,</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;include</span> <span class=\"na\">file=</span><span class=\"s\">&quot;$(find val_gazebo)/launch/val_empty_world.launch&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;paused&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg paused)&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;use_sim_time&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg use_sim_time)&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;extra_gazebo_args&quot;</span> <span class=\"na\">default=</span><span class=\"s\">&quot;$(arg extra_gazebo_args)&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;gui&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg gui)&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;headless&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg headless)&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;debug&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg debug)&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;physics&quot;</span> <span class=\"na\">default=</span><span class=\"s\">&quot;$(arg physics)&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;verbose&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg verbose)&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;arg</span> <span class=\"na\">name=</span><span class=\"s\">&quot;world_name&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$(arg world_name)&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n</pre></div>\n\n\n<p>Then launch it multiple times and see if you get that exception still or if it launches cleanly 100% of the time. If it is still failing occasionally, in the following line change the <code>4</code> to larger values and see if that fixes it,</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon controller_manager)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;val_deploy&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;delayed_roslaunch.sh&quot;</span> <span class=\"na\">args=</span><span class=\"s\">&quot;4 val_deploy val_control_sim.launch controller_manager_looprate:=$(arg controller_manager_looprate)&quot;</span> <span class=\"na\">output=</span><span class=\"s\">&quot;screen&quot;</span><span class=\"nt\">/&gt;</span>\n</pre></div>\n\n\n<p>Let me know how it goes!</p>", "type": "rendered"}, "created_on": "2016-11-08T15:30:32.336924+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": null, "type": "issue_comment", "id": 31994896}