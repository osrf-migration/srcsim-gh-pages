{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/35993963.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-35993963"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-04-16T02:30:03.143306+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 35993963}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36002797.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36002797"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I've seen this, also. It occurs when the simulation has been open for a long time with a lot of testing by sending messages to the robot. I *think* closing publishers and subscribers at the end of a run helps. But with testing you often terminate so the C++ destructors, in my case, that handle the closing aren't called.", "markup": "markdown", "html": "<p>I've seen this, also. It occurs when the simulation has been open for a long time with a lot of testing by sending messages to the robot. I <em>think</em> closing publishers and subscribers at the end of a run helps. But with testing you often terminate so the C++ destructors, in my case, that handle the closing aren't called.</p>", "type": "rendered"}, "created_on": "2017-04-16T18:46:22.865157+00:00", "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "updated_on": null, "type": "issue_comment", "id": 36002797}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36016543.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36016543"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I may have figured it out.  When you have a web service with established connections that time out but the service has connection leaks that leave the connections open, then JVM eventually issues this exception.  This is an especially bad bug for our competition because the low bandwidths will make systems especially vulnerable.\n\nSo the question now is this:  If the run crashes due to a java.io.IOException: Too many open files, caused by a connection leak bug in the sim, whose fault is that?  Do we get a free reset under the rule that if the sim crashes for reasons not caused by the team (in this case connection leaks in the sim code)?", "markup": "markdown", "html": "<p>I may have figured it out.  When you have a web service with established connections that time out but the service has connection leaks that leave the connections open, then JVM eventually issues this exception.  This is an especially bad bug for our competition because the low bandwidths will make systems especially vulnerable.</p>\n<p>So the question now is this:  If the run crashes due to a java.io.IOException: Too many open files, caused by a connection leak bug in the sim, whose fault is that?  Do we get a free reset under the rule that if the sim crashes for reasons not caused by the team (in this case connection leaks in the sim code)?</p>", "type": "rendered"}, "created_on": "2017-04-17T15:03:35.396216+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 36016543}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36051919.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36051919"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "With the isolated task 2 world, this error stops me from getting the solar panel onto the table with the connector.  Even with optimizing the number of message calls, this error pops up after I have gone to the rover, picked up the panel, walked to the work table, and am about to put the panel on the table.  Rebooting immediately prior to the run does not help.\n\nSo now it is a blocker to progress.", "markup": "markdown", "html": "<p>With the isolated task 2 world, this error stops me from getting the solar panel onto the table with the connector.  Even with optimizing the number of message calls, this error pops up after I have gone to the rover, picked up the panel, walked to the work table, and am about to put the panel on the table.  Rebooting immediately prior to the run does not help.</p>\n<p>So now it is a blocker to progress.</p>", "type": "rendered"}, "created_on": "2017-04-18T21:28:40.331235+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": "2017-04-18T21:57:11.222205+00:00", "type": "issue_comment", "id": 36051919}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36053410.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36053410"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "@dan77062 what are you referring to when you say \"a web service with established connections that time out but the service has connection leaks that leave the connections open\"? Are you implying there is a leak in the IHMC code? If so, we should report it at:\n\n* https://github.com/ihmcrobotics/ihmc-open-robotics-software/issues/new\n\nI can try to reproduce the bug if you can provide a script of commands. For example, would walking forward with one step per message in an infinite ground plane reproduce this bug?", "markup": "markdown", "html": "<p>@dan77062 what are you referring to when you say \"a web service with established connections that time out but the service has connection leaks that leave the connections open\"? Are you implying there is a leak in the IHMC code? If so, we should report it at:</p>\n<ul>\n<li><a href=\"https://github.com/ihmcrobotics/ihmc-open-robotics-software/issues/new\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/ihmcrobotics/ihmc-open-robotics-software/issues/new</a></li>\n</ul>\n<p>I can try to reproduce the bug if you can provide a script of commands. For example, would walking forward with one step per message in an infinite ground plane reproduce this bug?</p>", "type": "rendered"}, "created_on": "2017-04-19T00:09:50.956019+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 36053410}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36053919.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36053919"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I think that would probably produce the message.  It happens for me after walking to the solar panel rover, turning, walking to the panel, doing some arm work, backing away, turning, walking to the electric panel area, turning, and just when I walk up to the electric panel, the message reliably appears and Val freezes.  It doesn't seem to matter if I actually pick up the solar panel or not.\n\nI don't know what is causing the messages, I was reading about linux traffic control and one page mentioned this error being associated with connection leaks, exacerbated by slow connections, so I thought I'd mention that possibility.", "markup": "markdown", "html": "<p>I think that would probably produce the message.  It happens for me after walking to the solar panel rover, turning, walking to the panel, doing some arm work, backing away, turning, walking to the electric panel area, turning, and just when I walk up to the electric panel, the message reliably appears and Val freezes.  It doesn't seem to matter if I actually pick up the solar panel or not.</p>\n<p>I don't know what is causing the messages, I was reading about linux traffic control and one page mentioned this error being associated with connection leaks, exacerbated by slow connections, so I thought I'd mention that possibility.</p>", "type": "rendered"}, "created_on": "2017-04-19T01:08:56.744725+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": "2017-04-19T01:09:57.079687+00:00", "type": "issue_comment", "id": 36053919}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36075730.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36075730"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "How are you sending messages? Are you using rospy or roscpp? It would be helpful to use similar code to try to reproduce this.", "markup": "markdown", "html": "<p>How are you sending messages? Are you using rospy or roscpp? It would be helpful to use similar code to try to reproduce this.</p>", "type": "rendered"}, "created_on": "2017-04-19T16:58:56.530618+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 36075730}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36079509.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36079509"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "almost all are rospp, but some are rospy.", "markup": "markdown", "html": "<p>almost all are rospp, but some are rospy.</p>", "type": "rendered"}, "created_on": "2017-04-19T20:13:57.426913+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 36079509}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36303852.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36303852"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "any progress on this?  It remains a blocker for us in task 2", "markup": "markdown", "html": "<p>any progress on this?  It remains a blocker for us in task 2</p>", "type": "rendered"}, "created_on": "2017-04-25T21:59:40.920570+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 36303852}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36406123.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36406123"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "Just want to chime in and say that I see what dan describes.  This is entirely with python bindings.  My tests may not be quite as pure; I had a few additional publish/subscribe loops in there.  But I'm subscribing to a handful and publishing a handful, and I did that maybe 3 times.  It seems highly improbable that my code actions exhausted a 1024 file descriptor limit.", "markup": "markdown", "html": "<p>Just want to chime in and say that I see what dan describes.  This is entirely with python bindings.  My tests may not be quite as pure; I had a few additional publish/subscribe loops in there.  But I'm subscribing to a handful and publishing a handful, and I did that maybe 3 times.  It seems highly improbable that my code actions exhausted a 1024 file descriptor limit.</p>", "type": "rendered"}, "created_on": "2017-04-29T18:52:34.288025+00:00", "user": {"display_name": "Jeremy White", "uuid": "{abab48b0-35b1-4102-8373-e88a492c5294}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D"}, "html": {"href": "https://bitbucket.org/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2764d3b5adf560de71f57e48a30550bad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJW-3.png"}}, "nickname": "knitfoo", "type": "user", "account_id": "557058:5de786d6-615c-44ef-8e12-f079efa38357"}, "updated_on": null, "type": "issue_comment", "id": 36406123}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36406140.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36406140"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "Actually, to be more precise.  I'm seeing connection refused messages; I have not (yet) found the Java IO error.  So I may be conflating two issues; it just seems suspiciously similar.\n\nMy connection refused messages look like this:\n\n[rosmaster.master][INFO] 2017-04-29 13:46:59,581: publisherUpdate[/ihmc_ros/valkyrie/control/pelvis_orientation_trajectory] -> http://127.0.0.1:43115/\n[rosmaster.threadpool][ERROR] 2017-04-29 13:46:59,582: Traceback (most recent call last):\n  File \"/opt/ros/indigo/lib/python2.7/dist-packages/rosmaster/threadpool.py\", line 218, in run\n    result = cmd(*args)\n  File \"/opt/ros/indigo/lib/python2.7/dist-packages/rosmaster/master_api.py\", line 208, in publisher_update_task\n    xmlrpcapi(api).publisherUpdate('/master', topic, pub_uris)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1233, in __call__\n    return self.__send(self.__name, args)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1587, in __request\n    verbose=self.__verbose\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1273, in request\n    return self.single_request(host, handler, request_body, verbose)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1301, in single_request\n    self.send_content(h, request_body)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1448, in send_content\n    connection.endheaders(request_body)\n  File \"/usr/lib/python2.7/httplib.py\", line 1013, in endheaders\n    self._send_output(message_body)\n  File \"/usr/lib/python2.7/httplib.py\", line 864, in _send_output\n    self.send(msg)\n  File \"/usr/lib/python2.7/httplib.py\", line 826, in send\n    self.connect()\n  File \"/usr/lib/python2.7/httplib.py\", line 807, in connect\n    self.timeout, self.source_address)\n  File \"/usr/lib/python2.7/socket.py\", line 571, in create_connection\n    raise err\nerror: [Errno 111] Connection refused", "markup": "markdown", "html": "<p>Actually, to be more precise.  I'm seeing connection refused messages; I have not (yet) found the Java IO error.  So I may be conflating two issues; it just seems suspiciously similar.</p>\n<p>My connection refused messages look like this:</p>\n<p>[rosmaster.master][INFO] 2017-04-29 13:46:59,581: publisherUpdate[/ihmc_ros/valkyrie/control/pelvis_orientation_trajectory] -&gt; <a href=\"http://127.0.0.1:43115/\" rel=\"nofollow\" class=\"ap-connect-link\">http://127.0.0.1:43115/</a>\n[rosmaster.threadpool][ERROR] 2017-04-29 13:46:59,582: Traceback (most recent call last):\n  File \"/opt/ros/indigo/lib/python2.7/dist-packages/rosmaster/threadpool.py\", line 218, in run\n    result = cmd(*args)\n  File \"/opt/ros/indigo/lib/python2.7/dist-packages/rosmaster/master_api.py\", line 208, in publisher_update_task\n    xmlrpcapi(api).publisherUpdate('/master', topic, pub_uris)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1233, in <strong>call</strong>\n    return self.<strong>send(self.</strong>name, args)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1587, in <strong>request\n    verbose=self.</strong>verbose\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1273, in request\n    return self.single_request(host, handler, request_body, verbose)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1301, in single_request\n    self.send_content(h, request_body)\n  File \"/usr/lib/python2.7/xmlrpclib.py\", line 1448, in send_content\n    connection.endheaders(request_body)\n  File \"/usr/lib/python2.7/httplib.py\", line 1013, in endheaders\n    self._send_output(message_body)\n  File \"/usr/lib/python2.7/httplib.py\", line 864, in _send_output\n    self.send(msg)\n  File \"/usr/lib/python2.7/httplib.py\", line 826, in send\n    self.connect()\n  File \"/usr/lib/python2.7/httplib.py\", line 807, in connect\n    self.timeout, self.source_address)\n  File \"/usr/lib/python2.7/socket.py\", line 571, in create_connection\n    raise err\nerror: [Errno 111] Connection refused</p>", "type": "rendered"}, "created_on": "2017-04-29T18:55:20.870252+00:00", "user": {"display_name": "Jeremy White", "uuid": "{abab48b0-35b1-4102-8373-e88a492c5294}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D"}, "html": {"href": "https://bitbucket.org/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2764d3b5adf560de71f57e48a30550bad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJW-3.png"}}, "nickname": "knitfoo", "type": "user", "account_id": "557058:5de786d6-615c-44ef-8e12-f079efa38357"}, "updated_on": null, "type": "issue_comment", "id": 36406140}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36406616.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36406616"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "This may be interaction among the competition software and nothing to do with competitor's software. I was running some simple chest trajectory code sorting our TF2 stuff. Nothing of mine was running when I walked away for a few hours. Came back to find these errors. Nothing of mine was running.", "markup": "markdown", "html": "<p>This may be interaction among the competition software and nothing to do with competitor's software. I was running some simple chest trajectory code sorting our TF2 stuff. Nothing of mine was running when I walked away for a few hours. Came back to find these errors. Nothing of mine was running.</p>", "type": "rendered"}, "created_on": "2017-04-29T20:16:32.432872+00:00", "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "updated_on": null, "type": "issue_comment", "id": 36406616}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36437447.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36437447"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "In task 3, the same error stops me after going up the steps, through the door, and turned to go into the hab.\nSo now it is a blocker for both task 2 and task 3.", "markup": "markdown", "html": "<p>In task 3, the same error stops me after going up the steps, through the door, and turned to go into the hab.\nSo now it is a blocker for both task 2 and task 3.</p>", "type": "rendered"}, "created_on": "2017-05-02T05:32:12.443754+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 36437447}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36470467.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36470467"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "Yep same my errors are generated over time. Not from running complex code.", "markup": "markdown", "html": "<p>Yep same my errors are generated over time. Not from running complex code.</p>", "type": "rendered"}, "created_on": "2017-05-02T06:57:35.313533+00:00", "user": {"display_name": "Tom Tseemceeb Xiong", "uuid": "{07f3561e-974e-4e4d-962c-56f955baaac3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B07f3561e-974e-4e4d-962c-56f955baaac3%7D"}, "html": {"href": "https://bitbucket.org/%7B07f3561e-974e-4e4d-962c-56f955baaac3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6aaf7437b4e057d91bcfca8bb6b456c9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTX-1.png"}}, "nickname": "Tom_Xiong", "type": "user", "account_id": "557058:5667b998-d71d-4e95-94f3-a06536d031b0"}, "updated_on": null, "type": "issue_comment", "id": 36470467}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36633868.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36633868"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "Seeing the same 'Failed to accept a connection' errors here.  Unable to connect to any ros topics published by the robot at that point.  I had been running for 1:43:00 real time, 48:30:00 sim time.  I brought my system up and down about 20 times in that interval, so lots of subscribing.\n\n```\nMay 07, 2017 11:10:34 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\nWARNING: Failed to accept a connection.\njava.io.IOException: Too many open files\n\tat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\n\tat org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n```", "markup": "markdown", "html": "<p>Seeing the same 'Failed to accept a connection' errors here.  Unable to connect to any ros topics published by the robot at that point.  I had been running for 1:43:00 real time, 48:30:00 sim time.  I brought my system up and down about 20 times in that interval, so lots of subscribing.</p>\n<div class=\"codehilite\"><pre><span></span>May 07, 2017 11:10:34 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\nWARNING: Failed to accept a connection.\njava.io.IOException: Too many open files\n    at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\n    at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-08T03:16:29.056583+00:00", "user": {"display_name": "Steven Gray", "uuid": "{7470e809-c304-4b17-b986-685f31fa15c3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D"}, "html": {"href": "https://bitbucket.org/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e6bee642b76507eb51c2839771722e68d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSG-0.png"}}, "nickname": "stgray", "type": "user", "account_id": "557058:e6cc7c7b-9d1b-4abe-87d5-5f0da7c863e1"}, "updated_on": null, "type": "issue_comment", "id": 36633868}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36711907.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36711907"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "@scpeters Here's an easy way to reproduce the java IOException in under 30 seconds.  I just make 6+ instances of the test node below, which subscribes to most of the Valkyrie topics.  It doesn't matter if I just use rosrun and cause the previous instance to shutdown each time I start a new one, or if I make instances with anonymous ids.  The exact number of instances seems to vary between test runs that I've tried.  Sometimes it's as low as 6, others it could be 10 or more.\n\n```\n#include <ros/ros.h>\n#include <std_msgs/Float64MultiArray.h>\n#include <sensor_msgs/JointState.h>\n#include <nav_msgs/Odometry.h>\n\n#include <ihmc_msgs/FootstepDataListRosMessage.h>\n#include <ihmc_msgs/HeadTrajectoryRosMessage.h>\n#include <ihmc_msgs/PelvisHeightTrajectoryRosMessage.h>\n#include <ihmc_msgs/WholeBodyTrajectoryRosMessage.h>\n#include <ihmc_msgs/ArmTrajectoryRosMessage.h>\n#include <ihmc_msgs/NeckTrajectoryRosMessage.h>\n#include <ihmc_msgs/StopAllTrajectoryRosMessage.h>\n#include <ihmc_msgs/PauseWalkingRosMessage.h>\n#include <ihmc_msgs/AbortWalkingRosMessage.h>\n#include <ihmc_msgs/GoHomeRosMessage.h>\n#include <ihmc_msgs/FootstepStatusRosMessage.h>\n#include <ihmc_msgs/HighLevelStateRosMessage.h>\n#include <ihmc_msgs/WalkingStatusRosMessage.h>\n\nvoid jsCallback(const sensor_msgs::JointStateConstPtr &js){};\nvoid fsCallback(const ihmc_msgs::FootstepStatusRosMessageConstPtr &fs){};\nvoid hlsCallback(const ihmc_msgs::HighLevelStateRosMessageConstPtr &hls){};\nvoid pCallback(const nav_msgs::OdometryConstPtr &p){};\nvoid wsCallback(const ihmc_msgs::WalkingStatusRosMessage &ws){};\n\nint main(int argc, char** argv) {\n\n  ros::init(argc, argv, \"val_network_test\");\n  ros::NodeHandle nh;\n\n  // Advertise topics\n  ros::Publisher footstep_pub_ = nh.advertise<ihmc_msgs::FootstepDataListRosMessage>(\"/ihmc_ros/valkyrie/control/footstep_list\", 1);\n  ros::Publisher head_traj_pub_ = nh.advertise<ihmc_msgs::HeadTrajectoryRosMessage>( \"/ihmc_ros/valkyrie/control/head_trajectory\", 1);\n  ros::Publisher pelvis_height_pub_ = nh.advertise<ihmc_msgs::PelvisHeightTrajectoryRosMessage >( \"/ihmc_ros/valkyrie/control/pelvis_height_trajectory\", 1);\n  ros::Publisher pelvis_traj_pub_ = nh.advertise<ihmc_msgs::PelvisTrajectoryRosMessage>( \"/ihmc_ros/valkyrie/control/pelvis_trajectory\", 1);\n  ros::Publisher foot_traj_pub_ = nh.advertise<ihmc_msgs::FootTrajectoryRosMessage>( \"/ihmc_ros/valkyrie/control/foot_trajectory\", 1);\n  ros::Publisher hand_traj_pub_ = nh.advertise<ihmc_msgs::HandTrajectoryRosMessage >( \"/ihmc_ros/valkyrie/control/hand_trajectory\", 1);\n  ros::Publisher chest_traj_pub_ = nh.advertise<ihmc_msgs::ChestTrajectoryRosMessage>( \"/ihmc_ros/valkyrie/control/chest_trajectory\", 1);\n  ros::Publisher wholebody_traj_pub_ = nh.advertise<ihmc_msgs::WholeBodyTrajectoryRosMessage>( \"/ihmc_ros/valkyrie/control/whole_body_trajectory\", 1);\n  ros::Publisher arm_traj_pub_ = nh.advertise<ihmc_msgs::ArmTrajectoryRosMessage>( \"/ihmc_ros/valkyrie/control/arm_trajectory\", 1);\n  ros::Publisher neck_traj_pub_ = nh.advertise<ihmc_msgs::NeckTrajectoryRosMessage>( \"/ihmc_ros/valkyrie/control/neck_trajectory\", 1);\n  ros::Publisher stop_all_pub_ = nh.advertise<ihmc_msgs::StopAllTrajectoryRosMessage >( \"/ihmc_ros/valkyrie/control/stop_all_trajectories\", 1);\n  ros::Publisher walk_pause_pub_ = nh.advertise<ihmc_msgs::PauseWalkingRosMessage>( \"/ihmc_ros/valkyrie/control/pause_walking\", 1);\n  ros::Publisher walk_abort_pub_ = nh.advertise<ihmc_msgs::AbortWalkingRosMessage>( \"/ihmc_ros/valkyrie/control/abort_walking\", 1);\n  ros::Publisher go_home_pub_ = nh.advertise<ihmc_msgs::GoHomeRosMessage>( \"/ihmc_ros/valkyrie/control/go_home\", 1);\n  ros::Publisher left_hand_pub_ = nh.advertise<std_msgs::Float64MultiArray>( \"/left_hand_position_controller/command\", 1);\n  ros::Publisher right_hand_pub_ = nh.advertise<std_msgs::Float64MultiArray>( \"/right_hand_position_controller/command\", 1);\n\n  ros::Subscriber joint_state_sub_ = nh.subscribe(\"/ihmc_ros/valkyrie/output/joint_states\", 1, jsCallback);\n  ros::Subscriber footstep_sub_ = nh.subscribe(\"/ihmc_ros/valkyrie/output/footstep_status\", 1, fsCallback);\n  ros::Subscriber state_sub_ = nh.subscribe(\"/ihmc_ros/valkyrie/output/high_level_state\", 1, hlsCallback);\n  ros::Subscriber pose_sub_ = nh.subscribe(\"/ihmc_ros/valkyrie/output/robot_pose\", 1, pCallback);\n  ros::Subscriber walk_status_sub_ = nh.subscribe(\"/ihmc_ros/valkyrie/output/walking_status\", 1, wsCallback);\n\n  ros::AsyncSpinner spinner(2);\n  spinner.start();\n  ros::waitForShutdown();\n}\n\n```", "markup": "markdown", "html": "<p>@scpeters Here's an easy way to reproduce the java IOException in under 30 seconds.  I just make 6+ instances of the test node below, which subscribes to most of the Valkyrie topics.  It doesn't matter if I just use rosrun and cause the previous instance to shutdown each time I start a new one, or if I make instances with anonymous ids.  The exact number of instances seems to vary between test runs that I've tried.  Sometimes it's as low as 6, others it could be 10 or more.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ros/ros.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;std_msgs/Float64MultiArray.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;sensor_msgs/JointState.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;nav_msgs/Odometry.h&gt;</span><span class=\"cp\"></span>\n\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/FootstepDataListRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/HeadTrajectoryRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/PelvisHeightTrajectoryRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/WholeBodyTrajectoryRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/ArmTrajectoryRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/NeckTrajectoryRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/StopAllTrajectoryRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/PauseWalkingRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/AbortWalkingRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/GoHomeRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/FootstepStatusRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/HighLevelStateRosMessage.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ihmc_msgs/WalkingStatusRosMessage.h&gt;</span><span class=\"cp\"></span>\n\n<span class=\"kt\">void</span> <span class=\"nf\">jsCallback</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">sensor_msgs</span><span class=\"o\">::</span><span class=\"n\">JointStateConstPtr</span> <span class=\"o\">&amp;</span><span class=\"n\">js</span><span class=\"p\">){};</span>\n<span class=\"kt\">void</span> <span class=\"nf\">fsCallback</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">FootstepStatusRosMessageConstPtr</span> <span class=\"o\">&amp;</span><span class=\"n\">fs</span><span class=\"p\">){};</span>\n<span class=\"kt\">void</span> <span class=\"nf\">hlsCallback</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">HighLevelStateRosMessageConstPtr</span> <span class=\"o\">&amp;</span><span class=\"n\">hls</span><span class=\"p\">){};</span>\n<span class=\"kt\">void</span> <span class=\"nf\">pCallback</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">nav_msgs</span><span class=\"o\">::</span><span class=\"n\">OdometryConstPtr</span> <span class=\"o\">&amp;</span><span class=\"n\">p</span><span class=\"p\">){};</span>\n<span class=\"kt\">void</span> <span class=\"nf\">wsCallback</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">WalkingStatusRosMessage</span> <span class=\"o\">&amp;</span><span class=\"n\">ws</span><span class=\"p\">){};</span>\n\n<span class=\"kt\">int</span> <span class=\"nf\">main</span><span class=\"p\">(</span><span class=\"kt\">int</span> <span class=\"n\">argc</span><span class=\"p\">,</span> <span class=\"kt\">char</span><span class=\"o\">**</span> <span class=\"n\">argv</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">init</span><span class=\"p\">(</span><span class=\"n\">argc</span><span class=\"p\">,</span> <span class=\"n\">argv</span><span class=\"p\">,</span> <span class=\"s\">&quot;val_network_test&quot;</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">NodeHandle</span> <span class=\"n\">nh</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// Advertise topics</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">footstep_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">FootstepDataListRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"s\">&quot;/ihmc_ros/valkyrie/control/footstep_list&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">head_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">HeadTrajectoryRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/head_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">pelvis_height_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">PelvisHeightTrajectoryRosMessage</span> <span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/pelvis_height_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">pelvis_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">PelvisTrajectoryRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/pelvis_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">foot_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">FootTrajectoryRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/foot_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">hand_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">HandTrajectoryRosMessage</span> <span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/hand_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">chest_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">ChestTrajectoryRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/chest_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">wholebody_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">WholeBodyTrajectoryRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/whole_body_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">arm_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">ArmTrajectoryRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/arm_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">neck_traj_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">NeckTrajectoryRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/neck_trajectory&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">stop_all_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">StopAllTrajectoryRosMessage</span> <span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/stop_all_trajectories&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">walk_pause_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">PauseWalkingRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/pause_walking&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">walk_abort_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">AbortWalkingRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/abort_walking&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">go_home_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">ihmc_msgs</span><span class=\"o\">::</span><span class=\"n\">GoHomeRosMessage</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/ihmc_ros/valkyrie/control/go_home&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">left_hand_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">std_msgs</span><span class=\"o\">::</span><span class=\"n\">Float64MultiArray</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/left_hand_position_controller/command&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">right_hand_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">std_msgs</span><span class=\"o\">::</span><span class=\"n\">Float64MultiArray</span><span class=\"o\">&gt;</span><span class=\"p\">(</span> <span class=\"s\">&quot;/right_hand_position_controller/command&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Subscriber</span> <span class=\"n\">joint_state_sub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"s\">&quot;/ihmc_ros/valkyrie/output/joint_states&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">jsCallback</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Subscriber</span> <span class=\"n\">footstep_sub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"s\">&quot;/ihmc_ros/valkyrie/output/footstep_status&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">fsCallback</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Subscriber</span> <span class=\"n\">state_sub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"s\">&quot;/ihmc_ros/valkyrie/output/high_level_state&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">hlsCallback</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Subscriber</span> <span class=\"n\">pose_sub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"s\">&quot;/ihmc_ros/valkyrie/output/robot_pose&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">pCallback</span><span class=\"p\">);</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Subscriber</span> <span class=\"n\">walk_status_sub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"p\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"s\">&quot;/ihmc_ros/valkyrie/output/walking_status&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">wsCallback</span><span class=\"p\">);</span>\n\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">AsyncSpinner</span> <span class=\"n\">spinner</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">);</span>\n  <span class=\"n\">spinner</span><span class=\"p\">.</span><span class=\"n\">start</span><span class=\"p\">();</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">waitForShutdown</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-11T02:19:15.013423+00:00", "user": {"display_name": "Steven Gray", "uuid": "{7470e809-c304-4b17-b986-685f31fa15c3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D"}, "html": {"href": "https://bitbucket.org/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e6bee642b76507eb51c2839771722e68d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSG-0.png"}}, "nickname": "stgray", "type": "user", "account_id": "557058:e6cc7c7b-9d1b-4abe-87d5-5f0da7c863e1"}, "updated_on": "2017-05-11T02:32:54.615407+00:00", "type": "issue_comment", "id": 36711907}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36764718.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36764718"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "@stgray thanks for the example code! I added `ros::init_options::AnonymousName` to the `ros::init` call so I could more easily open multiple instances of the node. I've opened about 20 instances of the node and haven't noticed any `IOException`s yet. \n\nThe only weird thing I've seen was before I added `AnonymousName`, I had tried opening multiple copies of the node, but each one that I opened would shut down the others:\n\n~~~\n[ WARN] [1494525173.813713585, 57.514000000]: Shutdown request received.\n[ WARN] [1494525173.813810064, 57.514000000]: Reason given for shutdown: [new node registered with same name]\n~~~\n\nAfter doing that a few times, I noticed the following console error:\n\n~~~\nMay 11, 2017 5:53:30 PM org.jboss.netty.util.internal.SharedResourceMisuseDetector\nWARNING: You are creating too many HashedWheelTimer instances.  HashedWheelTimer is a shared resource that must be reused across the application, so that only a few instances are created.\n~~~\n\nbut I haven't seen any consequences of that yet.", "markup": "markdown", "html": "<p>@stgray thanks for the example code! I added <code>ros::init_options::AnonymousName</code> to the <code>ros::init</code> call so I could more easily open multiple instances of the node. I've opened about 20 instances of the node and haven't noticed any <code>IOException</code>s yet. </p>\n<p>The only weird thing I've seen was before I added <code>AnonymousName</code>, I had tried opening multiple copies of the node, but each one that I opened would shut down the others:</p>\n<div class=\"codehilite\"><pre><span></span>[ WARN] [1494525173.813713585, 57.514000000]: Shutdown request received.\n[ WARN] [1494525173.813810064, 57.514000000]: Reason given for shutdown: [new node registered with same name]\n</pre></div>\n\n\n<p>After doing that a few times, I noticed the following console error:</p>\n<div class=\"codehilite\"><pre><span></span>May 11, 2017 5:53:30 PM org.jboss.netty.util.internal.SharedResourceMisuseDetector\nWARNING: You are creating too many HashedWheelTimer instances.  HashedWheelTimer is a shared resource that must be reused across the application, so that only a few instances are created.\n</pre></div>\n\n\n<p>but I haven't seen any consequences of that yet.</p>", "type": "rendered"}, "created_on": "2017-05-11T18:03:09.462852+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 36764718}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36765003.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36765003"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I have noticed problems when opening too many of those nodes. Sometimes my footstep commands get ignored, and when I opened way too many, I couldn't even do a `rostopic echo`. I still haven't seen the `IOException` yet though.", "markup": "markdown", "html": "<p>I have noticed problems when opening too many of those nodes. Sometimes my footstep commands get ignored, and when I opened way too many, I couldn't even do a <code>rostopic echo</code>. I still haven't seen the <code>IOException</code> yet though.</p>", "type": "rendered"}, "created_on": "2017-05-11T18:19:22.074605+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 36765003}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36765254.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36765254"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "@scpeters \n\nI just reproduced the issue on a second machine with SRCSim.  [Here's video of it happening.](https://youtu.be/5aAVWDj6-Ok)  Note that I had to run the launch file twice -- started once, killed it, and restarted.  The IOExceptions are in the terminal that I launch the sim, not the one where I launch my other code.   Note that this is with a fresh version of the sim started and no other code running.  Here's the launch file I use.  \n\n```\n<?xml version=\"1.0\" standalone=\"yes\"?>\n<launch>\n  <node name=\"$(anon r5_comms1)\" pkg=\"ws_controls\" type=\"network_stress\" />\n  <node name=\"$(anon r5_comms2)\" pkg=\"ws_controls\" type=\"network_stress\" />\n  <node name=\"$(anon r5_comms3)\" pkg=\"ws_controls\" type=\"network_stress\" />\n  <node name=\"$(anon r5_comms4)\" pkg=\"ws_controls\" type=\"network_stress\" />\n  <node name=\"$(anon r5_comms5)\" pkg=\"ws_controls\" type=\"network_stress\" />\n  <node name=\"$(anon r5_comms6)\" pkg=\"ws_controls\" type=\"network_stress\" />\n  <node name=\"$(anon r5_comms7)\" pkg=\"ws_controls\" type=\"network_stress\" />\n  <node name=\"$(anon r5_comms8)\" pkg=\"ws_controls\" type=\"network_stress\" />\n</launch>\n```", "markup": "markdown", "html": "<p>@scpeters </p>\n<p>I just reproduced the issue on a second machine with SRCSim.  <a data-is-external-link=\"true\" href=\"https://youtu.be/5aAVWDj6-Ok\" rel=\"nofollow\">Here's video of it happening.</a>  Note that I had to run the launch file twice -- started once, killed it, and restarted.  The IOExceptions are in the terminal that I launch the sim, not the one where I launch my other code.   Note that this is with a fresh version of the sim started and no other code running.  Here's the launch file I use.  </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</span>\n<span class=\"nt\">&lt;launch&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms1)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms2)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms3)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms4)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms5)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms6)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms7)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;$(anon r5_comms8)&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;ws_controls&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;network_stress&quot;</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/launch&gt;</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-11T18:30:57.999668+00:00", "user": {"display_name": "Steven Gray", "uuid": "{7470e809-c304-4b17-b986-685f31fa15c3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D"}, "html": {"href": "https://bitbucket.org/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e6bee642b76507eb51c2839771722e68d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSG-0.png"}}, "nickname": "stgray", "type": "user", "account_id": "557058:e6cc7c7b-9d1b-4abe-87d5-5f0da7c863e1"}, "updated_on": "2017-05-11T18:32:46.270556+00:00", "type": "issue_comment", "id": 36765254}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36771725.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36771725"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I did some naive forensics on this a while back, and a stock Ubuntu system has a hard file limit of 4096.  I noticed that one of the Java processes would fork in such a way that a pair of the Java processes would end up with a limit of only 2048 file handles.  Further, it's 'startup' state was about 1800, and it would fairly quickly rise above that, and presumably run out.\n\nI've added a .conf file to /etc/security/limits.d/ that contains:\n@ros        hard    nofile           8192\n@ros        soft    nofile           8192\n\nAfter that, the two Java processes end up with 4096 each.  And since making that change, I've broadly had pretty good stability on the longer runs.\n\nThat could just be coincidence (I've made other changes), but it could be useful.  It certainly shouldn't hurt anything to add that to the srcsim image.", "markup": "markdown", "html": "<p>I did some naive forensics on this a while back, and a stock Ubuntu system has a hard file limit of 4096.  I noticed that one of the Java processes would fork in such a way that a pair of the Java processes would end up with a limit of only 2048 file handles.  Further, it's 'startup' state was about 1800, and it would fairly quickly rise above that, and presumably run out.</p>\n<p>I've added a .conf file to /etc/security/limits.d/ that contains:\n@ros        hard    nofile           8192\n@ros        soft    nofile           8192</p>\n<p>After that, the two Java processes end up with 4096 each.  And since making that change, I've broadly had pretty good stability on the longer runs.</p>\n<p>That could just be coincidence (I've made other changes), but it could be useful.  It certainly shouldn't hurt anything to add that to the srcsim image.</p>", "type": "rendered"}, "created_on": "2017-05-12T02:58:20.590405+00:00", "user": {"display_name": "Jeremy White", "uuid": "{abab48b0-35b1-4102-8373-e88a492c5294}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D"}, "html": {"href": "https://bitbucket.org/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2764d3b5adf560de71f57e48a30550bad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJW-3.png"}}, "nickname": "knitfoo", "type": "user", "account_id": "557058:5de786d6-615c-44ef-8e12-f079efa38357"}, "updated_on": null, "type": "issue_comment", "id": 36771725}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/36772151.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-36772151"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "@knitfoo thanks for the suggestion. I tried it but can still replicate the issue. I modified `/etc/security/limits.d/ros-rtprio.conf` from step 11 of the setup guide so it looks like:\n```\n@ros - rtprio 99\n@ros hard nofile 8192\n@ros soft nofile 8192\n```\nand verified that `ulimit -n` showed 8192.  I then ran my test script again and (after somewhere between 8-16 instances) got a number of new java exceptions, plus the same 'too many open files' exception.\n\n```\nMay 11, 2017 11:30:45 PM org.jboss.netty.channel.DefaultChannelPipeline\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0x0868b217] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n\tat org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\n\tat org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\n\tat org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\n\tat org.jboss.netty.channel.Channels.connect(Channels.java:642)\n\tat org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\n\tat org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\n\tat org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManager.java:69)\n\tat org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\n\tat org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\n\t... 13 more\nCaused by: java.io.IOException: Too many open files\n\tat sun.nio.ch.IOUtil.makePipe(Native Method)\n\tat sun.nio.ch.EPollSelectorImpl.<init>(EPollSelectorImpl.java:65)\n\tat sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\n\tat java.nio.channels.Selector.open(Selector.java:227)\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\n\t... 14 more\n\nMay 11, 2017 11:30:46 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\nWARNING: Failed to accept a connection.\njava.io.IOException: Too many open files\n\tat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\n\tat org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n```", "markup": "markdown", "html": "<p>@knitfoo thanks for the suggestion. I tried it but can still replicate the issue. I modified <code>/etc/security/limits.d/ros-rtprio.conf</code> from step 11 of the setup guide so it looks like:</p>\n<div class=\"codehilite\"><pre><span></span>@ros - rtprio 99\n@ros hard nofile 8192\n@ros soft nofile 8192\n</pre></div>\n\n\n<p>and verified that <code>ulimit -n</code> showed 8192.  I then ran my test script again and (after somewhere between 8-16 instances) got a number of new java exceptions, plus the same 'too many open files' exception.</p>\n<div class=\"codehilite\"><pre><span></span>May 11, 2017 11:30:45 PM org.jboss.netty.channel.DefaultChannelPipeline\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0x0868b217] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\n    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\n    at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\n    at org.jboss.netty.channel.Channels.connect(Channels.java:642)\n    at org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\n    at org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\n    at org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManager.java:69)\n    at org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\n    at org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\n    ... 13 more\nCaused by: java.io.IOException: Too many open files\n    at sun.nio.ch.IOUtil.makePipe(Native Method)\n    at sun.nio.ch.EPollSelectorImpl.&lt;init&gt;(EPollSelectorImpl.java:65)\n    at sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\n    at java.nio.channels.Selector.open(Selector.java:227)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\n    ... 14 more\n\nMay 11, 2017 11:30:46 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\nWARNING: Failed to accept a connection.\njava.io.IOException: Too many open files\n    at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\n    at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-12T03:42:58.922217+00:00", "user": {"display_name": "Steven Gray", "uuid": "{7470e809-c304-4b17-b986-685f31fa15c3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D"}, "html": {"href": "https://bitbucket.org/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e6bee642b76507eb51c2839771722e68d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSG-0.png"}}, "nickname": "stgray", "type": "user", "account_id": "557058:e6cc7c7b-9d1b-4abe-87d5-5f0da7c863e1"}, "updated_on": null, "type": "issue_comment", "id": 36772151}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37143496.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37143496"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I've submitted an upstream issue, since the ros API launch file causes over 1.5 million files to be opened by java on my machine, and I'm not sure why.\n\n* https://github.com/ihmcrobotics/ihmc_valkyrie_ros/issues/15", "markup": "markdown", "html": "<p>I've submitted an upstream issue, since the ros API launch file causes over 1.5 million files to be opened by java on my machine, and I'm not sure why.</p>\n<ul>\n<li><a href=\"https://github.com/ihmcrobotics/ihmc_valkyrie_ros/issues/15\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/ihmcrobotics/ihmc_valkyrie_ros/issues/15</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-05-25T09:16:26.730639+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 37143496}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37150918.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37150918"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "Yikes, good catch.  Just verified this on my machine with `lsof | wc -l`\n\n* At boot: 46k open files\n\n* Valkyrie open in Gazebo using `roslaunch val_description ValkyrieInEmptyWorld.launch': 74k open files\n\n* Valkyrie with control started using `roslaunch srcsim unique_task1.launch  init:=\"true\"`: 1.6M open files", "markup": "markdown", "html": "<p>Yikes, good catch.  Just verified this on my machine with <code>lsof | wc -l</code></p>\n<ul>\n<li>\n<p>At boot: 46k open files</p>\n</li>\n<li>\n<p>Valkyrie open in Gazebo using `roslaunch val_description ValkyrieInEmptyWorld.launch': 74k open files</p>\n</li>\n<li>\n<p>Valkyrie with control started using <code>roslaunch srcsim unique_task1.launch  init:=\"true\"</code>: 1.6M open files</p>\n</li>\n</ul>", "type": "rendered"}, "created_on": "2017-05-25T13:38:59.738405+00:00", "user": {"display_name": "Steven Gray", "uuid": "{7470e809-c304-4b17-b986-685f31fa15c3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D"}, "html": {"href": "https://bitbucket.org/%7B7470e809-c304-4b17-b986-685f31fa15c3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e6bee642b76507eb51c2839771722e68d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSG-0.png"}}, "nickname": "stgray", "type": "user", "account_id": "557058:e6cc7c7b-9d1b-4abe-87d5-5f0da7c863e1"}, "updated_on": null, "type": "issue_comment", "id": 37150918}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37417611.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37417611"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "This issue is out of our hands, and won't be resolved by the final competition. \nThis is unfortunate, and we are sorry about this problem.\n\nRather than attempt to work around it by changing the competition structure, we will reset teams whenever this (or other problems) arise during the finals.\n\nI understand the frustration that this may cause, and I hope that everyone can work with us over the next two weeks.", "markup": "markdown", "html": "<p>This issue is out of our hands, and won't be resolved by the final competition. \nThis is unfortunate, and we are sorry about this problem.</p>\n<p>Rather than attempt to work around it by changing the competition structure, we will reset teams whenever this (or other problems) arise during the finals.</p>\n<p>I understand the frustration that this may cause, and I hope that everyone can work with us over the next two weeks.</p>", "type": "rendered"}, "created_on": "2017-06-07T01:13:15.934470+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 37417611}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37423103.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37423103"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": ">Rather than attempt to work around it by changing the competition structure, we will reset teams whenever this (or other problems) arise during the finals.\n\nWithout a penalty score right? What about the time?\n\nAlso this might be the cause of some of the performance problems. I see a lot of system CPU usage when running the simulation.", "markup": "markdown", "html": "<blockquote>\n<p>Rather than attempt to work around it by changing the competition structure, we will reset teams whenever this (or other problems) arise during the finals.</p>\n</blockquote>\n<p>Without a penalty score right? What about the time?</p>\n<p>Also this might be the cause of some of the performance problems. I see a lot of system CPU usage when running the simulation.</p>", "type": "rendered"}, "created_on": "2017-06-07T07:24:45.335393+00:00", "user": {"display_name": "V\u00edctor L\u00f3pez", "uuid": "{45ae86e9-e602-472d-b978-9915cf7f0b94}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B45ae86e9-e602-472d-b978-9915cf7f0b94%7D"}, "html": {"href": "https://bitbucket.org/%7B45ae86e9-e602-472d-b978-9915cf7f0b94%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/441581ed0d88303764d0971c84961d4dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsVL-3.png"}}, "nickname": "Victor Lopez", "type": "user", "account_id": "557058:be4eaa58-1e6c-457d-b177-531b37dc6861"}, "updated_on": "2017-06-07T07:39:57.005950+00:00", "type": "issue_comment", "id": 37423103}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37445980.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37445980"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I know this is wontfix but I've been running 0.6 locally and I think this is happening more often than it was before.  I can run the sim about 15 minutes in general before seeing the error.  Has anyone else noticed an uptick in this error?  Cloudsim is still 0.5 (or was yesterday) so unclear if it will affect that.", "markup": "markdown", "html": "<p>I know this is wontfix but I've been running 0.6 locally and I think this is happening more often than it was before.  I can run the sim about 15 minutes in general before seeing the error.  Has anyone else noticed an uptick in this error?  Cloudsim is still 0.5 (or was yesterday) so unclear if it will affect that.</p>", "type": "rendered"}, "created_on": "2017-06-08T02:13:37.633324+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 37445980}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37446011.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37446011"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I don't think we've seen an uptick, but we haven't been running against the cloud image much.  I haven't thought to look if the cloud sim images have an override in /etc/security/limits.d/ to help provide us a buffer.  Anyone checked on that?", "markup": "markdown", "html": "<p>I don't think we've seen an uptick, but we haven't been running against the cloud image much.  I haven't thought to look if the cloud sim images have an override in /etc/security/limits.d/ to help provide us a buffer.  Anyone checked on that?</p>", "type": "rendered"}, "created_on": "2017-06-08T02:15:58.472568+00:00", "user": {"display_name": "Jeremy White", "uuid": "{abab48b0-35b1-4102-8373-e88a492c5294}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D"}, "html": {"href": "https://bitbucket.org/%7Babab48b0-35b1-4102-8373-e88a492c5294%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2764d3b5adf560de71f57e48a30550bad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJW-3.png"}}, "nickname": "knitfoo", "type": "user", "account_id": "557058:5de786d6-615c-44ef-8e12-f079efa38357"}, "updated_on": null, "type": "issue_comment", "id": 37446011}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37446214.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37446214"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "There will be no penalty in score or time when this occurs. All log files will be kept so that we (and you) can review the final scores.\n\nNote that the scores that appear on cloudsim will not be accurate after a reset.", "markup": "markdown", "html": "<p>There will be no penalty in score or time when this occurs. All log files will be kept so that we (and you) can review the final scores.</p>\n<p>Note that the scores that appear on cloudsim will not be accurate after a reset.</p>", "type": "rendered"}, "created_on": "2017-06-08T02:34:53.217764+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 37446214}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134/comments/37594675.json"}, "html": {"href": "#!/osrf/srcsim/issues/134#comment-37594675"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/134.json"}}, "type": "issue", "id": 134, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "java.io.IOException: Too many open files"}, "content": {"raw": "I think there's a silent variant of this error, but I'm only guessing. When I kill my python code with ctrl-c, it looks like it's leaking subscribers/publishers and after starting/killing it 5-6 times, it will not get a connection and it will be \"waiting for a subscriber\" forever. If I create a shutdown hook and unregister() everyting before exiting, I will get the too many open files error after the same 5-6 tries and the sim will be unresponsive just like in the first case. Of course I might be misunderstanding something, but this might be important if a team has to request a reset because the sim is not responding.", "markup": "markdown", "html": "<p>I think there's a silent variant of this error, but I'm only guessing. When I kill my python code with ctrl-c, it looks like it's leaking subscribers/publishers and after starting/killing it 5-6 times, it will not get a connection and it will be \"waiting for a subscriber\" forever. If I create a shutdown hook and unregister() everyting before exiting, I will get the too many open files error after the same 5-6 tries and the sim will be unresponsive just like in the first case. Of course I might be misunderstanding something, but this might be important if a team has to request a reset because the sim is not responding.</p>", "type": "rendered"}, "created_on": "2017-06-14T18:24:25.776090+00:00", "user": {"display_name": "Balazs Kollar", "uuid": "{f46cb153-67ac-4b73-9d1e-29d86cbeffbd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf46cb153-67ac-4b73-9d1e-29d86cbeffbd%7D"}, "html": {"href": "https://bitbucket.org/%7Bf46cb153-67ac-4b73-9d1e-29d86cbeffbd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/64245a44b10ce579a3914909c934ff5ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBK-0.png"}}, "nickname": "BalazsKollar", "type": "user", "account_id": "557058:9d3ad5bc-8e33-42d9-8435-aee93fa8f8b8"}, "updated_on": null, "type": "issue_comment", "id": 37594675}], "page": 1, "size": 29}