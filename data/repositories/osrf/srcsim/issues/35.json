{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "links": {"attachments": {"href": "data/repositories/osrf/srcsim/issues/35/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/srcsim/issues/35.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/35/watch"}, "comments": {"href": "data/repositories/osrf/srcsim/issues/35/comments_page=1.json"}, "html": {"href": "#!/osrf/srcsim/issues/35/ihmc_ros-valkyrie-controller-not-accepting"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/35/vote"}}, "reporter": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "title": "/ihmc_ros/valkyrie/controller not accepting subscription to /ihmc_ros/valkyrie/control/head_trajectory", "component": null, "votes": 0, "watches": 2, "content": {"raw": "I've written a text node that publishes on /ihmc_ros/valkyrie/control/head_trajectory. The val/controller does not accept the subscription. \r\n\r\nHere is the list of running nodes with mine being mystic_head_move:\r\n\r\n```\r\n#!text\r\n\r\n$ rosnode list\r\n/controller_manager_MysticLakeLinux_9224_8307289082608706015\r\n/controller_spawner_MysticLakeLinux_8149_8811680935568111843\r\n/gazebo\r\n/ihmc_ros/valkyrie\r\n/ihmc_ros/valkyrie/controller\r\n/ihmc_ros/valkyrie/robot_data\r\n/multisense/camera/stereo_proc\r\n/multisense_points2_color_relay\r\n/multisense_points2_relay\r\n/mystic_head_move\r\n/robot_state_publisher\r\n/rosout\r\n/rostopic_16542_1480483542955\r\n```\r\n\r\nThe rosnode information for my node:\r\n\r\n```\r\n#!text\r\n\r\n$ rosnode info /mystic_head_move\r\n\r\nNode [/mystic_head_move]\r\nPublications: \r\n * /rosout [rosgraph_msgs/Log]\r\n * /ihmc_ros/valkyrie/control/head_trajectory [ihmc_msgs/HeadTrajectoryRosMessage]\r\n\r\nSubscriptions: \r\n * /clock [rosgraph_msgs/Clock]\r\n\r\nServices: \r\n * /mystic_head_move/get_loggers\r\n * /mystic_head_move/set_logger_level\r\n\r\n\r\ncontacting node http://MysticLakeLinux:44042/ ...\r\nPid: 15515\r\nConnections:\r\n * topic: /rosout\r\n    * to: /rosout\r\n    * direction: outbound\r\n    * transport: TCPROS\r\n * topic: /ihmc_ros/valkyrie/control/head_trajectory\r\n    * to: /rostopic_16542_1480483542955\r\n    * direction: outbound\r\n    * transport: TCPROS\r\n * topic: /clock\r\n    * to: /gazebo (http://127.0.0.1:41924/)\r\n    * direction: inbound\r\n    * transport: TCPROS\r\n\r\n```\r\nElided node information for /ihmc_ros/valkyrie/controller:\r\n\r\n```\r\n#!text\r\n\r\n$ rosnode info /ihmc_ros/valkyrie/controller\r\n ...\r\n Subscriptions: \r\n ...\r\n * /ihmc_ros/valkyrie/control/head_trajectory [ihmc_msgs/HeadTrajectoryRosMessage]\r\n ...\r\n  * topic: /ihmc_ros/valkyrie/control/head_trajectory\r\n    * to: /ihmc_ros/valkyrie (http://127.0.0.1:34233/)\r\n    * direction: inbound\r\n    * transport: TCPROS\r\n\r\n```\r\n\r\nElided node information for /ihmc_ros/valkyrie:\r\n\r\n```\r\n#!text\r\n\r\n$ rosnode info /ihmc_ros/valkyrie\r\n\r\nPublications: \r\n...\r\n* /ihmc_ros/valkyrie/control/head_trajectory [ihmc_msgs/HeadTrajectoryRosMessage]\r\n...\r\n\r\n...\r\n * topic: /ihmc_ros/valkyrie/control/head_trajectory\r\n    * to: /rostopic_16542_1480483542955\r\n    * direction: outbound\r\n    * transport: TCPROS\r\n * topic: /ihmc_ros/valkyrie/control/head_trajectory\r\n    * to: /rostopic_11003_1480474824844\r\n    * direction: outbound\r\n    * transport: TCPROS\r\n\r\n```\r\n\r\nWhen I run rostopic echo it subscribes to both mystic_head_move and /ihmc_ros/valkyrie which indicates my node is correctly advertising the subscription. Rostopic displays the data my node sends.", "markup": "markdown", "html": "<p>I've written a text node that publishes on /ihmc_ros/valkyrie/control/head_trajectory. The val/controller does not accept the subscription. </p>\n<p>Here is the list of running nodes with mine being mystic_head_move:</p>\n<div class=\"codehilite language-text\"><pre><span></span>$ rosnode list\n/controller_manager_MysticLakeLinux_9224_8307289082608706015\n/controller_spawner_MysticLakeLinux_8149_8811680935568111843\n/gazebo\n/ihmc_ros/valkyrie\n/ihmc_ros/valkyrie/controller\n/ihmc_ros/valkyrie/robot_data\n/multisense/camera/stereo_proc\n/multisense_points2_color_relay\n/multisense_points2_relay\n/mystic_head_move\n/robot_state_publisher\n/rosout\n/rostopic_16542_1480483542955\n</pre></div>\n\n\n<p>The rosnode information for my node:</p>\n<div class=\"codehilite language-text\"><pre><span></span>$ rosnode info /mystic_head_move\n\nNode [/mystic_head_move]\nPublications: \n * /rosout [rosgraph_msgs/Log]\n * /ihmc_ros/valkyrie/control/head_trajectory [ihmc_msgs/HeadTrajectoryRosMessage]\n\nSubscriptions: \n * /clock [rosgraph_msgs/Clock]\n\nServices: \n * /mystic_head_move/get_loggers\n * /mystic_head_move/set_logger_level\n\n\ncontacting node http://MysticLakeLinux:44042/ ...\nPid: 15515\nConnections:\n * topic: /rosout\n    * to: /rosout\n    * direction: outbound\n    * transport: TCPROS\n * topic: /ihmc_ros/valkyrie/control/head_trajectory\n    * to: /rostopic_16542_1480483542955\n    * direction: outbound\n    * transport: TCPROS\n * topic: /clock\n    * to: /gazebo (http://127.0.0.1:41924/)\n    * direction: inbound\n    * transport: TCPROS\n</pre></div>\n\n\n<p>Elided node information for /ihmc_ros/valkyrie/controller:</p>\n<div class=\"codehilite language-text\"><pre><span></span>$ rosnode info /ihmc_ros/valkyrie/controller\n ...\n Subscriptions: \n ...\n * /ihmc_ros/valkyrie/control/head_trajectory [ihmc_msgs/HeadTrajectoryRosMessage]\n ...\n  * topic: /ihmc_ros/valkyrie/control/head_trajectory\n    * to: /ihmc_ros/valkyrie (http://127.0.0.1:34233/)\n    * direction: inbound\n    * transport: TCPROS\n</pre></div>\n\n\n<p>Elided node information for /ihmc_ros/valkyrie:</p>\n<div class=\"codehilite language-text\"><pre><span></span>$ rosnode info /ihmc_ros/valkyrie\n\nPublications: \n...\n* /ihmc_ros/valkyrie/control/head_trajectory [ihmc_msgs/HeadTrajectoryRosMessage]\n...\n\n...\n * topic: /ihmc_ros/valkyrie/control/head_trajectory\n    * to: /rostopic_16542_1480483542955\n    * direction: outbound\n    * transport: TCPROS\n * topic: /ihmc_ros/valkyrie/control/head_trajectory\n    * to: /rostopic_11003_1480474824844\n    * direction: outbound\n    * transport: TCPROS\n</pre></div>\n\n\n<p>When I run rostopic echo it subscribes to both mystic_head_move and /ihmc_ros/valkyrie which indicates my node is correctly advertising the subscription. Rostopic displays the data my node sends.</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2016-11-30T06:28:33.946766+00:00", "milestone": null, "updated_on": "2017-02-27T09:38:34.884141+00:00", "type": "issue", "id": 35}