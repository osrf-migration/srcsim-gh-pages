{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "links": {"attachments": {"href": "data/repositories/osrf/srcsim/issues/30/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/srcsim/issues/30.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/30/watch"}, "comments": {"href": "data/repositories/osrf/srcsim/issues/30/comments_page=1.json"}, "html": {"href": "#!/osrf/srcsim/issues/30/lidar-time_increment-always-zero"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/30/vote"}}, "reporter": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "title": "Lidar time_increment always zero", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The following command returns the results shown:\r\n\r\n\r\n```\r\n#!c++\r\n\r\nrostopic echo -c --noarr /multisense/lidar_scan\r\n\r\nheader: \r\nseq: 17230\r\nstamp: \r\nsecs: 451\r\nnsecs: 831000000\r\nframe_id: head_hokuyo_frame\r\nangle_min: -2.3561899662\r\nangle_max: 2.3561899662\r\nangle_increment: 0.00436331471428\r\ntime_increment: 0.0\r\nscan_time: 0.0\r\nrange_min: 0.10000000149\r\nrange_max: 30.0\r\n---\r\n```\r\nThe time_increment field is always 0.0. The lidar is spinning in Gazebo. \r\n\r\nI believe this causes the lidar output to always appear in a horizontal plane after processing with laser_assembler instead of the expected 3d image. Without the time_increment the incline of the lidar can not be calculated using the angle_increment.\r\n\r\nA caveat is I changed the valkyrie_sim_gazebo_sync.urdf file to use \"ray\" and not \"gpu_ray\" since while my system has an Intel GPU it's not being used for some reason. \r\n\r\n```\r\n#!base\r\n\r\nUbuntu 14.04 LTS\r\n```\r\n", "markup": "markdown", "html": "<p>The following command returns the results shown:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">rostopic</span> <span class=\"n\">echo</span> <span class=\"o\">-</span><span class=\"n\">c</span> <span class=\"o\">--</span><span class=\"n\">noarr</span> <span class=\"o\">/</span><span class=\"n\">multisense</span><span class=\"o\">/</span><span class=\"n\">lidar_scan</span>\n\n<span class=\"nl\">header</span><span class=\"p\">:</span> \n<span class=\"nl\">seq</span><span class=\"p\">:</span> <span class=\"mi\">17230</span>\n<span class=\"nl\">stamp</span><span class=\"p\">:</span> \n<span class=\"nl\">secs</span><span class=\"p\">:</span> <span class=\"mi\">451</span>\n<span class=\"nl\">nsecs</span><span class=\"p\">:</span> <span class=\"mi\">831000000</span>\n<span class=\"nl\">frame_id</span><span class=\"p\">:</span> <span class=\"n\">head_hokuyo_frame</span>\n<span class=\"nl\">angle_min</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"mf\">2.3561899662</span>\n<span class=\"nl\">angle_max</span><span class=\"p\">:</span> <span class=\"mf\">2.3561899662</span>\n<span class=\"nl\">angle_increment</span><span class=\"p\">:</span> <span class=\"mf\">0.00436331471428</span>\n<span class=\"nl\">time_increment</span><span class=\"p\">:</span> <span class=\"mf\">0.0</span>\n<span class=\"nl\">scan_time</span><span class=\"p\">:</span> <span class=\"mf\">0.0</span>\n<span class=\"nl\">range_min</span><span class=\"p\">:</span> <span class=\"mf\">0.10000000149</span>\n<span class=\"nl\">range_max</span><span class=\"p\">:</span> <span class=\"mf\">30.0</span>\n<span class=\"o\">---</span>\n</pre></div>\n\n\n<p>The time_increment field is always 0.0. The lidar is spinning in Gazebo. </p>\n<p>I believe this causes the lidar output to always appear in a horizontal plane after processing with laser_assembler instead of the expected 3d image. Without the time_increment the incline of the lidar can not be calculated using the angle_increment.</p>\n<p>A caveat is I changed the valkyrie_sim_gazebo_sync.urdf file to use \"ray\" and not \"gpu_ray\" since while my system has an Intel GPU it's not being used for some reason. </p>\n<div class=\"codehilite language-base\"><pre><span></span>Ubuntu 14.04 LTS\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "duplicate", "version": null, "edited_on": null, "created_on": "2016-11-24T04:25:35.390737+00:00", "milestone": null, "updated_on": "2016-11-28T19:47:06.062280+00:00", "type": "issue", "id": 30}