{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "links": {"attachments": {"href": "data/repositories/osrf/srcsim/issues/223/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/srcsim/issues/223.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/223/watch"}, "comments": {"href": "data/repositories/osrf/srcsim/issues/223/comments_page=1.json"}, "html": {"href": "#!/osrf/srcsim/issues/223/building-docker-from-private-repo"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/223/vote"}}, "reporter": {"display_name": "Tyler Frasca", "uuid": "{ca580efe-cf6a-41bc-8ad2-c98164ba2429}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bca580efe-cf6a-41bc-8ad2-c98164ba2429%7D"}, "html": {"href": "https://bitbucket.org/%7Bca580efe-cf6a-41bc-8ad2-c98164ba2429%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/654ac1d15ac44e99fc460edd2880f234d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTF-2.png"}}, "nickname": "tmfrasca5", "type": "user", "account_id": "557058:78b06f86-6933-4c74-bdde-fae32b4f1095"}, "title": "building Docker from private repo", "component": {"name": "cloud", "links": {"self": {"href": "data/repositories/osrf/srcsim/components/395697.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Hi, locally I can clone my private repository and then build it with: \r\n```\r\neval \"$(ssh-agent -s)\"\r\nssh-add <private key path>\r\nssh-keyscan github.com >> ~/.ssh/known_hosts\r\ngit clone git@github.com:<user>/<repo>.git\r\ncd <repo>\r\nsudo docker build -t field_comp .\r\n```\r\nBut, I am having issues locally building the docker directly from the private repo. \r\n```\r\neval \"$(ssh-agent -s)\"\r\nssh-add <private key path>\r\nssh-keyscan github.com >> ~/.ssh/known_hosts\r\n\r\nsudo docker build -t fc git@github.com:<user>/<repo>.git\r\n\r\n\r\n```\r\n\r\nI get this error:\r\n``` \r\nunable to prepare context: unable to 'git clone' to temporary context directory: Error trying to use git: exit status 128 (Cloning into '/tmp/docker-build-git358219479'...\r\nPermission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\n)\r\n\r\n```\r\nThus I am not able build my docker on the cloud.\r\nAny help would be greatly appreciated.", "markup": "markdown", "html": "<p>Hi, locally I can clone my private repository and then build it with: </p>\n<div class=\"codehilite\"><pre><span></span>eval &quot;$(ssh-agent -s)&quot;\nssh-add &lt;private key path&gt;\nssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts\ngit clone git@github.com:&lt;user&gt;/&lt;repo&gt;.git\ncd &lt;repo&gt;\nsudo docker build -t field_comp .\n</pre></div>\n\n\n<p>But, I am having issues locally building the docker directly from the private repo. </p>\n<div class=\"codehilite\"><pre><span></span>eval &quot;$(ssh-agent -s)&quot;\nssh-add &lt;private key path&gt;\nssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts\n\nsudo docker build -t fc git@github.com:&lt;user&gt;/&lt;repo&gt;.git\n</pre></div>\n\n\n<p>I get this error:</p>\n<div class=\"codehilite\"><pre><span></span>unable to prepare context: unable to &#39;git clone&#39; to temporary context directory: Error trying to use git: exit status 128 (Cloning into &#39;/tmp/docker-build-git358219479&#39;...\nPermission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n)\n</pre></div>\n\n\n<p>Thus I am not able build my docker on the cloud.\nAny help would be greatly appreciated.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-06-06T15:31:40.288498+00:00", "milestone": null, "updated_on": "2017-06-06T19:26:56.409917+00:00", "type": "issue", "id": 223}