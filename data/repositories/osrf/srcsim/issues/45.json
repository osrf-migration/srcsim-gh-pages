{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "links": {"attachments": {"href": "data/repositories/osrf/srcsim/issues/45/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/srcsim/issues/45.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/45/watch"}, "comments": {"href": "data/repositories/osrf/srcsim/issues/45/comments_page=1.json"}, "html": {"href": "#!/osrf/srcsim/issues/45/valkyrie-falling-to-ground-due-to-java"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/45/vote"}}, "reporter": {"display_name": "Jake Webster", "uuid": "{55594672-3036-4e46-bb6a-e5d87d14dc07}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B55594672-3036-4e46-bb6a-e5d87d14dc07%7D"}, "html": {"href": "https://bitbucket.org/%7B55594672-3036-4e46-bb6a-e5d87d14dc07%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/073b101633e14f2088178e994cfd00a4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJW-1.png"}}, "nickname": "TopGunSnake", "type": "user", "account_id": "557058:2f81b13f-3472-4a32-aed3-7d87bfa24a62"}, "title": "Valkyrie Falling to Ground due to Java Exceptions", "component": null, "votes": 0, "watches": 0, "content": {"raw": "The robot is falling to ground, seemingly after seeing an exception from java.io:\r\n\r\n\r\n```\r\n#!\r\n\r\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\r\nWARNING: Failed to accept a connection.\r\njava.io.IOException: Too many open files\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\r\n\tat org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\r\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0x5539fe9d] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\r\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\r\n\tat org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\r\n\tat org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\r\n\tat org.jboss.netty.channel.Channels.connect(Channels.java:642)\r\n\tat org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\r\n\tat org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\r\n\tat org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManaa:69)av\r\n\tat org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\r\n\tat org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\r\n\t... 13 more\r\nCaused by: java.io.IOException: Too many open files\r\n\tat sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\r\n\tat sun.nio.ch.EPollArrayWrapper.<init>(EPollArrayWrapper.java:130)\r\n\tat sun.nio.ch.EPollSelectorImpl.<init>(EPollSelectorImpl.java:69)\r\n\tat sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\r\n\tat java.nio.channels.Selector.open(Selector.java:227)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\r\n\t... 14 more\r\n\r\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\r\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0xfabf3c0b] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\r\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\r\n\tat org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\r\n\tat org.jboss.nettyr.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\r\n\tat org.jboss.netty.channel.Channels.connect(Channels.java:642)\r\n\tat org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\r\n\tat org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\r\n\tat org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManager.java:69)\r\n\tat org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\r\n\tat org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\r\n\t... 13 more\r\nCaused by: java.io.IOException: Too many open files\r\n\tat sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\r\n\tat sun.nio.ch.EPollArrayWrapper.<init>(EPollArrayWrapper.java:130)\r\n\tat sun.nio.ch.EPollSelectorImpl.<init>(EPollSelectorImpl.java:69)\r\n\tat sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\r\n\tat java.nio.channels.Selector.open(Selector.java:227)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\r\n\t... 14 more\r\n\r\nIHMC ROS API node successfully started.\r\n\r\n```\r\n\r\nI manually released the robot for this, giving ample time for the controller to come online. I have not manipulated the sleeps that occur earlier, though.\r\n\r\nAlso, I have yet to have a clean exit for either task.\r\n\r\nSystem is Ubuntu 14.04.5 LTS, with 2x 6-core Intel Xeon, 64GB Ram.\r\n\r\nFull console output is below:\r\n\r\n\r\n```\r\n#!\r\n\r\njake@ubuntu-SER3040:~$ roslaunch srcsim qual2.launch\r\n... logging to /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/roslaunch-ubuntu-SER3040-2998.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\nstarted roslaunch server http://127.0.0.1:39060/\r\n\r\nSUMMARY\r\n========\r\n\r\nPARAMETERS\r\n * /ihmc_ros/robot_name: valkyrie\r\n * /ihmc_ros/valkyrie/left_arm_joint_names: ['leftShoulderPit...\r\n * /ihmc_ros/valkyrie/left_foot_frame_name: leftFoot\r\n * /ihmc_ros/valkyrie/right_arm_joint_names: ['rightShoulderPi...\r\n * /ihmc_ros/valkyrie/right_foot_frame_name: rightFoot\r\n * /ihmc_valkyrie_control_java_bridge/jvm_args: -Djava.class.path...\r\n * /ihmc_valkyrie_control_java_bridge/main_class: us.ihmc.valkyrieR...\r\n * /ihmc_valkyrie_control_java_bridge/type: ihmc_ros_control/...\r\n * /ihmc_valkyrie_control_java_bridge/working_dir: /home/jake/valkyrie\r\n * /joint_state_controller/publish_rate: 50\r\n * /joint_state_controller/type: joint_state_contr...\r\n * /robot_description: <?xml version=\"1....\r\n * /rosdistro: indigo\r\n * /rosversion: 1.11.20\r\n * /use_sim_time: True\r\n * /valkyrie/robot_description: <?xml version=\"1....\r\n\r\nNODES\r\n  /\r\n    IHMCValkyrieROSAPI (ihmc_ros_java_adapter/gradlew)\r\n    control_py_ubuntu_SER3040_2998_3691283938542798629 (robonet_tools/control)\r\n    controller_manager_ubuntu_SER3040_2998_439239008329951092 (val_deploy/delayed_roslaunch.sh)\r\n    controller_spawner_ubuntu_SER3040_2998_2114081573183867240 (controller_manager/spawner)\r\n    gazebo (gazebo_ros/gzserver)\r\n    gazebo_gui (gazebo_ros/gzclient)\r\n    robot_state_publisher (robot_state_publisher/state_publisher)\r\n    smtcore_ubuntu_SER3040_2998_714146815997592256 (shared_memory_transport/smtcore)\r\n    urdf_spawner_ubuntu_SER3040_2998_6216829015108794449 (val_deploy/delayed_roslaunch.sh)\r\n\r\nauto-starting new master\r\nprocess[master]: started with pid [3010]\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\nsetting /run_id to 78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6\r\nprocess[rosout-1]: started with pid [3023]\r\nstarted core service [/rosout]\r\nprocess[smtcore_ubuntu_SER3040_2998_714146815997592256-2]: started with pid [3026]\r\nprocess[control_py_ubuntu_SER3040_2998_3691283938542798629-3]: started with pid [3031]\r\nprocess[controller_manager_ubuntu_SER3040_2998_439239008329951092-4]: started with pid [3046]\r\ndelaying: 4 seconds\r\nprocess[gazebo-5]: started with pid [3051]\r\nprocess[gazebo_gui-6]: started with pid [3055]\r\nprocess[urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7]: started with pid [3059]\r\ndelaying: 6 seconds\r\nprocess[robot_state_publisher-8]: started with pid [3061]\r\nprocess[IHMCValkyrieROSAPI-9]: started with pid [3066]\r\nLog file /home/jake/.log already exists, proceeding...\r\nprocess[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10]: started with pid [3083]\r\nLog file /home/jake/.log already exists, proceeding...\r\nGazebo multi-robot simulator, version 7.4.0\r\nCopyright (C) 2012-2016 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n[ INFO] [1481572762.165274724]: Finished loading Gazebo ROS API Plugin.\r\n[ INFO] [1481572762.165423319]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\r\n[Msg] Waiting for master.\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 10.115.103.231\r\n[INFO] [WallTime: 1481572762.297258] [0.000000] Controller Spawner: Waiting for service controller_manager/load_controller\r\n[ INFO] [1481572762.885653917, 0.023000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\r\n[ INFO] [1481572762.918781724, 0.055000000]: Physics dynamic reconfigure ready.\r\n:buildSrc:compileJava UP-TO-DATE\r\n:buildSrc:compileGroovy UP-TO-DATE\r\n:buildSrc:processResources UP-TO-DATE\r\n:buildSrc:classes UP-TO-DATE\r\n:buildSrc:jar UP-TO-DATE\r\n:buildSrc:assemble UP-TO-DATE\r\n:buildSrc:compileTestJava UP-TO-DATE\r\n:buildSrc:compileTestGroovy UP-TO-DATE\r\n:buildSrc:processTestResources UP-TO-DATE\r\n:buildSrc:testClasses UP-TO-DATE\r\n:buildSrc:test UP-TO-DATE\r\n:buildSrc:check UP-TO-DATE\r\n:buildSrc:build UP-TO-DATE\r\n> Loading > buildSrcstarting: roslaunch val_deploy val_control_sim.launch controller_manager_looprate:=500 __name:=controller_manager_ubuntu_SER3040_2998_439239008329951092 __log:=/home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/controller_manager_ubuntu_SER3040_2998_439239008329951092-4.log\r\nConfiguring > 0/1 projects > root project... logging to /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/roslaunch-ubuntu-SER3040-3528.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\n > Resolving dependencies ':ros'started roslaunch server http://127.0.0.1:33391/\r\n\r\nSUMMARY\r\n========\r\n\r\nPARAMETERS\r\n * /rosdistro: indigo\r\n * /rosversion: 1.11.20\r\n\r\nNODES\r\n  /\r\n    controller_manager_ubuntu_SER3040_3528_4851789448662283063 (val_controller_manager_rtt/controller_exec)\r\n\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\ncore service [/rosout] found\r\nprocess[controller_manager_ubuntu_SER3040_3528_4851789448662283063-1]: started with pid [3560]\r\n2016-12-12 13:59:27 localhost ncl_cpp: [NOTICE  ] [gov.nasa.HardwareInterface.makeHandle] Robot Hardware has Initialized. Ready to start loading Controllers. \r\n\r\n:parseYaml UP-TO-DATE\r\n> Building 50% > :runJavaDelegate[INFO] [WallTime: 1481572767.446933] [4.541000] Controller Spawner: Waiting for service controller_manager/switch_controller\r\n[INFO] [WallTime: 1481572767.448643] [4.543000] Controller Spawner: Waiting for service controller_manager/unload_controller\r\n[INFO] [WallTime: 1481572767.449839] [4.544000] Loading controller: ihmc_valkyrie_control_java_bridge\r\n[ INFO] [1481572767.507931292, 4.598000000]: Starting JVM with arguments: -Djava.class.path=ValkyrieController.jar -XX:+UseSerialGC -Xmx4g -Xms4g -XX:NewSize=3g -XX:MaxNewSize=3g -XX:CompileThreshold=1000 -verbosegc -Djava.library.path=lib/\r\nStarting Java VM from path  /home/jake/valkyrie\r\nStarted Java VM: success\r\nstarting: roslaunch val_gazebo spawn_urdf_model_from_robot_description.launch modelName:=valkyrie zOffset:=1.25 __name:=urdf_spawner_ubuntu_SER3040_2998_6216829015108794449 __log:=/home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7.log\r\n... logging to /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/roslaunch-ubuntu-SER3040-3776.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\n:runJavaDelegate\r\nLoading robot model from: 'models/val_description/sdf/valkyrie_sim.sdf'\r\n> Building 50% > :runJavaDelegatestarted roslaunch server http://127.0.0.1:45144/\r\n\r\nSUMMARY\r\n========\r\n\r\nPARAMETERS\r\n * /rosdistro: indigo\r\n * /rosversion: 1.11.20\r\n\r\nNODES\r\n  /\r\n    urdf_spawner (gazebo_ros/spawn_model)\r\n\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\ncore service [/rosout] found\r\nprocess[urdf_spawner-1]: started with pid [3801]\r\n[ INFO] [1481572768.255137537, 5.329000000]: Loading robot model from: 'models/val_description/sdf/valkyrie_sim.sdf'\r\nspawn_model script started\r\n[INFO] [WallTime: 1481572768.558385] [0.000000] Loading model xml from ros parameter\r\n[INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\r\n[INFO] (NetworkParameters.java:42): Found Network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\r\n[INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\r\n[INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\r\n> Building 50% > :runJavaDelegate[INFO] [WallTime: 1481572768.591526] [5.651000] Waiting for service /gazebo/spawn_urdf_model\r\n[INFO] [WallTime: 1481572768.593791] [5.657000] Calling service /gazebo/spawn_urdf_model\r\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\r\nConnecting to controller using TCP on localhost\r\n[WARN] YoVariable: desiredMomentumRateLinearX is getting created with a null registry\r\n[WARN] YoVariable: desiredMomentumRateLinearY is getting created with a null registry\r\n[WARN] YoVariable: desiredMomentumRateLinearZ is getting created with a null registry\r\n[WARN] YoVariable: achievedMomentumRateLinearX is getting created with a null registry\r\n[WARN] YoVariable: achievedMomentumRateLinearY is getting created with a null registry\r\n[WARN] YoVariable: achievedMomentumRateLinearZ is getting created with a null registry\r\n[WARN] YoVariable: residualRootJointForceX is getting created with a null registry\r\n[WARN] YoVariable: residualRootJointForceY is getting created with a null registry\r\n[WARN] YoVariable: residualRootJointForceZ is getting created with a null registry\r\n[WARN] YoVariable: residualRootJointTorqueX is getting created with a null registry\r\n[WARN] YoVariable: residualRootJointTorqueY is getting created with a null registry\r\n[WARN] YoVariable: residualRootJointTorqueZ is getting created with a null registry\r\n> Building 50% > :runJavaDelegate[ INFO] [1481572769.857131033, 5.895000000]: Camera Plugin (robotNamespace = /), Info: Using the 'robotNamespace' param: '/'\r\n[ INFO] [1481572769.857325751, 5.895000000]: Camera Plugin (robotNamespace = /), Info: Using the 'robotNamespace' param: '/'\r\n[ INFO] [1481572769.862813588, 5.895000000]: Camera Plugin (ns = /)  <tf_prefix_>, set to \"\"\r\n[ INFO] [1481572769.862870849, 5.895000000]: Camera Plugin (ns = /)  <tf_prefix_>, set to \"\"\r\n[ INFO] [1481572769.890773329, 5.895000000]: Laser Plugin (robotNamespace = /), Info: Using the 'robotNamespace' param: '/'\r\n[ INFO] [1481572769.891065047, 5.895000000]: Starting GazeboRosLaser Plugin (ns = /)!\r\n[ INFO] [1481572769.907805518, 5.895000000]: GPU Laser Plugin (ns = /) <tf_prefix_>, set to \"\"\r\n[ INFO] [1481572769.909212119, 5.895000000]: LoadThread function completed\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[gpu_ray] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\r\n[INFO] [WallTime: 1481572769.934357] [5.895000] Spawn status: SpawnModel: Successfully spawned model\r\n[ INFO] [1481572769.978897229, 5.895000000]: [INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /home/jake/.ihmc/IHMCNetworkParameters.ini\r\n[ INFO] [1481572769.979183166, 5.895000000]: [INFO] (NetworkParameters.java:42): Found Network parameters file at /home/jake/.ihmc/IHMCNetworkParameters.ini\r\n[ INFO] [1481572769.979695341, 5.895000000]: [INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\r\n[ INFO] [1481572769.979905384, 5.895000000]: [INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\r\n[Wrn] [ColladaLoader.cc:1461] Polylist input semantic: 'COLOR' is currently not supported\r\nAttaching native thread 4040 with priority 45 to JVM\r\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\r\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN Please initialize the log4j system properly.\r\n> Building 50% > :runJavaDelegate[urdf_spawner-1] process has finished cleanly\r\nlog file: /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/urdf_spawner-1*.log\r\nall processes on machine have died, roslaunch will exit\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\r\n[ INFO] [1481572770.275981100, 5.895000000]: SharedMemoryInterfacePlugin: Loading\r\n2016-12-12 13:59:30 localhost ncl_cpp: [ERROR   ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Possibly missing an api or node tag from one or more imu sensors\r\n2016-12-12 13:59:30 localhost ncl_cpp: [WARN    ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Imu sensor head_imu_sensor doesn't have <imuTransform> tag. It is likely that the data you receive from this sensor will be incorrect.\r\nshutting down processing monitor...\r\n... shutting down processing monitor complete\r\ndone\r\n[ INFO] [1481572770.379702191, 5.895000000]: SharedMemorySimInterfacePlugin: Loading complete!\r\n[urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7] process has finished cleanly\r\nlog file: /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7*.log\r\n[ INFO] [1481572770.538365761, 5.895000000]: Looking for forceSensorDefinition leftAnkleRoll\r\n[ INFO] [1481572770.554277844, 5.895000000]: Looking for forceSensorDefinition rightAnkleRoll\r\n[ INFO] [1481572770.708996273, 5.895000000]: imu plugin missing <frameName>, defaults to <bodyName>\r\n[ INFO] [1481572770.709246552, 5.895000000]: imu plugin missing <frameName>, defaults to <bodyName>\r\n[ INFO] [1481572770.709852481, 5.895000000]: imu plugin missing <frameName>, defaults to <bodyName>\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[gpu_ray] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\r\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\r\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\r\nWARNING: Failed to accept a connection.\r\njava.io.IOException: Too many open files\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\r\n\tat org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\r\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0x5539fe9d] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\r\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\r\n\tat org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\r\n\tat org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\r\n\tat org.jboss.netty.channel.Channels.connect(Channels.java:642)\r\n\tat org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\r\n\tat org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\r\n\tat org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManaa:69)av\r\n\tat org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\r\n\tat org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\r\n\t... 13 more\r\nCaused by: java.io.IOException: Too many open files\r\n\tat sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\r\n\tat sun.nio.ch.EPollArrayWrapper.<init>(EPollArrayWrapper.java:130)\r\n\tat sun.nio.ch.EPollSelectorImpl.<init>(EPollSelectorImpl.java:69)\r\n\tat sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\r\n\tat java.nio.channels.Selector.open(Selector.java:227)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\r\n\t... 14 more\r\n\r\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\r\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0xfabf3c0b] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\r\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\r\n\tat org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\r\n\tat org.jboss.nettyr.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\r\n\tat org.jboss.netty.channel.Channels.connect(Channels.java:642)\r\n\tat org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\r\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\r\n\tat org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\r\n\tat org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManager.java:69)\r\n\tat org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\r\n\tat org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\r\n\t... 13 more\r\nCaused by: java.io.IOException: Too many open files\r\n\tat sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\r\n\tat sun.nio.ch.EPollArrayWrapper.<init>(EPollArrayWrapper.java:130)\r\n\tat sun.nio.ch.EPollSelectorImpl.<init>(EPollSelectorImpl.java:69)\r\n\tat sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\r\n\tat java.nio.channels.Selector.open(Selector.java:227)\r\n\tat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\r\n\t... 14 more\r\n\r\nIHMC ROS API node successfully started.\r\n> Building 50% > :runJavaDelegate[ INFO] [1481572772.168378793, 6.341000000]: IMUBasedPelvisRotationalStateUpdater: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\r\n[ INFO] [1481572772.201945397, 6.353000000]: PelvisIMUBasedLinearStateCalculator: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\r\nAttaching native thread 5717 with priority 45 to JVM\r\n[ INFO] [1481572773.801883287, 6.872000000]: [INFO] (LogSessionBroadcaster.java:66): Announcing logging session on: name:lo (lo)\r\n[ INFO] [1481572773.851369761, 6.886000000]: [INFO] (LogSessionBroadcaster.java:307): Trying port 56352\r\n[INFO] (KryoObjectClient.java:130): Success! Connected KryoClient to SCS at ip localhost/127.0.0.1 on port 4895\r\n> Building 50% > :runJavaDelegateAttaching native thread 5795 with priority 40 to JVM\r\n[ INFO] [1481572779.279435942, 8.571000000]: [INFO] (ValkyrieRosControlController.java:307): Running with blocking synchronous execution between estimator and controller\r\n[INFO] [WallTime: 1481572779.581023] [8.648000] Controller Spawner: Loaded controllers: ihmc_valkyrie_control_java_bridge\r\n[INFO] [WallTime: 1481572779.980936] [8.748000] Started controllers: ihmc_valkyrie_control_java_bridge\r\n^C[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10] killing on exit\r\n[IHMCValkyrieROSAPI-9] killing on exit\r\n[INFO] [WallTime: 1481573269.276942] [143.391000] Shutting down spawner. Stopping and unloading controllers...\r\n[robot_state_publisher-8] killing on exit\r\n[gazebo_gui-6] killing on exit\r\n[gazebo-5] killing on exit\r\n[controller_manager_ubuntu_SER3040_2998_439239008329951092-4] killing on exit\r\n[control_py_ubuntu_SER3040_2998_3691283938542798629-3] killing on exit\r\n[smtcore_ubuntu_SER3040_2998_714146815997592256-2] killing on exit\r\n[controller_manager_ubuntu_SER3040_3528_4851789448662283063-1] killing on exit\r\n2016-12-12 14:07:49 localhost ncl_cpp: [FATAL   ] [gov.nasa.ControllerExec.ORO_main] Controller manager has stopped running! Stopping controller exec.\r\nterminate called after throwing an instance of 'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >'\r\n  what():  boost: mutex lock failed in pthread_mutex_lock: Invalid argument\r\nshutting down processing monitor...\r\n... shutting down processing monitor complete\r\ndone\r\n[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10] escalating to SIGTERM\r\n[gazebo-5] escalating to SIGTERM\r\n[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10] escalating to SIGKILL\r\n[rosout-1] killing on exit\r\n[master] killing on exit\r\nShutdown errors:\r\n * process[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10, pid 3083]: required SIGKILL. May still be running.\r\nshutting down processing monitor...\r\n... shutting down processing monitor complete\r\ndone\r\njake@ubuntu-SER3040:~$ \r\n\r\n```\r\n", "markup": "markdown", "html": "<p>The robot is falling to ground, seemingly after seeing an exception from java.io:</p>\n<div class=\"codehilite\"><pre><span></span>Dec 12, 2016 1:59:30 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\nWARNING: Failed to accept a connection.\njava.io.IOException: Too many open files\n    at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\n    at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0x5539fe9d] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\n    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\n    at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\n    at org.jboss.netty.channel.Channels.connect(Channels.java:642)\n    at org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\n    at org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\n    at org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManaa:69)av\n    at org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\n    at org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\n    ... 13 more\nCaused by: java.io.IOException: Too many open files\n    at sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\n    at sun.nio.ch.EPollArrayWrapper.&lt;init&gt;(EPollArrayWrapper.java:130)\n    at sun.nio.ch.EPollSelectorImpl.&lt;init&gt;(EPollSelectorImpl.java:69)\n    at sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\n    at java.nio.channels.Selector.open(Selector.java:227)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\n    ... 14 more\n\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0xfabf3c0b] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\n    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\n    at org.jboss.nettyr.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\n    at org.jboss.netty.channel.Channels.connect(Channels.java:642)\n    at org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\n    at org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\n    at org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManager.java:69)\n    at org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\n    at org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\n    ... 13 more\nCaused by: java.io.IOException: Too many open files\n    at sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\n    at sun.nio.ch.EPollArrayWrapper.&lt;init&gt;(EPollArrayWrapper.java:130)\n    at sun.nio.ch.EPollSelectorImpl.&lt;init&gt;(EPollSelectorImpl.java:69)\n    at sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\n    at java.nio.channels.Selector.open(Selector.java:227)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\n    ... 14 more\n\nIHMC ROS API node successfully started.\n</pre></div>\n\n\n<p>I manually released the robot for this, giving ample time for the controller to come online. I have not manipulated the sleeps that occur earlier, though.</p>\n<p>Also, I have yet to have a clean exit for either task.</p>\n<p>System is Ubuntu 14.04.5 LTS, with 2x 6-core Intel Xeon, 64GB Ram.</p>\n<p>Full console output is below:</p>\n<div class=\"codehilite\"><pre><span></span>jake@ubuntu-SER3040:~$ roslaunch srcsim qual2.launch\n... logging to /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/roslaunch-ubuntu-SER3040-2998.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\nstarted roslaunch server http://127.0.0.1:39060/\n\nSUMMARY\n========\n\nPARAMETERS\n * /ihmc_ros/robot_name: valkyrie\n * /ihmc_ros/valkyrie/left_arm_joint_names: [&#39;leftShoulderPit...\n * /ihmc_ros/valkyrie/left_foot_frame_name: leftFoot\n * /ihmc_ros/valkyrie/right_arm_joint_names: [&#39;rightShoulderPi...\n * /ihmc_ros/valkyrie/right_foot_frame_name: rightFoot\n * /ihmc_valkyrie_control_java_bridge/jvm_args: -Djava.class.path...\n * /ihmc_valkyrie_control_java_bridge/main_class: us.ihmc.valkyrieR...\n * /ihmc_valkyrie_control_java_bridge/type: ihmc_ros_control/...\n * /ihmc_valkyrie_control_java_bridge/working_dir: /home/jake/valkyrie\n * /joint_state_controller/publish_rate: 50\n * /joint_state_controller/type: joint_state_contr...\n * /robot_description: &lt;?xml version=&quot;1....\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n * /use_sim_time: True\n * /valkyrie/robot_description: &lt;?xml version=&quot;1....\n\nNODES\n  /\n    IHMCValkyrieROSAPI (ihmc_ros_java_adapter/gradlew)\n    control_py_ubuntu_SER3040_2998_3691283938542798629 (robonet_tools/control)\n    controller_manager_ubuntu_SER3040_2998_439239008329951092 (val_deploy/delayed_roslaunch.sh)\n    controller_spawner_ubuntu_SER3040_2998_2114081573183867240 (controller_manager/spawner)\n    gazebo (gazebo_ros/gzserver)\n    gazebo_gui (gazebo_ros/gzclient)\n    robot_state_publisher (robot_state_publisher/state_publisher)\n    smtcore_ubuntu_SER3040_2998_714146815997592256 (shared_memory_transport/smtcore)\n    urdf_spawner_ubuntu_SER3040_2998_6216829015108794449 (val_deploy/delayed_roslaunch.sh)\n\nauto-starting new master\nprocess[master]: started with pid [3010]\nROS_MASTER_URI=http://localhost:11311\n\nsetting /run_id to 78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6\nprocess[rosout-1]: started with pid [3023]\nstarted core service [/rosout]\nprocess[smtcore_ubuntu_SER3040_2998_714146815997592256-2]: started with pid [3026]\nprocess[control_py_ubuntu_SER3040_2998_3691283938542798629-3]: started with pid [3031]\nprocess[controller_manager_ubuntu_SER3040_2998_439239008329951092-4]: started with pid [3046]\ndelaying: 4 seconds\nprocess[gazebo-5]: started with pid [3051]\nprocess[gazebo_gui-6]: started with pid [3055]\nprocess[urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7]: started with pid [3059]\ndelaying: 6 seconds\nprocess[robot_state_publisher-8]: started with pid [3061]\nprocess[IHMCValkyrieROSAPI-9]: started with pid [3066]\nLog file /home/jake/.log already exists, proceeding...\nprocess[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10]: started with pid [3083]\nLog file /home/jake/.log already exists, proceeding...\nGazebo multi-robot simulator, version 7.4.0\nCopyright (C) 2012-2016 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[ INFO] [1481572762.165274724]: Finished loading Gazebo ROS API Plugin.\n[ INFO] [1481572762.165423319]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 10.115.103.231\n[INFO] [WallTime: 1481572762.297258] [0.000000] Controller Spawner: Waiting for service controller_manager/load_controller\n[ INFO] [1481572762.885653917, 0.023000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\n[ INFO] [1481572762.918781724, 0.055000000]: Physics dynamic reconfigure ready.\n:buildSrc:compileJava UP-TO-DATE\n:buildSrc:compileGroovy UP-TO-DATE\n:buildSrc:processResources UP-TO-DATE\n:buildSrc:classes UP-TO-DATE\n:buildSrc:jar UP-TO-DATE\n:buildSrc:assemble UP-TO-DATE\n:buildSrc:compileTestJava UP-TO-DATE\n:buildSrc:compileTestGroovy UP-TO-DATE\n:buildSrc:processTestResources UP-TO-DATE\n:buildSrc:testClasses UP-TO-DATE\n:buildSrc:test UP-TO-DATE\n:buildSrc:check UP-TO-DATE\n:buildSrc:build UP-TO-DATE\n&gt; Loading &gt; buildSrcstarting: roslaunch val_deploy val_control_sim.launch controller_manager_looprate:=500 __name:=controller_manager_ubuntu_SER3040_2998_439239008329951092 __log:=/home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/controller_manager_ubuntu_SER3040_2998_439239008329951092-4.log\nConfiguring &gt; 0/1 projects &gt; root project... logging to /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/roslaunch-ubuntu-SER3040-3528.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\n &gt; Resolving dependencies &#39;:ros&#39;started roslaunch server http://127.0.0.1:33391/\n\nSUMMARY\n========\n\nPARAMETERS\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n\nNODES\n  /\n    controller_manager_ubuntu_SER3040_3528_4851789448662283063 (val_controller_manager_rtt/controller_exec)\n\nROS_MASTER_URI=http://localhost:11311\n\ncore service [/rosout] found\nprocess[controller_manager_ubuntu_SER3040_3528_4851789448662283063-1]: started with pid [3560]\n2016-12-12 13:59:27 localhost ncl_cpp: [NOTICE  ] [gov.nasa.HardwareInterface.makeHandle] Robot Hardware has Initialized. Ready to start loading Controllers. \n\n:parseYaml UP-TO-DATE\n&gt; Building 50% &gt; :runJavaDelegate[INFO] [WallTime: 1481572767.446933] [4.541000] Controller Spawner: Waiting for service controller_manager/switch_controller\n[INFO] [WallTime: 1481572767.448643] [4.543000] Controller Spawner: Waiting for service controller_manager/unload_controller\n[INFO] [WallTime: 1481572767.449839] [4.544000] Loading controller: ihmc_valkyrie_control_java_bridge\n[ INFO] [1481572767.507931292, 4.598000000]: Starting JVM with arguments: -Djava.class.path=ValkyrieController.jar -XX:+UseSerialGC -Xmx4g -Xms4g -XX:NewSize=3g -XX:MaxNewSize=3g -XX:CompileThreshold=1000 -verbosegc -Djava.library.path=lib/\nStarting Java VM from path  /home/jake/valkyrie\nStarted Java VM: success\nstarting: roslaunch val_gazebo spawn_urdf_model_from_robot_description.launch modelName:=valkyrie zOffset:=1.25 __name:=urdf_spawner_ubuntu_SER3040_2998_6216829015108794449 __log:=/home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7.log\n... logging to /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/roslaunch-ubuntu-SER3040-3776.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\n:runJavaDelegate\nLoading robot model from: &#39;models/val_description/sdf/valkyrie_sim.sdf&#39;\n&gt; Building 50% &gt; :runJavaDelegatestarted roslaunch server http://127.0.0.1:45144/\n\nSUMMARY\n========\n\nPARAMETERS\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n\nNODES\n  /\n    urdf_spawner (gazebo_ros/spawn_model)\n\nROS_MASTER_URI=http://localhost:11311\n\ncore service [/rosout] found\nprocess[urdf_spawner-1]: started with pid [3801]\n[ INFO] [1481572768.255137537, 5.329000000]: Loading robot model from: &#39;models/val_description/sdf/valkyrie_sim.sdf&#39;\nspawn_model script started\n[INFO] [WallTime: 1481572768.558385] [0.000000] Loading model xml from ros parameter\n[INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\n[INFO] (NetworkParameters.java:42): Found Network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\n[INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\n[INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\n&gt; Building 50% &gt; :runJavaDelegate[INFO] [WallTime: 1481572768.591526] [5.651000] Waiting for service /gazebo/spawn_urdf_model\n[INFO] [WallTime: 1481572768.593791] [5.657000] Calling service /gazebo/spawn_urdf_model\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nConnecting to controller using TCP on localhost\n[WARN] YoVariable: desiredMomentumRateLinearX is getting created with a null registry\n[WARN] YoVariable: desiredMomentumRateLinearY is getting created with a null registry\n[WARN] YoVariable: desiredMomentumRateLinearZ is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearX is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearY is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearZ is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceX is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceY is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceZ is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueX is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueY is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueZ is getting created with a null registry\n&gt; Building 50% &gt; :runJavaDelegate[ INFO] [1481572769.857131033, 5.895000000]: Camera Plugin (robotNamespace = /), Info: Using the &#39;robotNamespace&#39; param: &#39;/&#39;\n[ INFO] [1481572769.857325751, 5.895000000]: Camera Plugin (robotNamespace = /), Info: Using the &#39;robotNamespace&#39; param: &#39;/&#39;\n[ INFO] [1481572769.862813588, 5.895000000]: Camera Plugin (ns = /)  &lt;tf_prefix_&gt;, set to &quot;&quot;\n[ INFO] [1481572769.862870849, 5.895000000]: Camera Plugin (ns = /)  &lt;tf_prefix_&gt;, set to &quot;&quot;\n[ INFO] [1481572769.890773329, 5.895000000]: Laser Plugin (robotNamespace = /), Info: Using the &#39;robotNamespace&#39; param: &#39;/&#39;\n[ INFO] [1481572769.891065047, 5.895000000]: Starting GazeboRosLaser Plugin (ns = /)!\n[ INFO] [1481572769.907805518, 5.895000000]: GPU Laser Plugin (ns = /) &lt;tf_prefix_&gt;, set to &quot;&quot;\n[ INFO] [1481572769.909212119, 5.895000000]: LoadThread function completed\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[gpu_ray] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[INFO] [WallTime: 1481572769.934357] [5.895000] Spawn status: SpawnModel: Successfully spawned model\n[ INFO] [1481572769.978897229, 5.895000000]: [INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /home/jake/.ihmc/IHMCNetworkParameters.ini\n[ INFO] [1481572769.979183166, 5.895000000]: [INFO] (NetworkParameters.java:42): Found Network parameters file at /home/jake/.ihmc/IHMCNetworkParameters.ini\n[ INFO] [1481572769.979695341, 5.895000000]: [INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\n[ INFO] [1481572769.979905384, 5.895000000]: [INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\n[Wrn] [ColladaLoader.cc:1461] Polylist input semantic: &#39;COLOR&#39; is currently not supported\nAttaching native thread 4040 with priority 45 to JVM\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN Please initialize the log4j system properly.\n&gt; Building 50% &gt; :runJavaDelegate[urdf_spawner-1] process has finished cleanly\nlog file: /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/urdf_spawner-1*.log\nall processes on machine have died, roslaunch will exit\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[ INFO] [1481572770.275981100, 5.895000000]: SharedMemoryInterfacePlugin: Loading\n2016-12-12 13:59:30 localhost ncl_cpp: [ERROR   ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Possibly missing an api or node tag from one or more imu sensors\n2016-12-12 13:59:30 localhost ncl_cpp: [WARN    ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Imu sensor head_imu_sensor doesn&#39;t have &lt;imuTransform&gt; tag. It is likely that the data you receive from this sensor will be incorrect.\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n[ INFO] [1481572770.379702191, 5.895000000]: SharedMemorySimInterfacePlugin: Loading complete!\n[urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7] process has finished cleanly\nlog file: /home/jake/.ros/log/78ee9e06-c0a5-11e6-977c-0cc47a6ee6d6/urdf_spawner_ubuntu_SER3040_2998_6216829015108794449-7*.log\n[ INFO] [1481572770.538365761, 5.895000000]: Looking for forceSensorDefinition leftAnkleRoll\n[ INFO] [1481572770.554277844, 5.895000000]: Looking for forceSensorDefinition rightAnkleRoll\n[ INFO] [1481572770.708996273, 5.895000000]: imu plugin missing &lt;frameName&gt;, defaults to &lt;bodyName&gt;\n[ INFO] [1481572770.709246552, 5.895000000]: imu plugin missing &lt;frameName&gt;, defaults to &lt;bodyName&gt;\n[ INFO] [1481572770.709852481, 5.895000000]: imu plugin missing &lt;frameName&gt;, defaults to &lt;bodyName&gt;\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[gpu_ray] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink\nWARNING: Failed to accept a connection.\njava.io.IOException: Too many open files\n    at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)\n    at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0x5539fe9d] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\n    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\n    at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\n    at org.jboss.netty.channel.Channels.connect(Channels.java:642)\n    at org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\n    at org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\n    at org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManaa:69)av\n    at org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\n    at org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\n    ... 13 more\nCaused by: java.io.IOException: Too many open files\n    at sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\n    at sun.nio.ch.EPollArrayWrapper.&lt;init&gt;(EPollArrayWrapper.java:130)\n    at sun.nio.ch.EPollSelectorImpl.&lt;init&gt;(EPollSelectorImpl.java:69)\n    at sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\n    at java.nio.channels.Selector.open(Selector.java:227)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\n    ... 14 more\n\nDec 12, 2016 1:59:30 PM org.jboss.netty.channel.DefaultChannelPipeline\nWARNING: An exception was thrown by a user handler while handling an exception event ([id: 0xfabf3c0b] EXCEPTION: org.jboss.netty.channel.ChannelException: Failed to create a selector.)\norg.ros.exception.RosRuntimeException: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.ros.internal.transport.ConnectionTrackingHandler.exceptionCaught(ConnectionTrackingHandler.java:81)\n    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:533)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:166)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:111)\n    at org.jboss.nettyr.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:55)\n    at org.jboss.netty.channel.Channels.connect(Channels.java:642)\n    at org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:207)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:230)\n    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:183)\n    at org.ros.internal.transport.tcp.TcpClient.connect(TcpClient.java:101)\n    at org.ros.internal.transport.tcp.TcpClientManager.connect(TcpClientManager.java:69)\n    at org.ros.internal.node.topic.DefaultSubscriber.addPublisher(DefaultSubscriber.java:150)\n    at org.ros.internal.node.topic.UpdatePublisherRunnable.run(UpdatePublisherRunnable.java:73)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.netty.channel.ChannelException: Failed to create a selector.\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:212)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:161)\n    ... 13 more\nCaused by: java.io.IOException: Too many open files\n    at sun.nio.ch.EPollArrayWrapper.epollCreate(Native Method)\n    at sun.nio.ch.EPollArrayWrapper.&lt;init&gt;(EPollArrayWrapper.java:130)\n    at sun.nio.ch.EPollSelectorImpl.&lt;init&gt;(EPollSelectorImpl.java:69)\n    at sun.nio.ch.EPollSelectorProvider.openSelector(EPollSelectorProvider.java:36)\n    at java.nio.channels.Selector.open(Selector.java:227)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.register(NioClientSocketPipelineSink.java:210)\n    ... 14 more\n\nIHMC ROS API node successfully started.\n&gt; Building 50% &gt; :runJavaDelegate[ INFO] [1481572772.168378793, 6.341000000]: IMUBasedPelvisRotationalStateUpdater: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\n[ INFO] [1481572772.201945397, 6.353000000]: PelvisIMUBasedLinearStateCalculator: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\nAttaching native thread 5717 with priority 45 to JVM\n[ INFO] [1481572773.801883287, 6.872000000]: [INFO] (LogSessionBroadcaster.java:66): Announcing logging session on: name:lo (lo)\n[ INFO] [1481572773.851369761, 6.886000000]: [INFO] (LogSessionBroadcaster.java:307): Trying port 56352\n[INFO] (KryoObjectClient.java:130): Success! Connected KryoClient to SCS at ip localhost/127.0.0.1 on port 4895\n&gt; Building 50% &gt; :runJavaDelegateAttaching native thread 5795 with priority 40 to JVM\n[ INFO] [1481572779.279435942, 8.571000000]: [INFO] (ValkyrieRosControlController.java:307): Running with blocking synchronous execution between estimator and controller\n[INFO] [WallTime: 1481572779.581023] [8.648000] Controller Spawner: Loaded controllers: ihmc_valkyrie_control_java_bridge\n[INFO] [WallTime: 1481572779.980936] [8.748000] Started controllers: ihmc_valkyrie_control_java_bridge\n^C[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10] killing on exit\n[IHMCValkyrieROSAPI-9] killing on exit\n[INFO] [WallTime: 1481573269.276942] [143.391000] Shutting down spawner. Stopping and unloading controllers...\n[robot_state_publisher-8] killing on exit\n[gazebo_gui-6] killing on exit\n[gazebo-5] killing on exit\n[controller_manager_ubuntu_SER3040_2998_439239008329951092-4] killing on exit\n[control_py_ubuntu_SER3040_2998_3691283938542798629-3] killing on exit\n[smtcore_ubuntu_SER3040_2998_714146815997592256-2] killing on exit\n[controller_manager_ubuntu_SER3040_3528_4851789448662283063-1] killing on exit\n2016-12-12 14:07:49 localhost ncl_cpp: [FATAL   ] [gov.nasa.ControllerExec.ORO_main] Controller manager has stopped running! Stopping controller exec.\nterminate called after throwing an instance of &#39;boost::exception_detail::clone_impl&lt;boost::exception_detail::error_info_injector&lt;boost::lock_error&gt; &gt;&#39;\n  what():  boost: mutex lock failed in pthread_mutex_lock: Invalid argument\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10] escalating to SIGTERM\n[gazebo-5] escalating to SIGTERM\n[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10] escalating to SIGKILL\n[rosout-1] killing on exit\n[master] killing on exit\nShutdown errors:\n * process[controller_spawner_ubuntu_SER3040_2998_2114081573183867240-10, pid 3083]: required SIGKILL. May still be running.\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\njake@ubuntu-SER3040:~$ \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2016-12-12T22:15:09.616098+00:00", "milestone": null, "updated_on": "2016-12-28T16:56:39.592695+00:00", "type": "issue", "id": 45}