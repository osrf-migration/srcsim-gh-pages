{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/15/comments/32007769.json"}, "html": {"href": "#!/osrf/srcsim/issues/15#comment-32007769"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/15.json"}}, "type": "issue", "id": 15, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "Hokuyo link not spinning in Rviz"}, "content": {"raw": "Okay I figured out the source of error. For some reason the topic \n```\n#!\n\n/ihmc_ros/valkyrie/output/joint_state\n```\nShows that the Hokuyo link's position is always 0.0 despite that it's actually spinning. I decided to import some drcsim code that would create a node to report multisense joint states:\n\n```\n#!\n\n  <node pkg=\"robot_state_publisher\" type=\"state_publisher\" name=\"multisense_robot_state_publisher\">\n    <param name=\"publish_frequency\" type=\"double\" value=\"50.0\" />\n    <remap from=\"joint_states\" to=\"/multisense/joint_states\" />\n  </node>\n```\nThen the hokuyo joint started to actually sort of spin in rviz. Checking the topic:\n\n```\n#!\n\n/multisense/joint_states\n```\nI verified that this does indeed give the correct hokuyo position instead of the ihmc topic. The only issue I have right now is that because both the multisense and ihmc joints states are being subscribed by rviz, it gets confused whether the joint is either spinning (multisense topic) or (ihmc topic) becomes stationed at horizontal. What I ultimately get is a half spinning laser range that glitches to horizontal then back to spinning where it left off. Is there a way to fix the IHMC's joint_state publisher so that the hokuyo joint reflects it's gazebo counterpart?", "markup": "markdown", "html": "<p>Okay I figured out the source of error. For some reason the topic </p>\n<div class=\"codehilite\"><pre><span></span>/ihmc_ros/valkyrie/output/joint_state\n</pre></div>\n\n\n<p>Shows that the Hokuyo link's position is always 0.0 despite that it's actually spinning. I decided to import some drcsim code that would create a node to report multisense joint states:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">&lt;node</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;robot_state_publisher&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;state_publisher&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;multisense_robot_state_publisher&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;publish_frequency&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;50.0&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;remap</span> <span class=\"na\">from=</span><span class=\"s\">&quot;joint_states&quot;</span> <span class=\"na\">to=</span><span class=\"s\">&quot;/multisense/joint_states&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/node&gt;</span>\n</pre></div>\n\n\n<p>Then the hokuyo joint started to actually sort of spin in rviz. Checking the topic:</p>\n<div class=\"codehilite\"><pre><span></span>/multisense/joint_states\n</pre></div>\n\n\n<p>I verified that this does indeed give the correct hokuyo position instead of the ihmc topic. The only issue I have right now is that because both the multisense and ihmc joints states are being subscribed by rviz, it gets confused whether the joint is either spinning (multisense topic) or (ihmc topic) becomes stationed at horizontal. What I ultimately get is a half spinning laser range that glitches to horizontal then back to spinning where it left off. Is there a way to fix the IHMC's joint_state publisher so that the hokuyo joint reflects it's gazebo counterpart?</p>", "type": "rendered"}, "created_on": "2016-11-09T03:49:47.388181+00:00", "user": {"display_name": "Tom Tseemceeb Xiong", "uuid": "{07f3561e-974e-4e4d-962c-56f955baaac3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B07f3561e-974e-4e4d-962c-56f955baaac3%7D"}, "html": {"href": "https://bitbucket.org/%7B07f3561e-974e-4e4d-962c-56f955baaac3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6aaf7437b4e057d91bcfca8bb6b456c9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTX-1.png"}}, "nickname": "Tom_Xiong", "type": "user", "account_id": "557058:5667b998-d71d-4e95-94f3-a06536d031b0"}, "updated_on": null, "type": "issue_comment", "id": 32007769}