{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/158/comments/37384493.json"}, "html": {"href": "#!/osrf/srcsim/issues/158#comment-37384493"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/158.json"}}, "type": "issue", "id": 158, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "cloudsim help"}, "content": {"raw": "I am a little late to the party, but trying to get this docker thing to work. \n\nSteps I followed:\n\n*    Created a github account and a private repo. Copied over the sample Dockerfile and my source. Created a deploy key and added it to my repo. \n\n*    Installed Docker on my Linux box and painfully figured out just what my source files needed to compile.\n\n*    Created a Docker image on my machine and tested that all the source code compiled and that all the nodes will run.\n\n*    Cloned everything from github and built another image to just make sure. ie with login/password.\n\n*    Logged into the Cloudsim and poked around on the FC and the SIM instances.\n\nSo I am ready to test this thing and ran into a roadblock dealing with the ssh key thing.\n\nI was doing the one last test that Ian suggested:\n\nI did all these command as suggested:\n\nStart the ssh-agent in the background.\n\neval \"$(ssh-agent -s)\"\n\nAdd ssh key to agent\n\nssh-add <key_path>            # I just left key_path blank and it found the key in the default ~/.ssh directory\n\nAdd github to known hosts\n\nssh-keyscan github.com >> ~/.ssh/known_hosts\n\ndocker build -t fcomputer:latest <github_url>\n\nI get the following errors using different variants of <github_url>  # It would be nice to know the proper syntax for the stuff between the <>\n\nAttempt one:\n\nsudo docker build -t fcomputer:latest git@https://github.com/sringer99/srcsim.git\n\nunable to prepare context: unable to 'git clone' to temporary context directory: Error trying to use git: exit status 128 (Cloning into '/tmp/docker-build-git726355972'...\nfatal: I don't handle protocol 'git@https')\n\nAttempt two:\n\nsudo docker build -t fcomputer:latest git@github.com/sringer99/srcsim.git\n\nunable to prepare context: unable to 'git clone' to temporary context directory: Error trying to use git: exit status 128 (fatal: repository 'git@github.com/sringer99/srcsim.git' \ndoes not exist)\n\nAttempt 3:\n\nsudo docker build -t fcomputer:latest git://github.com/sringer99/srcsim.git\n\nunable to prepare context: unable to 'git clone' to temporary context directory: Error trying to use git: exit status 128 (Cloning into '/tmp/docker-build-git977226063'...\nfatal: remote error: \n  Repository not found.\n)\n\nAttempt 4: This one kind of works but I have to give a login and password. I doubt that the Coudsim is going to let me do that\n\nsudo docker build -t fcomputer:latest https://github.com/sringer99/srcsim.git\n\nUsername for 'https://github.com': sringer99\n\nPassword for 'https://sringer99@github.com': \n\nSending build context to Docker daemon 2.804 MB\nStep 1/12 : FROM ros:indigo-ros-base\n\nSo here is my question, How do I get a private repo to work to my local machine with the assumption that once it works here it will work in the Cloudsim? Did I miss a step?", "markup": "markdown", "html": "<p>I am a little late to the party, but trying to get this docker thing to work. </p>\n<p>Steps I followed:</p>\n<ul>\n<li>\n<p>Created a github account and a private repo. Copied over the sample Dockerfile and my source. Created a deploy key and added it to my repo. </p>\n</li>\n<li>\n<p>Installed Docker on my Linux box and painfully figured out just what my source files needed to compile.</p>\n</li>\n<li>\n<p>Created a Docker image on my machine and tested that all the source code compiled and that all the nodes will run.</p>\n</li>\n<li>\n<p>Cloned everything from github and built another image to just make sure. ie with login/password.</p>\n</li>\n<li>\n<p>Logged into the Cloudsim and poked around on the FC and the SIM instances.</p>\n</li>\n</ul>\n<p>So I am ready to test this thing and ran into a roadblock dealing with the ssh key thing.</p>\n<p>I was doing the one last test that Ian suggested:</p>\n<p>I did all these command as suggested:</p>\n<p>Start the ssh-agent in the background.</p>\n<p>eval \"$(ssh-agent -s)\"</p>\n<p>Add ssh key to agent</p>\n<p>ssh-add &lt;key_path&gt;            # I just left key_path blank and it found the key in the default ~/.ssh directory</p>\n<p>Add github to known hosts</p>\n<p>ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</p>\n<p>docker build -t fcomputer:latest &lt;github_url&gt;</p>\n<p>I get the following errors using different variants of &lt;github_url&gt;  # It would be nice to know the proper syntax for the stuff between the &lt;&gt;</p>\n<p>Attempt one:</p>\n<p>sudo docker build -t fcomputer:latest git@<a href=\"https://github.com/sringer99/srcsim.git\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/sringer99/srcsim.git</a></p>\n<p>unable to prepare context: unable to 'git clone' to temporary context directory: Error trying to use git: exit status 128 (Cloning into '/tmp/docker-build-git726355972'...\nfatal: I don't handle protocol 'git@https')</p>\n<p>Attempt two:</p>\n<p>sudo docker build -t fcomputer:latest git@<a href=\"http://github.com/sringer99/srcsim.git\" rel=\"nofollow\" class=\"ap-connect-link\">github.com/sringer99/srcsim.git</a></p>\n<p>unable to prepare context: unable to 'git clone' to temporary context directory: Error trying to use git: exit status 128 (fatal: repository 'git@<a href=\"http://github.com/sringer99/srcsim.git\" rel=\"nofollow\" class=\"ap-connect-link\">github.com/sringer99/srcsim.git</a>' \ndoes not exist)</p>\n<p>Attempt 3:</p>\n<p>sudo docker build -t fcomputer:latest git://<a href=\"http://github.com/sringer99/srcsim.git\" rel=\"nofollow\" class=\"ap-connect-link\">github.com/sringer99/srcsim.git</a></p>\n<p>unable to prepare context: unable to 'git clone' to temporary context directory: Error trying to use git: exit status 128 (Cloning into '/tmp/docker-build-git977226063'...\nfatal: remote error: \n  Repository not found.\n)</p>\n<p>Attempt 4: This one kind of works but I have to give a login and password. I doubt that the Coudsim is going to let me do that</p>\n<p>sudo docker build -t fcomputer:latest <a href=\"https://github.com/sringer99/srcsim.git\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/sringer99/srcsim.git</a></p>\n<p>Username for '<a href=\"https://github.com\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com</a>': sringer99</p>\n<p>Password for '<a href=\"https://sringer99@github.com\" rel=\"nofollow\" class=\"ap-connect-link\">https://sringer99@github.com</a>': </p>\n<p>Sending build context to Docker daemon 2.804 MB\nStep 1/12 : FROM ros:indigo-ros-base</p>\n<p>So here is my question, How do I get a private repo to work to my local machine with the assumption that once it works here it will work in the Cloudsim? Did I miss a step?</p>", "type": "rendered"}, "created_on": "2017-06-05T18:51:11.835984+00:00", "user": {"display_name": "sringer99", "uuid": "{7ef70da9-f328-4ba4-b181-862c6f2a45bd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D"}, "html": {"href": "https://bitbucket.org/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5494aa6c922a68310e0342fedad15f8dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsS-1.png"}}, "nickname": "sringer99", "type": "user", "account_id": "557058:f8291867-5c5f-4d10-868d-ea8e2c04eca6"}, "updated_on": "2017-06-05T23:57:12.568107+00:00", "type": "issue_comment", "id": 37384493}