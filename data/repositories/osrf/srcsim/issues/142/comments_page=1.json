{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/36130630.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-36130630"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "Possible duplicate of #119", "markup": "markdown", "html": "<p>Possible duplicate of <a href=\"#!/osrf/srcsim/issues/119/robot-pose-not-updated-after-task\" rel=\"nofollow\" title=\"Robot Pose Not Updated After Task Teleportation\" class=\"ap-connect-link\"><s>#119</s></a></p>", "type": "rendered"}, "created_on": "2017-04-21T15:52:50.560204+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 36130630}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/36130638.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-36130638"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-04-21T15:53:08.572098+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 36130638}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/36132677.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-36132677"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "It is a similar question to issue #119 because I think the answer to that issue was not right; at least I don't understand how it could be.  It's true that jumping from one place to another can be considered odom drift.  However, with no basis for world-frame localization (random map) in the new location, it is impossible to correct for that drift and get world coordinates for the new spot. If we had a fixed map, then it would be possible to correct for the drift by doing a localization in the new place.\n\nThink of it this way.  You are on a stationary train and going to teleport from one car to another car in the train.  You may be able to figure out which car you teleported to and where you are within that car, but there is no way you can figure out where you are in the overall world without having information about how many cars you jumped over and also the path of the tracks that the train is sitting one.  In our case, that path corresponds to the walkway between the teleported sites.  It's random.  If you don't actually traverse it, there is no way to know what it was.", "markup": "markdown", "html": "<p>It is a similar question to issue <a href=\"#!/osrf/srcsim/issues/119/robot-pose-not-updated-after-task\" rel=\"nofollow\" title=\"Robot Pose Not Updated After Task Teleportation\" class=\"ap-connect-link\"><s>#119</s></a> because I think the answer to that issue was not right; at least I don't understand how it could be.  It's true that jumping from one place to another can be considered odom drift.  However, with no basis for world-frame localization (random map) in the new location, it is impossible to correct for that drift and get world coordinates for the new spot. If we had a fixed map, then it would be possible to correct for the drift by doing a localization in the new place.</p>\n<p>Think of it this way.  You are on a stationary train and going to teleport from one car to another car in the train.  You may be able to figure out which car you teleported to and where you are within that car, but there is no way you can figure out where you are in the overall world without having information about how many cars you jumped over and also the path of the tracks that the train is sitting one.  In our case, that path corresponds to the walkway between the teleported sites.  It's random.  If you don't actually traverse it, there is no way to know what it was.</p>", "type": "rendered"}, "created_on": "2017-04-21T17:51:27.301572+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": "2017-04-21T20:43:11.926839+00:00", "type": "issue_comment", "id": 36132677}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/36154923.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-36154923"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "By the way, the really odd thing here is that it does work.  The pelvis pose changes to an incorrect value for world position but a correct one for world orientation, even if we are not using gazebo to publish a world frame.  And Val can certainly take steps and move from the teleported spot.\nSo maybe gazebo is providing some sort of world frame information to the pose topic-- is that possible?\nMaybe it doesn't matter since it works but I am concerned that there is something other than the world to pelvis frame that I am inadvertently using and it will not be there for the actual run.", "markup": "markdown", "html": "<p>By the way, the really odd thing here is that it does work.  The pelvis pose changes to an incorrect value for world position but a correct one for world orientation, even if we are not using gazebo to publish a world frame.  And Val can certainly take steps and move from the teleported spot.\nSo maybe gazebo is providing some sort of world frame information to the pose topic-- is that possible?\nMaybe it doesn't matter since it works but I am concerned that there is something other than the world to pelvis frame that I am inadvertently using and it will not be there for the actual run.</p>", "type": "rendered"}, "created_on": "2017-04-23T22:28:24.916972+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 36154923}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37100556.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37100556"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "@dan77062 , are you still having localization problems after teleportation?", "markup": "markdown", "html": "<p>@dan77062 , are you still having localization problems after teleportation?</p>", "type": "rendered"}, "created_on": "2017-05-24T01:25:13.169547+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 37100556}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37101163.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37101163"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "Problem still exists. For example, I started a world with the pose reporting X: 0.057886. After skipping to checkpoint 3 it reports X: 0.073346. As @dan77062 mentioned the orientation is correct.", "markup": "markdown", "html": "<p>Problem still exists. For example, I started a world with the pose reporting X: 0.057886. After skipping to checkpoint 3 it reports X: 0.073346. As @dan77062 mentioned the orientation is correct.</p>", "type": "rendered"}, "created_on": "2017-05-24T02:22:41.869785+00:00", "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "updated_on": null, "type": "issue_comment", "id": 37101163}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37102144.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37102144"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "yes, unchanged", "markup": "markdown", "html": "<p>yes, unchanged</p>", "type": "rendered"}, "created_on": "2017-05-24T04:01:03.090767+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 37102144}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37120723.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37120723"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "> I started a world with the pose reporting X: 0.057886. After skipping to checkpoint 3 it reports X: 0.073346.\n\n@rmerriam , which topics are you using to get these positions? Which world is that (world file and srcsim version)?", "markup": "markdown", "html": "<blockquote>\n<p>I started a world with the pose reporting X: 0.057886. After skipping to checkpoint 3 it reports X: 0.073346.</p>\n</blockquote>\n<p>@rmerriam , which topics are you using to get these positions? Which world is that (world file and srcsim version)?</p>", "type": "rendered"}, "created_on": "2017-05-24T16:44:17.704253+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-05-24T16:44:44.309932+00:00", "type": "issue_comment", "id": 37120723}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37120862.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37120862"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "The topic is ihmc_ros/valkyrie/output/robot_pose using srcsim 0.5.0-1. I'm looking at the data using rostopic echo. \n\nIt occurs with any world. \nThe Y position is similarly affected.", "markup": "markdown", "html": "<p>The topic is ihmc_ros/valkyrie/output/robot_pose using srcsim 0.5.0-1. I'm looking at the data using rostopic echo. </p>\n<p>It occurs with any world. \nThe Y position is similarly affected.</p>", "type": "rendered"}, "created_on": "2017-05-24T16:50:52.064497+00:00", "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "updated_on": null, "type": "issue_comment", "id": 37120862}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37122413.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37122413"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "# /ihmc_ros/valkyrie/output/robot_pose\n\nThanks, I checked that the topic misreports the pose after teleporting. \n\nAfter playing a bit with `/ihmc_ros/localization/pelvis_odom_pose_correction` and `/ihmc_ros/localization/pelvis_pose_correction`, I verified what @scpeters had stated on the [previous issue](#!/osrf/srcsim/issues/119/robot-pose-not-updated-after-task#comment-35980493) \"*those pose correction topics are used for giving small hints to the state estimator and have a threshold (currently 10 cm) that pose hints must be within in order for the hint to be accepted*\".\n\nMy conclusion is: correcting those topics is out of our hands, so the recommendation is: do not to use them after teleporting. I've [added a note](#!/osrf/srcsim/wiki/commits/c6d3049944b84ff541bec337fa38881709d17791) to the wiki.\n\n# Alternatives\n\nThe question then is, how to get world pose information after teleporting. I suspect there is a way around it, otherwise more teams would be commenting on this thread. \n\nThe keyboard teleop script works fine after teleporting. So I recommend digging into what the keyboard teleop is doing.", "markup": "markdown", "html": "<h1 id=\"markdown-header-ihmc_rosvalkyrieoutputrobot_pose\">/ihmc_ros/valkyrie/output/robot_pose</h1>\n<p>Thanks, I checked that the topic misreports the pose after teleporting. </p>\n<p>After playing a bit with <code>/ihmc_ros/localization/pelvis_odom_pose_correction</code> and <code>/ihmc_ros/localization/pelvis_pose_correction</code>, I verified what @scpeters had stated on the <a data-is-external-link=\"true\" href=\"#!/osrf/srcsim/issues/119/robot-pose-not-updated-after-task#comment-35980493\" rel=\"nofollow\">previous issue</a> \"<em>those pose correction topics are used for giving small hints to the state estimator and have a threshold (currently 10 cm) that pose hints must be within in order for the hint to be accepted</em>\".</p>\n<p>My conclusion is: correcting those topics is out of our hands, so the recommendation is: do not to use them after teleporting. I've <a data-is-external-link=\"true\" href=\"#!/osrf/srcsim/wiki/commits/c6d3049944b84ff541bec337fa38881709d17791\" rel=\"nofollow\">added a note</a> to the wiki.</p>\n<h1 id=\"markdown-header-alternatives\">Alternatives</h1>\n<p>The question then is, how to get world pose information after teleporting. I suspect there is a way around it, otherwise more teams would be commenting on this thread. </p>\n<p>The keyboard teleop script works fine after teleporting. So I recommend digging into what the keyboard teleop is doing.</p>", "type": "rendered"}, "created_on": "2017-05-24T18:15:51.085057+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 37122413}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37123471.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37123471"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "One reason more teams are not commenting is that this is not needed if you get world frame from gazebo.  Once that's gone, other teams may encounter this problem.  As I mentioned, it seems that it is not interfering with walking, which is a mystery, as it certainly should.  Hopefully when the world frame goes away, Val will still be able to walk.  Guess we'll see!", "markup": "markdown", "html": "<p>One reason more teams are not commenting is that this is not needed if you get world frame from gazebo.  Once that's gone, other teams may encounter this problem.  As I mentioned, it seems that it is not interfering with walking, which is a mystery, as it certainly should.  Hopefully when the world frame goes away, Val will still be able to walk.  Guess we'll see!</p>", "type": "rendered"}, "created_on": "2017-05-24T19:13:27.371187+00:00", "user": {"display_name": "dan", "uuid": "{a93bd0ec-35fc-49a5-aa8a-b0b57403c2d0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D"}, "html": {"href": "https://bitbucket.org/%7Ba93bd0ec-35fc-49a5-aa8a-b0b57403c2d0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dd56d3105d7602d83d5c35a320f6b36cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsD-6.png"}}, "nickname": "dan77062", "type": "user", "account_id": "557058:e0e36946-cb60-4776-8f47-2e9a0285ad35"}, "updated_on": null, "type": "issue_comment", "id": 37123471}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37124252.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37124252"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": ">  it is not interfering with walking\n\nSorry, maybe I'm misunderstanding things here, but what is it interfering with then?\n\n> this is not needed if you get world frame from gazebo\n\nThe keyboard teleop script doesn't use any topics from gazebo and works fine, right?", "markup": "markdown", "html": "<blockquote>\n<p>it is not interfering with walking</p>\n</blockquote>\n<p>Sorry, maybe I'm misunderstanding things here, but what is it interfering with then?</p>\n<blockquote>\n<p>this is not needed if you get world frame from gazebo</p>\n</blockquote>\n<p>The keyboard teleop script doesn't use any topics from gazebo and works fine, right?</p>", "type": "rendered"}, "created_on": "2017-05-24T19:58:46.188581+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 37124252}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37124956.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37124956"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "Keyboard teleop doesn't need to determine its location after teleportation. How walking continues to work is a good question. Perhaps the pose data is correct in the controller, or wherever, but not being sent correctly in the robot pose message.", "markup": "markdown", "html": "<p>Keyboard teleop doesn't need to determine its location after teleportation. How walking continues to work is a good question. Perhaps the pose data is correct in the controller, or wherever, but not being sent correctly in the robot pose message.</p>", "type": "rendered"}, "created_on": "2017-05-24T20:38:46.715263+00:00", "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "updated_on": null, "type": "issue_comment", "id": 37124956}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37125616.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37125616"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "The Keyboard teleop uses the world tf2 frame to get its position for which a delta is added to get the next step location.\n\nleft_foot_world = self.tfBuffer.lookup_transform(   'world', self.LEFT_FOOT_FRAME_NAME, rospy.Time())\n\nright_foot_world = self.tfBuffer.lookup_transform( 'world', self.RIGHT_FOOT_FRAME_NAME, rospy.Time())\n\nWhen R5 is teleported the world frame gets a new location but because the walking commands are all relative to the world frame it really does not matter where it is just so long as it is consistent. My worry is that these lookups are going to fail during the competition and the world frame is not going to be available. I do not want to use the pose data if I do not have to. I have not tested throughly, but the pose and the \"rosrun tf tf_echo world pelvis\" provide the same information.\n\nWe still have not been given a clear answer whether these tflookup calls, that work now, are going to fail during the competition. I plan to develop some contingency plans, but to be honest, I am way behind schedule and have other fish to fry.", "markup": "markdown", "html": "<p>The Keyboard teleop uses the world tf2 frame to get its position for which a delta is added to get the next step location.</p>\n<p>left_foot_world = self.tfBuffer.lookup_transform(   'world', self.LEFT_FOOT_FRAME_NAME, rospy.Time())</p>\n<p>right_foot_world = self.tfBuffer.lookup_transform( 'world', self.RIGHT_FOOT_FRAME_NAME, rospy.Time())</p>\n<p>When R5 is teleported the world frame gets a new location but because the walking commands are all relative to the world frame it really does not matter where it is just so long as it is consistent. My worry is that these lookups are going to fail during the competition and the world frame is not going to be available. I do not want to use the pose data if I do not have to. I have not tested throughly, but the pose and the \"rosrun tf tf_echo world pelvis\" provide the same information.</p>\n<p>We still have not been given a clear answer whether these tflookup calls, that work now, are going to fail during the competition. I plan to develop some contingency plans, but to be honest, I am way behind schedule and have other fish to fry.</p>", "type": "rendered"}, "created_on": "2017-05-24T21:22:59.496280+00:00", "user": {"display_name": "sringer99", "uuid": "{7ef70da9-f328-4ba4-b181-862c6f2a45bd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D"}, "html": {"href": "https://bitbucket.org/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5494aa6c922a68310e0342fedad15f8dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsS-1.png"}}, "nickname": "sringer99", "type": "user", "account_id": "557058:f8291867-5c5f-4d10-868d-ea8e2c04eca6"}, "updated_on": null, "type": "issue_comment", "id": 37125616}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37127515.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37127515"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "> it really does not matter where it is just so long as it is consistent\n\nI think you solved the mystery! :tada: The controller probably never knows that it has been translated, but as long as you give it offsets with respect to its current position, it will work.\n\n> My worry is that these lookups are going to fail during the competition and the world frame is not going to be available\n\nTogether with @iche033 we launched a constellation on CloudSim and checked that the world frame is available from the field computer:\n\n~~~\nroot@ip-172-31-23-39:/home/docker/ws#  rosrun tf tf_echo world pelvis\nAt time 59.388\n- Translation: [0.079, 0.023, 0.993]\n- Rotation: in Quaternion [-0.000, -0.000, -0.000, 1.000]\n            in RPY (radian) [-0.000, -0.000, -0.000]\n            in RPY (degree) [-0.000, -0.017, -0.004]\n~~~\n\nWe also teleported the robot:\n\n~~~\nroot@ip-172-31-23-39:/home/docker/ws# rosservice call /srcsim/finals/start_task 2 1\nsuccess: True\n~~~\n\nAnd checked that the orientation is updated on TF:\n\n~~~\nroot@ip-172-31-23-39:/home/docker/ws# rosrun tf tf_echo world pelvis\nAt time 68.356\n- Translation: [0.037, 0.067, 0.989]\n- Rotation: in Quaternion [-0.000, -0.000, -0.381, 0.925]\n            in RPY (radian) [-0.000, -0.000, -0.781]\n            in RPY (degree) [-0.000, -0.016, -44.758]\n~~~\n\nWe still need to check whether walking works, but no worries, the TF lookups using world frame are available.", "markup": "markdown", "html": "<blockquote>\n<p>it really does not matter where it is just so long as it is consistent</p>\n</blockquote>\n<p>I think you solved the mystery! <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f389.png\" alt=\"\ud83c\udf89\" title=\":tada:\" data-emoji-short-name=\":tada:\" /> The controller probably never knows that it has been translated, but as long as you give it offsets with respect to its current position, it will work.</p>\n<blockquote>\n<p>My worry is that these lookups are going to fail during the competition and the world frame is not going to be available</p>\n</blockquote>\n<p>Together with @iche033 we launched a constellation on CloudSim and checked that the world frame is available from the field computer:</p>\n<div class=\"codehilite\"><pre><span></span>root@ip-172-31-23-39:/home/docker/ws#  rosrun tf tf_echo world pelvis\nAt time 59.388\n- Translation: [0.079, 0.023, 0.993]\n- Rotation: in Quaternion [-0.000, -0.000, -0.000, 1.000]\n            in RPY (radian) [-0.000, -0.000, -0.000]\n            in RPY (degree) [-0.000, -0.017, -0.004]\n</pre></div>\n\n\n<p>We also teleported the robot:</p>\n<div class=\"codehilite\"><pre><span></span>root@ip-172-31-23-39:/home/docker/ws# rosservice call /srcsim/finals/start_task 2 1\nsuccess: True\n</pre></div>\n\n\n<p>And checked that the orientation is updated on TF:</p>\n<div class=\"codehilite\"><pre><span></span>root@ip-172-31-23-39:/home/docker/ws# rosrun tf tf_echo world pelvis\nAt time 68.356\n- Translation: [0.037, 0.067, 0.989]\n- Rotation: in Quaternion [-0.000, -0.000, -0.381, 0.925]\n            in RPY (radian) [-0.000, -0.000, -0.781]\n            in RPY (degree) [-0.000, -0.016, -44.758]\n</pre></div>\n\n\n<p>We still need to check whether walking works, but no worries, the TF lookups using world frame are available.</p>", "type": "rendered"}, "created_on": "2017-05-25T00:10:54.310943+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 37127515}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37127749.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37127749"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "Thanks, One less thing to worry about.", "markup": "markdown", "html": "<p>Thanks, One less thing to worry about.</p>", "type": "rendered"}, "created_on": "2017-05-25T00:47:04.858158+00:00", "user": {"display_name": "sringer99", "uuid": "{7ef70da9-f328-4ba4-b181-862c6f2a45bd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D"}, "html": {"href": "https://bitbucket.org/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5494aa6c922a68310e0342fedad15f8dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsS-1.png"}}, "nickname": "sringer99", "type": "user", "account_id": "557058:f8291867-5c5f-4d10-868d-ea8e2c04eca6"}, "updated_on": null, "type": "issue_comment", "id": 37127749}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37296046.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37296046"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "I'll mark this as done to help our bookkeeping, but feel free to add comments / questions if this is still an issue.", "markup": "markdown", "html": "<p>I'll mark this as done to help our bookkeeping, but feel free to add comments / questions if this is still an issue.</p>", "type": "rendered"}, "created_on": "2017-05-31T21:26:33.015864+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 37296046}, {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37296050.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37296050"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-05-31T21:26:37.620343+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 37296050}], "page": 1, "size": 18}