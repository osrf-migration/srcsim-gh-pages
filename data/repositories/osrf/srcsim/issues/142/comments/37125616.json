{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142/comments/37125616.json"}, "html": {"href": "#!/osrf/srcsim/issues/142#comment-37125616"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/142.json"}}, "type": "issue", "id": 142, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "localization and teleportation"}, "content": {"raw": "The Keyboard teleop uses the world tf2 frame to get its position for which a delta is added to get the next step location.\n\nleft_foot_world = self.tfBuffer.lookup_transform(   'world', self.LEFT_FOOT_FRAME_NAME, rospy.Time())\n\nright_foot_world = self.tfBuffer.lookup_transform( 'world', self.RIGHT_FOOT_FRAME_NAME, rospy.Time())\n\nWhen R5 is teleported the world frame gets a new location but because the walking commands are all relative to the world frame it really does not matter where it is just so long as it is consistent. My worry is that these lookups are going to fail during the competition and the world frame is not going to be available. I do not want to use the pose data if I do not have to. I have not tested throughly, but the pose and the \"rosrun tf tf_echo world pelvis\" provide the same information.\n\nWe still have not been given a clear answer whether these tflookup calls, that work now, are going to fail during the competition. I plan to develop some contingency plans, but to be honest, I am way behind schedule and have other fish to fry.", "markup": "markdown", "html": "<p>The Keyboard teleop uses the world tf2 frame to get its position for which a delta is added to get the next step location.</p>\n<p>left_foot_world = self.tfBuffer.lookup_transform(   'world', self.LEFT_FOOT_FRAME_NAME, rospy.Time())</p>\n<p>right_foot_world = self.tfBuffer.lookup_transform( 'world', self.RIGHT_FOOT_FRAME_NAME, rospy.Time())</p>\n<p>When R5 is teleported the world frame gets a new location but because the walking commands are all relative to the world frame it really does not matter where it is just so long as it is consistent. My worry is that these lookups are going to fail during the competition and the world frame is not going to be available. I do not want to use the pose data if I do not have to. I have not tested throughly, but the pose and the \"rosrun tf tf_echo world pelvis\" provide the same information.</p>\n<p>We still have not been given a clear answer whether these tflookup calls, that work now, are going to fail during the competition. I plan to develop some contingency plans, but to be honest, I am way behind schedule and have other fish to fry.</p>", "type": "rendered"}, "created_on": "2017-05-24T21:22:59.496280+00:00", "user": {"display_name": "sringer99", "uuid": "{7ef70da9-f328-4ba4-b181-862c6f2a45bd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D"}, "html": {"href": "https://bitbucket.org/%7B7ef70da9-f328-4ba4-b181-862c6f2a45bd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5494aa6c922a68310e0342fedad15f8dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsS-1.png"}}, "nickname": "sringer99", "type": "user", "account_id": "557058:f8291867-5c5f-4d10-868d-ea8e2c04eca6"}, "updated_on": null, "type": "issue_comment", "id": 37125616}