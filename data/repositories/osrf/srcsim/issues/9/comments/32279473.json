{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/9/comments/32279473.json"}, "html": {"href": "#!/osrf/srcsim/issues/9#comment-32279473"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/9.json"}}, "type": "issue", "id": 9, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "Valkyrie Drops to the Ground due to incorrect delays in startup script"}, "content": {"raw": "I tried clean-installation of ros and srcsim package. But so far I still get either this error message:\n\n```\n#!c++\n\n[ERROR] [1479506775.046502508, 6.121000000]: Nov 18, 2016 5:06:14 PM us.ihmc.valkyrieRosControl.ValkyrieAffinity <init>\n[ERROR] [1479506775.048096088, 6.121000000]: SEVERE: WARNING: Hyper-Threading is enabled. Expect higher amounts of jitter\n[ERROR] [1479506775.050187699, 6.121000000]: Cannot create controller object\n[ERROR] [1479506775.050834902, 6.121000000]: Initializing controller 'ihmc_valkyrie_control_java_bridge' failed\n[ INFO] [1479506775.051046106, 6.121000000]: Stopping VM\n[ERROR] [1479506775.055279168, 6.121000000]: Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index: 2, Size: 2\n[ERROR] [1479506775.057400727, 6.121000000]: \tat java.util.ArrayList.rangeCheck(ArrayList.java:635)\n[ERROR] [1479506775.058465912, 6.121000000]: \tat java.util.ArrayList.get(ArrayList.java:411)\n[ERROR] [1479506775.059980435, 6.121000000]: \tat us.ihmc.affinity.Package.getCore(Package.java:45)\n[ERROR] [1479506775.060297688, 6.121000000]: \tat us.ihmc.valkyrieRosControl.ValkyrieAffinity.<init>(ValkyrieAffinity.java:31)\n[ERROR] [1479506775.062766283, 6.121000000]: \tat us.ihmc.valkyrieRosControl.ValkyrieRosControlController.<init>(ValkyrieRosControlController.java:107)\n\n```\nor this:\n\n```\n#!c++\n[ERROR] [1479506973.519139075, 4.585000000]:  Exception encountered while attempting to add an actuator! Check your URDF for correct XML formatting!\n2016-11-18 17:09:33 localhost ncl_cpp: [ERROR   ] [gov.nasa.HardwareInterface.makeHandle] Robot Hardware has failed Initialized properly. \n\n[ERROR] [1479506973.519635609, 4.585000000]: Fatal exception error encountered initializing RobotHardwareInterface, exiting\n2016-11-18 17:09:33 localhost ncl_cpp: [FATAL   ] [gov.nasa.ControllerExec.ORO_main] Error encountered during configure hook for controller_manager component!\n================================================================================REQUIRED process [controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939-1] has died!\nprocess has died [pid 7384, exit code 1, cmd /opt/nasa/indigo/lib/val_controller_manager_rtt/controller_exec --rate 500 -s __name:=controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939 __log:=/home/nuttaworn/.ros/log/ab6aa69a-addb-11e6-8de4-34e6ad02ce89/controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939-1.log].\nlog file: /home/nuttaworn/.ros/log/ab6aa69a-addb-11e6-8de4-34e6ad02ce89/controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939-1*.log\nInitiating shutdown!\n================================================================================\n\n```\nI've tried folllowing [Erica](https://bitbucket.org/T_AL/)'s approach from issue [#16](#!/osrf/srcsim/issues/16/ihmc_ros-valkyrie-control-topics-issue) but still doesn't do anything except that Valkyrie is hanging from the harness. I'd like to know what is the sources of the problem. Appreciate any response.\n\nAlso, since I'm running the simulation on my laptop, which has core i7 (2 cores), 8 GB memory, and GT610, so I believe some of the issues were originated from there.", "markup": "markdown", "html": "<p>I tried clean-installation of ros and srcsim package. But so far I still get either this error message:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.046502508</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Nov</span> <span class=\"mi\">18</span><span class=\"p\">,</span> <span class=\"mi\">2016</span> <span class=\"mi\">5</span><span class=\"o\">:</span><span class=\"mo\">06</span><span class=\"o\">:</span><span class=\"mi\">14</span> <span class=\"n\">PM</span> <span class=\"n\">us</span><span class=\"p\">.</span><span class=\"n\">ihmc</span><span class=\"p\">.</span><span class=\"n\">valkyrieRosControl</span><span class=\"p\">.</span><span class=\"n\">ValkyrieAffinity</span> <span class=\"o\">&lt;</span><span class=\"n\">init</span><span class=\"o\">&gt;</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.048096088</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"nl\">SEVERE</span><span class=\"p\">:</span> <span class=\"nl\">WARNING</span><span class=\"p\">:</span> <span class=\"n\">Hyper</span><span class=\"o\">-</span><span class=\"n\">Threading</span> <span class=\"n\">is</span> <span class=\"n\">enabled</span><span class=\"p\">.</span> <span class=\"n\">Expect</span> <span class=\"n\">higher</span> <span class=\"n\">amounts</span> <span class=\"n\">of</span> <span class=\"n\">jitter</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.050187699</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Cannot</span> <span class=\"n\">create</span> <span class=\"n\">controller</span> <span class=\"n\">object</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.050834902</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Initializing</span> <span class=\"n\">controller</span> <span class=\"err\">&#39;</span><span class=\"n\">ihmc_valkyrie_control_java_bridge</span><span class=\"err\">&#39;</span> <span class=\"n\">failed</span>\n<span class=\"p\">[</span> <span class=\"n\">INFO</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.051046106</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Stopping</span> <span class=\"n\">VM</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.055279168</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Exception</span> <span class=\"n\">in</span> <span class=\"kr\">thread</span> <span class=\"s\">&quot;main&quot;</span> <span class=\"n\">java</span><span class=\"p\">.</span><span class=\"n\">lang</span><span class=\"p\">.</span><span class=\"nl\">IndexOutOfBoundsException</span><span class=\"p\">:</span> <span class=\"nl\">Index</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"nl\">Size</span><span class=\"p\">:</span> <span class=\"mi\">2</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.057400727</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span>    <span class=\"n\">at</span> <span class=\"n\">java</span><span class=\"p\">.</span><span class=\"n\">util</span><span class=\"p\">.</span><span class=\"n\">ArrayList</span><span class=\"p\">.</span><span class=\"n\">rangeCheck</span><span class=\"p\">(</span><span class=\"n\">ArrayList</span><span class=\"p\">.</span><span class=\"nl\">java</span><span class=\"p\">:</span><span class=\"mi\">635</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.058465912</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span>    <span class=\"n\">at</span> <span class=\"n\">java</span><span class=\"p\">.</span><span class=\"n\">util</span><span class=\"p\">.</span><span class=\"n\">ArrayList</span><span class=\"p\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">ArrayList</span><span class=\"p\">.</span><span class=\"nl\">java</span><span class=\"p\">:</span><span class=\"mi\">411</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.059980435</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span>    <span class=\"n\">at</span> <span class=\"n\">us</span><span class=\"p\">.</span><span class=\"n\">ihmc</span><span class=\"p\">.</span><span class=\"n\">affinity</span><span class=\"p\">.</span><span class=\"n\">Package</span><span class=\"p\">.</span><span class=\"n\">getCore</span><span class=\"p\">(</span><span class=\"n\">Package</span><span class=\"p\">.</span><span class=\"nl\">java</span><span class=\"p\">:</span><span class=\"mi\">45</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.060297688</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span>    <span class=\"n\">at</span> <span class=\"n\">us</span><span class=\"p\">.</span><span class=\"n\">ihmc</span><span class=\"p\">.</span><span class=\"n\">valkyrieRosControl</span><span class=\"p\">.</span><span class=\"n\">ValkyrieAffinity</span><span class=\"p\">.</span><span class=\"o\">&lt;</span><span class=\"n\">init</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">ValkyrieAffinity</span><span class=\"p\">.</span><span class=\"nl\">java</span><span class=\"p\">:</span><span class=\"mi\">31</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506775.062766283</span><span class=\"p\">,</span> <span class=\"mf\">6.121000000</span><span class=\"p\">]</span><span class=\"o\">:</span>    <span class=\"n\">at</span> <span class=\"n\">us</span><span class=\"p\">.</span><span class=\"n\">ihmc</span><span class=\"p\">.</span><span class=\"n\">valkyrieRosControl</span><span class=\"p\">.</span><span class=\"n\">ValkyrieRosControlController</span><span class=\"p\">.</span><span class=\"o\">&lt;</span><span class=\"n\">init</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">ValkyrieRosControlController</span><span class=\"p\">.</span><span class=\"nl\">java</span><span class=\"p\">:</span><span class=\"mi\">107</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>or this:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506973.519139075</span><span class=\"p\">,</span> <span class=\"mf\">4.585000000</span><span class=\"p\">]</span><span class=\"o\">:</span>  <span class=\"n\">Exception</span> <span class=\"n\">encountered</span> <span class=\"k\">while</span> <span class=\"n\">attempting</span> <span class=\"n\">to</span> <span class=\"n\">add</span> <span class=\"n\">an</span> <span class=\"n\">actuator</span><span class=\"o\">!</span> <span class=\"n\">Check</span> <span class=\"n\">your</span> <span class=\"n\">URDF</span> <span class=\"k\">for</span> <span class=\"n\">correct</span> <span class=\"n\">XML</span> <span class=\"n\">formatting</span><span class=\"o\">!</span>\n<span class=\"mi\">2016</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">18</span> <span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">09</span><span class=\"o\">:</span><span class=\"mi\">33</span> <span class=\"n\">localhost</span> <span class=\"nl\">ncl_cpp</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">ERROR</span>   <span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">gov</span><span class=\"p\">.</span><span class=\"n\">nasa</span><span class=\"p\">.</span><span class=\"n\">HardwareInterface</span><span class=\"p\">.</span><span class=\"n\">makeHandle</span><span class=\"p\">]</span> <span class=\"n\">Robot</span> <span class=\"n\">Hardware</span> <span class=\"n\">has</span> <span class=\"n\">failed</span> <span class=\"n\">Initialized</span> <span class=\"n\">properly</span><span class=\"p\">.</span> \n\n<span class=\"p\">[</span><span class=\"n\">ERROR</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"mf\">1479506973.519635609</span><span class=\"p\">,</span> <span class=\"mf\">4.585000000</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Fatal</span> <span class=\"n\">exception</span> <span class=\"n\">error</span> <span class=\"n\">encountered</span> <span class=\"n\">initializing</span> <span class=\"n\">RobotHardwareInterface</span><span class=\"p\">,</span> <span class=\"n\">exiting</span>\n<span class=\"mi\">2016</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">18</span> <span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">09</span><span class=\"o\">:</span><span class=\"mi\">33</span> <span class=\"n\">localhost</span> <span class=\"nl\">ncl_cpp</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">FATAL</span>   <span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">gov</span><span class=\"p\">.</span><span class=\"n\">nasa</span><span class=\"p\">.</span><span class=\"n\">ControllerExec</span><span class=\"p\">.</span><span class=\"n\">ORO_main</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"n\">encountered</span> <span class=\"n\">during</span> <span class=\"n\">configure</span> <span class=\"n\">hook</span> <span class=\"k\">for</span> <span class=\"n\">controller_manager</span> <span class=\"n\">component</span><span class=\"o\">!</span>\n<span class=\"o\">================================================================================</span><span class=\"n\">REQUIRED</span> <span class=\"n\">process</span> <span class=\"p\">[</span><span class=\"n\">controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"n\">has</span> <span class=\"n\">died</span><span class=\"o\">!</span>\n<span class=\"n\">process</span> <span class=\"n\">has</span> <span class=\"n\">died</span> <span class=\"p\">[</span><span class=\"n\">pid</span> <span class=\"mi\">7384</span><span class=\"p\">,</span> <span class=\"n\">exit</span> <span class=\"n\">code</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">cmd</span> <span class=\"o\">/</span><span class=\"n\">opt</span><span class=\"o\">/</span><span class=\"n\">nasa</span><span class=\"o\">/</span><span class=\"n\">indigo</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">val_controller_manager_rtt</span><span class=\"o\">/</span><span class=\"n\">controller_exec</span> <span class=\"o\">--</span><span class=\"n\">rate</span> <span class=\"mi\">500</span> <span class=\"o\">-</span><span class=\"n\">s</span> <span class=\"nl\">__name</span><span class=\"p\">:</span><span class=\"o\">=</span><span class=\"n\">controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939</span> <span class=\"nl\">__log</span><span class=\"p\">:</span><span class=\"o\">=/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">nuttaworn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">ros</span><span class=\"o\">/</span><span class=\"n\">log</span><span class=\"o\">/</span><span class=\"n\">ab6aa69a</span><span class=\"o\">-</span><span class=\"n\">addb</span><span class=\"o\">-</span><span class=\"mf\">11e6</span><span class=\"o\">-</span><span class=\"mi\">8</span><span class=\"n\">de4</span><span class=\"o\">-</span><span class=\"mf\">34e6</span><span class=\"n\">ad02ce89</span><span class=\"o\">/</span><span class=\"n\">controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939</span><span class=\"o\">-</span><span class=\"mf\">1.</span><span class=\"n\">log</span><span class=\"p\">].</span>\n<span class=\"n\">log</span> <span class=\"nl\">file</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">nuttaworn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">ros</span><span class=\"o\">/</span><span class=\"n\">log</span><span class=\"o\">/</span><span class=\"n\">ab6aa69a</span><span class=\"o\">-</span><span class=\"n\">addb</span><span class=\"o\">-</span><span class=\"mf\">11e6</span><span class=\"o\">-</span><span class=\"mi\">8</span><span class=\"n\">de4</span><span class=\"o\">-</span><span class=\"mf\">34e6</span><span class=\"n\">ad02ce89</span><span class=\"o\">/</span><span class=\"n\">controller_manager_nuttaworn_Lenovo_Z50_70_7340_1221773573088100939</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">*</span><span class=\"p\">.</span><span class=\"n\">log</span>\n<span class=\"n\">Initiating</span> <span class=\"n\">shutdown</span><span class=\"o\">!</span>\n<span class=\"o\">================================================================================</span>\n</pre></div>\n\n\n<p>I've tried folllowing <a data-is-external-link=\"true\" href=\"https://bitbucket.org/T_AL/\" rel=\"nofollow\">Erica</a>'s approach from issue <a data-is-external-link=\"true\" href=\"#!/osrf/srcsim/issues/16/ihmc_ros-valkyrie-control-topics-issue\" rel=\"nofollow\">#16</a> but still doesn't do anything except that Valkyrie is hanging from the harness. I'd like to know what is the sources of the problem. Appreciate any response.</p>\n<p>Also, since I'm running the simulation on my laptop, which has core i7 (2 cores), 8 GB memory, and GT610, so I believe some of the issues were originated from there.</p>", "type": "rendered"}, "created_on": "2016-11-18T22:15:34.378709+00:00", "user": {"display_name": "Nuttaworn Sujumnong", "uuid": "{510227de-e818-409d-b5f3-ab08b089dbb9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B510227de-e818-409d-b5f3-ab08b089dbb9%7D"}, "html": {"href": "https://bitbucket.org/%7B510227de-e818-409d-b5f3-ab08b089dbb9%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/acf9916b7bb593ebd98c584378bb08f3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsNS-3.png"}}, "nickname": "nsujumnong", "type": "user", "account_id": "557058:77fa006e-e829-42fb-a03f-fdeb2ffb81da"}, "updated_on": "2016-11-19T00:21:49.969664+00:00", "type": "issue_comment", "id": 32279473}