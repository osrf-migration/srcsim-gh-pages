{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/9/comments/32576906.json"}, "html": {"href": "#!/osrf/srcsim/issues/9#comment-32576906"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/9.json"}}, "type": "issue", "id": 9, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "Valkyrie Drops to the Ground due to incorrect delays in startup script"}, "content": {"raw": "\nResolved this collapse by adding ROS_IP=127.0.0.1 as described in issue #31.\n\n==========================================\n\nThis may not be the same issue but the symptom is the same: Val collapses after the harness is released. After a small time Val straightens out a bit as if the controller were trying to manage.\n\nWhat's strange is everything was working okay until after I did a system software update which said it was bringing in some security patches. After the system reboot these collapses started. I did a --reinstall of srcsim and re-downloaded the other files but no change - basically steps 10 thru 12. \n\n\n```\n#!text\n\n... logging to /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/roslaunch-MysticLakeLinux-6234.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is <1GB.\n\nstarted roslaunch server http://MysticLakeLinux:45918/\n\nSUMMARY\n========\n\nPARAMETERS\n * /ihmc_ros/robot_name: valkyrie\n * /ihmc_ros/valkyrie/left_arm_joint_names: ['leftShoulderPit...\n * /ihmc_ros/valkyrie/left_foot_frame_name: leftFoot\n * /ihmc_ros/valkyrie/right_arm_joint_names: ['rightShoulderPi...\n * /ihmc_ros/valkyrie/right_foot_frame_name: rightFoot\n * /ihmc_valkyrie_control_java_bridge/jvm_args: -Djava.class.path...\n * /ihmc_valkyrie_control_java_bridge/main_class: us.ihmc.valkyrieR...\n * /ihmc_valkyrie_control_java_bridge/type: ihmc_ros_control/...\n * /ihmc_valkyrie_control_java_bridge/working_dir: /home/rmerriam/va...\n * /joint_state_controller/publish_rate: 50\n * /joint_state_controller/type: joint_state_contr...\n * /multisense/camera/stereo_proc/approximate_sync: False\n * /multisense/camera/stereo_proc/disparity_range: 128\n * /multisense_points2_color_relay/lazy: True\n * /multisense_points2_relay/lazy: True\n * /robot_description: <?xml version=\"1....\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n * /use_sim_time: True\n * /valkyrie/robot_description: <?xml version=\"1....\n\nNODES\n  /multisense/camera/\n    stereo_proc (stereo_image_proc/stereo_image_proc)\n  /\n    IHMCValkyrieROSAPI (ihmc_ros_java_adapter/gradlew)\n    control_py_MysticLakeLinux_6234_4573795890746217877 (robonet_tools/control)\n    controller_manager_MysticLakeLinux_6234_3747985407585380631 (val_deploy/delayed_roslaunch.sh)\n    controller_spawner_MysticLakeLinux_6234_3319883639680982985 (controller_manager/spawner)\n    gazebo (gazebo_ros/gzserver)\n    gazebo_gui (gazebo_ros/gzclient)\n    multisense_points2_color_relay (topic_tools/relay)\n    multisense_points2_relay (topic_tools/relay)\n    robot_state_publisher (robot_state_publisher/state_publisher)\n    rostopic (rostopic/rostopic)\n    smtcore_MysticLakeLinux_6234_7759588032764932650 (shared_memory_transport/smtcore)\n    startup_robot (srcsim/init_robot.sh)\n    urdf_spawner_MysticLakeLinux_6234_7279723598710583249 (val_deploy/delayed_roslaunch.sh)\n\nauto-starting new master\nprocess[master]: started with pid [6246]\nROS_MASTER_URI=http://localhost:11311\n\nsetting /run_id to cc2b5a12-b79c-11e6-9353-40167e229df0\nprocess[rosout-1]: started with pid [6259]\nstarted core service [/rosout]\nprocess[smtcore_MysticLakeLinux_6234_7759588032764932650-2]: started with pid [6279]\nprocess[control_py_MysticLakeLinux_6234_4573795890746217877-3]: started with pid [6284]\nprocess[controller_manager_MysticLakeLinux_6234_3747985407585380631-4]: started with pid [6285]\ndelaying: 4 seconds\nprocess[gazebo-5]: started with pid [6287]\nprocess[gazebo_gui-6]: started with pid [6291]\nprocess[urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7]: started with pid [6295]\ndelaying: 6 seconds\nprocess[robot_state_publisher-8]: started with pid [6297]\nprocess[IHMCValkyrieROSAPI-9]: started with pid [6298]\nprocess[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10]: started with pid [6307]\nLog file /home/rmerriam/.log already exists, proceeding...\nwait 60s for system to load\nprocess[startup_robot-11]: started with pid [6335]\nprocess[multisense/camera/stereo_proc-12]: started with pid [6342]\nprocess[multisense_points2_relay-13]: started with pid [6348]\nprocess[multisense_points2_color_relay-14]: started with pid [6356]\nprocess[rostopic-15]: started with pid [6379]\nLog file /home/rmerriam/.log already exists, proceeding...\nGazebo multi-robot simulator, version 7.4.0\nCopyright (C) 2012-2016 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[ INFO] [1480579475.459611310]: Finished loading Gazebo ROS API Plugin.\n[Msg] Waiting for master.\n[ INFO] [1480579475.460526714]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.2.105\n[INFO] [WallTime: 1480579475.726523] [0.000000] Controller Spawner: Waiting for service controller_manager/load_controller\n> Loading > buildSrc[ INFO] [1480579476.816582730, 0.022000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\n[ INFO] [1480579476.853524495, 0.054000000]: Physics dynamic reconfigure ready.\n:buildSrc:compileJava UP-TO-DATE\n:buildSrc:compileGroovy UP-TO-DATE\n:buildSrc:processResources UP-TO-DATE\n:buildSrc:classes UP-TO-DATE\n:buildSrc:jar UP-TO-DATE\n:buildSrc:assemble UP-TO-DATE\n:buildSrc:compileTestJava UP-TO-DATE\n:buildSrc:compileTestGroovy UP-TO-DATE\n:buildSrc:processTestResources UP-TO-DATE\n:buildSrc:testClasses UP-TO-DATE\n:buildSrc:test UP-TO-DATE\n:buildSrc:check UP-TO-DATE\n:buildSrc:build UP-TO-DATE\n> Configuring > 0/1 projects > root project > Resolving dependencies ':ros'[rostopic-15] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/rostopic-15*.log\n:parseYaml UP-TO-DATE\n:runJavaDelegate\nLoading robot model from: 'models/val_description/sdf/valkyrie_sim.sdf'\n> Building 50% > :runJavaDelegatestarting: roslaunch val_deploy val_control_sim.launch controller_manager_looprate:=500 __name:=controller_manager_MysticLakeLinux_6234_3747985407585380631 __log:=/home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/controller_manager_MysticLakeLinux_6234_3747985407585380631-4.log\n... logging to /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/roslaunch-MysticLakeLinux-7317.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is <1GB.\n\n[INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\n[INFO] (NetworkParameters.java:42): Found Network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\n[INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\n[INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\n> Building 50% > :runJavaDelegatestarted roslaunch server http://MysticLakeLinux:40307/\n\nSUMMARY\n========\n\nPARAMETERS\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n\nNODES\n  /\n    controller_manager_MysticLakeLinux_7317_412140642757343539 (val_controller_manager_rtt/controller_exec)\n\nROS_MASTER_URI=http://localhost:11311\n\ncore service [/rosout] found\nprocess[controller_manager_MysticLakeLinux_7317_412140642757343539-1]: started with pid [7338]\nConnecting to controller using TCP on localhost\n[WARN] YoVariable: desiredMomentumRateLinearX is getting created with a null registry\n[WARN] YoVariable: desiredMomentumRateLinearY is getting created with a null registry\n[WARN] YoVariable: desiredMomentumRateLinearZ is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearX is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearY is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearZ is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceX is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceY is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceZ is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueX is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueY is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueZ is getting created with a null registry\n> Building 50% > :runJavaDelegate2016-12-01 02:04:40 localhost ncl_cpp: [NOTICE  ] [gov.nasa.HardwareInterface.makeHandle] Robot Hardware has Initialized. Ready to start loading Controllers. \n\n[INFO] [WallTime: 1480579480.251484] [3.437000] Controller Spawner: Waiting for service controller_manager/switch_controller\n[INFO] [WallTime: 1480579480.253086] [3.439000] Controller Spawner: Waiting for service controller_manager/unload_controller\n[INFO] [WallTime: 1480579480.254850] [3.440000] Loading controller: ihmc_valkyrie_control_java_bridge\n[ INFO] [1480579480.293727778, 3.476000000]: Starting JVM with arguments: -Djava.class.path=ValkyrieController.jar -XX:+UseSerialGC -Xmx4g -Xms4g -XX:NewSize=3g -XX:MaxNewSize=3g -XX:CompileThreshold=1000 -verbosegc -Djava.library.path=lib/\nStarting Java VM from path  /home/rmerriam/valkyrie\nStarted Java VM: success\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN Please initialize the log4j system properly.\n> Building 50% > :runJavaDelegate[ INFO] [1480579480.665498620, 3.848000000]: Loading robot model from: 'models/val_description/sdf/valkyrie_sim.sdf'\nstarting: roslaunch val_gazebo spawn_urdf_model_from_robot_description.launch modelName:=valkyrie zOffset:=1.25 __name:=urdf_spawner_MysticLakeLinux_6234_7279723598710583249 __log:=/home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7.log\n... logging to /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/roslaunch-MysticLakeLinux-8194.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is <1GB.\n\nIHMC ROS API node successfully started.\n> Building 50% > :runJavaDelegatestarted roslaunch server http://MysticLakeLinux:37593/\n\nSUMMARY\n========\n\nPARAMETERS\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n\nNODES\n  /\n    urdf_spawner (gazebo_ros/spawn_model)\n\nROS_MASTER_URI=http://localhost:11311\n\ncore service [/rosout] found\nprocess[urdf_spawner-1]: started with pid [8528]\nspawn_model script started\n[INFO] [WallTime: 1480579482.019203] [0.000000] Loading model xml from ros parameter\n[INFO] [WallTime: 1480579482.036522] [0.000000] Waiting for service /gazebo/spawn_urdf_model\n[INFO] [WallTime: 1480579482.040063] [0.000000] Calling service /gazebo/spawn_urdf_model\n[ INFO] [1480579482.188853485, 5.367000000]: [INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /home/rmerriam/.ihmc/IHMCNetworkParameters.ini\n[ INFO] [1480579482.189195685, 5.368000000]: [INFO] (NetworkParameters.java:42): Found Network parameters file at /home/rmerriam/.ihmc/IHMCNetworkParameters.ini\n[ INFO] [1480579482.189518024, 5.368000000]: [INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\n[ INFO] [1480579482.189669657, 5.368000000]: [INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nAttaching native thread 8569 with priority 45 to JVM\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn't support this element.\n[ INFO] [1480579482.589616951, 5.393000000]: Looking for forceSensorDefinition leftAnkleRoll\n[ INFO] [1480579482.596823157, 5.393000000]: Looking for forceSensorDefinition rightAnkleRoll\n[ INFO] [1480579482.755031219, 5.393000000]: Camera Plugin (robotNamespace = /), Info: Using the 'robotNamespace' param: '/'\n[ INFO] [1480579482.755192827, 5.393000000]: Camera Plugin (robotNamespace = /), Info: Using the 'robotNamespace' param: '/'\n[ INFO] [1480579482.760180757, 5.393000000]: Camera Plugin (ns = /)  <tf_prefix_>, set to \"\"\n[ INFO] [1480579482.798238182, 5.393000000]: Camera Plugin (ns = /)  <tf_prefix_>, set to \"\"\n[ INFO] [1480579482.952349952, 5.393000000]: Laser Plugin (robotNamespace = /), Info: Using the 'robotNamespace' param: '/'\n[ INFO] [1480579482.952441589, 5.393000000]: Starting Laser Plugin (ns = /)!\n[ INFO] [1480579482.956398329, 5.393000000]: Laser Plugin (ns = /)  <tf_prefix_>, set to \"\"\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[INFO] [WallTime: 1480579482.997384] [5.393000] Spawn status: SpawnModel: Successfully spawned model\n[Wrn] [ColladaLoader.cc:1461] Polylist input semantic: 'COLOR' is currently not supported\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[ INFO] [1480579483.244408623, 5.393000000]: SharedMemoryInterfacePlugin: Loading\n2016-12-01 02:04:43 localhost ncl_cpp: [ERROR   ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Possibly missing an api or node tag from one or more imu sensors\n2016-12-01 02:04:43 localhost ncl_cpp: [WARN    ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Imu sensor head_imu_sensor doesn't have <imuTransform> tag. It is likely that the data you receive from this sensor will be incorrect.\n[ INFO] [1480579483.272775329, 5.393000000]: SharedMemorySimInterfacePlugin: Loading complete!\n[ INFO] [1480579483.493457251, 5.393000000]: imu plugin missing <frameName>, defaults to <bodyName>\n[ INFO] [1480579483.493709034, 5.393000000]: imu plugin missing <frameName>, defaults to <bodyName>\n[ INFO] [1480579483.493806569, 5.393000000]: imu plugin missing <frameName>, defaults to <bodyName>\n[urdf_spawner-1] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/urdf_spawner-1*.log\nall processes on machine have died, roslaunch will exit\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n[ INFO] [1480579483.977906212, 5.516000000]: IMUBasedPelvisRotationalStateUpdater: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\n[urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7*.log\n[ INFO] [1480579484.006829319, 5.523000000]: PelvisIMUBasedLinearStateCalculator: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\nAttaching native thread 8788 with priority 45 to JVM\n[ INFO] [1480579485.277123723, 5.934000000]: [INFO] (LogSessionBroadcaster.java:66): Announcing logging session on: name:lo (lo)\n[ INFO] [1480579485.307042792, 5.942000000]: [INFO] (LogSessionBroadcaster.java:307): Trying port 56527\n[INFO] (KryoObjectClient.java:130): Success! Connected KryoClient to SCS at ip localhost/127.0.0.1 on port 4895\n> Building 50% > :runJavaDelegate[ INFO] [1480579486.577147637, 6.369000000]: advertised as /multisense/image_points2\n\n[ INFO] [1480579486.578973940, 6.370000000]: advertised as /multisense/image_points2_color\n\nAttaching native thread 8850 with priority 40 to JVM\n[ INFO] [1480579489.100435507, 7.218000000]: [INFO] (ValkyrieRosControlController.java:307): Running with blocking synchronous execution between estimator and controller\n[INFO] [WallTime: 1480579489.133873] [7.232000] Controller Spawner: Loaded controllers: ihmc_valkyrie_control_java_bridge\n[INFO] [WallTime: 1480579489.347379] [7.332000] Started controllers: ihmc_valkyrie_control_java_bridge\nlower harness\npublishing and latching message for 3.0 seconds\nswitch to high level control after 20 seconds\npublishing and latching message for 3.0 seconds\ndetach in 5 seconds\ndone\n[startup_robot-11] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/startup_robot-11*.log\npublishing and latching message for 3.0 seconds\n\n\n```\n\nAnd after ctrl-C\n\n\n```\n#!text\n\n[multisense_points2_color_relay-14] killing on exit\n[multisense_points2_relay-13] killing on exit\n[multisense/camera/stereo_proc-12] killing on exit\n[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10] killing on exit\n[IHMCValkyrieROSAPI-9] killing on exit\n[gazebo_gui-6] killing on exit\n[gazebo-5] killing on exit\n[robot_state_publisher-8] killing on exit\n[controller_manager_MysticLakeLinux_6234_3747985407585380631-4] killing on exit\n[INFO] [WallTime: 1480579788.125892] [103.940000] Shutting down spawner. Stopping and unloading controllers...\n[control_py_MysticLakeLinux_6234_4573795890746217877-3] killing on exit\n[controller_manager_MysticLakeLinux_7317_412140642757343539-1] killing on exit\n[smtcore_MysticLakeLinux_6234_7759588032764932650-2] killing on exit\n2016-12-01 02:09:48 localhost ncl_cpp: [FATAL   ] [gov.nasa.ControllerExec.ORO_main] Controller manager has stopped running! Stopping controller exec.\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f31aa871c4a, pid=7338, tid=139851297703872\n#\n# JRE version: OpenJDK Runtime Environment (7.0_121) (build 1.7.0_121-b00)\n# Java VM: OpenJDK 64-Bit Server VM (24.121-b00 mixed mode linux-amd64 compressed oops)\n# Derivative: IcedTea 2.6.8\n# Distribution: Ubuntu 14.04 LTS, package 7u121-2.6.8-1ubuntu0.14.04.1\n# Problematic frame:\n# C  [liborocos-rtt-gnulinux.so.2.8+0x159c4a]  RTT::ComponentLoader::unloadComponent(RTT::TaskContext*)+0x6a\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again\n#\n# An error report file with more information is saved as:\n# /home/rmerriam/.ros/hs_err_pid7338.log\n*** Error in `/opt/nasa/indigo/lib/val_controller_manager_rtt/controller_exec': corrupted double-linked list: 0x0000000000f96150 ***\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10] escalating to SIGTERM\n[gazebo-5] escalating to SIGTERM\n[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10] escalating to SIGKILL\n[rosout-1] killing on exit\n[master] killing on exit\nShutdown errors:\n * process[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10, pid 6307]: required SIGKILL. May still be running.\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n\n```\n\nShould have kept a copy of a good run to compare. System is Ubuntu 14.04.4 with I7 4 core, 16 Gb. It's been working fine until now except for issue #35. ", "markup": "markdown", "html": "<p>Resolved this collapse by adding ROS_IP=127.0.0.1 as described in issue <a href=\"#!/osrf/srcsim/issues/31/setup-step-for-exporting-ros_ip\" rel=\"nofollow\" title=\"Setup step for exporting ROS_IP\" class=\"ap-connect-link\"><s>#31</s></a>.</p>\n<p>==========================================</p>\n<p>This may not be the same issue but the symptom is the same: Val collapses after the harness is released. After a small time Val straightens out a bit as if the controller were trying to manage.</p>\n<p>What's strange is everything was working okay until after I did a system software update which said it was bringing in some security patches. After the system reboot these collapses started. I did a --reinstall of srcsim and re-downloaded the other files but no change - basically steps 10 thru 12. </p>\n<div class=\"codehilite language-text\"><pre><span></span>... logging to /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/roslaunch-MysticLakeLinux-6234.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\nstarted roslaunch server http://MysticLakeLinux:45918/\n\nSUMMARY\n========\n\nPARAMETERS\n * /ihmc_ros/robot_name: valkyrie\n * /ihmc_ros/valkyrie/left_arm_joint_names: [&#39;leftShoulderPit...\n * /ihmc_ros/valkyrie/left_foot_frame_name: leftFoot\n * /ihmc_ros/valkyrie/right_arm_joint_names: [&#39;rightShoulderPi...\n * /ihmc_ros/valkyrie/right_foot_frame_name: rightFoot\n * /ihmc_valkyrie_control_java_bridge/jvm_args: -Djava.class.path...\n * /ihmc_valkyrie_control_java_bridge/main_class: us.ihmc.valkyrieR...\n * /ihmc_valkyrie_control_java_bridge/type: ihmc_ros_control/...\n * /ihmc_valkyrie_control_java_bridge/working_dir: /home/rmerriam/va...\n * /joint_state_controller/publish_rate: 50\n * /joint_state_controller/type: joint_state_contr...\n * /multisense/camera/stereo_proc/approximate_sync: False\n * /multisense/camera/stereo_proc/disparity_range: 128\n * /multisense_points2_color_relay/lazy: True\n * /multisense_points2_relay/lazy: True\n * /robot_description: &lt;?xml version=&quot;1....\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n * /use_sim_time: True\n * /valkyrie/robot_description: &lt;?xml version=&quot;1....\n\nNODES\n  /multisense/camera/\n    stereo_proc (stereo_image_proc/stereo_image_proc)\n  /\n    IHMCValkyrieROSAPI (ihmc_ros_java_adapter/gradlew)\n    control_py_MysticLakeLinux_6234_4573795890746217877 (robonet_tools/control)\n    controller_manager_MysticLakeLinux_6234_3747985407585380631 (val_deploy/delayed_roslaunch.sh)\n    controller_spawner_MysticLakeLinux_6234_3319883639680982985 (controller_manager/spawner)\n    gazebo (gazebo_ros/gzserver)\n    gazebo_gui (gazebo_ros/gzclient)\n    multisense_points2_color_relay (topic_tools/relay)\n    multisense_points2_relay (topic_tools/relay)\n    robot_state_publisher (robot_state_publisher/state_publisher)\n    rostopic (rostopic/rostopic)\n    smtcore_MysticLakeLinux_6234_7759588032764932650 (shared_memory_transport/smtcore)\n    startup_robot (srcsim/init_robot.sh)\n    urdf_spawner_MysticLakeLinux_6234_7279723598710583249 (val_deploy/delayed_roslaunch.sh)\n\nauto-starting new master\nprocess[master]: started with pid [6246]\nROS_MASTER_URI=http://localhost:11311\n\nsetting /run_id to cc2b5a12-b79c-11e6-9353-40167e229df0\nprocess[rosout-1]: started with pid [6259]\nstarted core service [/rosout]\nprocess[smtcore_MysticLakeLinux_6234_7759588032764932650-2]: started with pid [6279]\nprocess[control_py_MysticLakeLinux_6234_4573795890746217877-3]: started with pid [6284]\nprocess[controller_manager_MysticLakeLinux_6234_3747985407585380631-4]: started with pid [6285]\ndelaying: 4 seconds\nprocess[gazebo-5]: started with pid [6287]\nprocess[gazebo_gui-6]: started with pid [6291]\nprocess[urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7]: started with pid [6295]\ndelaying: 6 seconds\nprocess[robot_state_publisher-8]: started with pid [6297]\nprocess[IHMCValkyrieROSAPI-9]: started with pid [6298]\nprocess[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10]: started with pid [6307]\nLog file /home/rmerriam/.log already exists, proceeding...\nwait 60s for system to load\nprocess[startup_robot-11]: started with pid [6335]\nprocess[multisense/camera/stereo_proc-12]: started with pid [6342]\nprocess[multisense_points2_relay-13]: started with pid [6348]\nprocess[multisense_points2_color_relay-14]: started with pid [6356]\nprocess[rostopic-15]: started with pid [6379]\nLog file /home/rmerriam/.log already exists, proceeding...\nGazebo multi-robot simulator, version 7.4.0\nCopyright (C) 2012-2016 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[ INFO] [1480579475.459611310]: Finished loading Gazebo ROS API Plugin.\n[Msg] Waiting for master.\n[ INFO] [1480579475.460526714]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.2.105\n[INFO] [WallTime: 1480579475.726523] [0.000000] Controller Spawner: Waiting for service controller_manager/load_controller\n&gt; Loading &gt; buildSrc[ INFO] [1480579476.816582730, 0.022000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\n[ INFO] [1480579476.853524495, 0.054000000]: Physics dynamic reconfigure ready.\n:buildSrc:compileJava UP-TO-DATE\n:buildSrc:compileGroovy UP-TO-DATE\n:buildSrc:processResources UP-TO-DATE\n:buildSrc:classes UP-TO-DATE\n:buildSrc:jar UP-TO-DATE\n:buildSrc:assemble UP-TO-DATE\n:buildSrc:compileTestJava UP-TO-DATE\n:buildSrc:compileTestGroovy UP-TO-DATE\n:buildSrc:processTestResources UP-TO-DATE\n:buildSrc:testClasses UP-TO-DATE\n:buildSrc:test UP-TO-DATE\n:buildSrc:check UP-TO-DATE\n:buildSrc:build UP-TO-DATE\n&gt; Configuring &gt; 0/1 projects &gt; root project &gt; Resolving dependencies &#39;:ros&#39;[rostopic-15] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/rostopic-15*.log\n:parseYaml UP-TO-DATE\n:runJavaDelegate\nLoading robot model from: &#39;models/val_description/sdf/valkyrie_sim.sdf&#39;\n&gt; Building 50% &gt; :runJavaDelegatestarting: roslaunch val_deploy val_control_sim.launch controller_manager_looprate:=500 __name:=controller_manager_MysticLakeLinux_6234_3747985407585380631 __log:=/home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/controller_manager_MysticLakeLinux_6234_3747985407585380631-4.log\n... logging to /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/roslaunch-MysticLakeLinux-7317.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\n[INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\n[INFO] (NetworkParameters.java:42): Found Network parameters file at /opt/ros/indigo/share/ihmc_valkyrie_ros/configurations/IHMCNetworkParametersSim.ini\n[INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\n[INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\n&gt; Building 50% &gt; :runJavaDelegatestarted roslaunch server http://MysticLakeLinux:40307/\n\nSUMMARY\n========\n\nPARAMETERS\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n\nNODES\n  /\n    controller_manager_MysticLakeLinux_7317_412140642757343539 (val_controller_manager_rtt/controller_exec)\n\nROS_MASTER_URI=http://localhost:11311\n\ncore service [/rosout] found\nprocess[controller_manager_MysticLakeLinux_7317_412140642757343539-1]: started with pid [7338]\nConnecting to controller using TCP on localhost\n[WARN] YoVariable: desiredMomentumRateLinearX is getting created with a null registry\n[WARN] YoVariable: desiredMomentumRateLinearY is getting created with a null registry\n[WARN] YoVariable: desiredMomentumRateLinearZ is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearX is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearY is getting created with a null registry\n[WARN] YoVariable: achievedMomentumRateLinearZ is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceX is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceY is getting created with a null registry\n[WARN] YoVariable: residualRootJointForceZ is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueX is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueY is getting created with a null registry\n[WARN] YoVariable: residualRootJointTorqueZ is getting created with a null registry\n&gt; Building 50% &gt; :runJavaDelegate2016-12-01 02:04:40 localhost ncl_cpp: [NOTICE  ] [gov.nasa.HardwareInterface.makeHandle] Robot Hardware has Initialized. Ready to start loading Controllers. \n\n[INFO] [WallTime: 1480579480.251484] [3.437000] Controller Spawner: Waiting for service controller_manager/switch_controller\n[INFO] [WallTime: 1480579480.253086] [3.439000] Controller Spawner: Waiting for service controller_manager/unload_controller\n[INFO] [WallTime: 1480579480.254850] [3.440000] Loading controller: ihmc_valkyrie_control_java_bridge\n[ INFO] [1480579480.293727778, 3.476000000]: Starting JVM with arguments: -Djava.class.path=ValkyrieController.jar -XX:+UseSerialGC -Xmx4g -Xms4g -XX:NewSize=3g -XX:MaxNewSize=3g -XX:CompileThreshold=1000 -verbosegc -Djava.library.path=lib/\nStarting Java VM from path  /home/rmerriam/valkyrie\nStarted Java VM: success\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\nlog4j:WARN No appenders could be found for logger (org.ros.internal.node.client.Registrar).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN Please initialize the log4j system properly.\n&gt; Building 50% &gt; :runJavaDelegate[ INFO] [1480579480.665498620, 3.848000000]: Loading robot model from: &#39;models/val_description/sdf/valkyrie_sim.sdf&#39;\nstarting: roslaunch val_gazebo spawn_urdf_model_from_robot_description.launch modelName:=valkyrie zOffset:=1.25 __name:=urdf_spawner_MysticLakeLinux_6234_7279723598710583249 __log:=/home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7.log\n... logging to /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/roslaunch-MysticLakeLinux-8194.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\nIHMC ROS API node successfully started.\n&gt; Building 50% &gt; :runJavaDelegatestarted roslaunch server http://MysticLakeLinux:37593/\n\nSUMMARY\n========\n\nPARAMETERS\n * /rosdistro: indigo\n * /rosversion: 1.11.20\n\nNODES\n  /\n    urdf_spawner (gazebo_ros/spawn_model)\n\nROS_MASTER_URI=http://localhost:11311\n\ncore service [/rosout] found\nprocess[urdf_spawner-1]: started with pid [8528]\nspawn_model script started\n[INFO] [WallTime: 1480579482.019203] [0.000000] Loading model xml from ros parameter\n[INFO] [WallTime: 1480579482.036522] [0.000000] Waiting for service /gazebo/spawn_urdf_model\n[INFO] [WallTime: 1480579482.040063] [0.000000] Calling service /gazebo/spawn_urdf_model\n[ INFO] [1480579482.188853485, 5.367000000]: [INFO] (NetworkParameters.java:38): Looking for network parameters in network parameters file at /home/rmerriam/.ihmc/IHMCNetworkParameters.ini\n[ INFO] [1480579482.189195685, 5.368000000]: [INFO] (NetworkParameters.java:42): Found Network parameters file at /home/rmerriam/.ihmc/IHMCNetworkParameters.ini\n[ INFO] [1480579482.189518024, 5.368000000]: [INFO] (NetworkParameters.java:69): Looking for network parameters in environment variables\n[ INFO] [1480579482.189669657, 5.368000000]: [INFO] (NetworkParameters.java:70): Environment variables will override entries in the network parameters file.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nAttaching native thread 8569 with priority 45 to JVM\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[sensor_number], child of element[sensor] not defined in SDF. Ignoring[sensor_number]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[imuTransform], child of element[sensor] not defined in SDF. Ignoring[imuTransform]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[node], child of element[sensor] not defined in SDF. Ignoring[node]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[api], child of element[sensor] not defined in SDF. Ignoring[api]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\nWarning [parser.cc:778] XML Element[port], child of element[sensor] not defined in SDF. Ignoring[port]. You may have an incorrect SDF file, or an sdformat version that doesn&#39;t support this element.\n[ INFO] [1480579482.589616951, 5.393000000]: Looking for forceSensorDefinition leftAnkleRoll\n[ INFO] [1480579482.596823157, 5.393000000]: Looking for forceSensorDefinition rightAnkleRoll\n[ INFO] [1480579482.755031219, 5.393000000]: Camera Plugin (robotNamespace = /), Info: Using the &#39;robotNamespace&#39; param: &#39;/&#39;\n[ INFO] [1480579482.755192827, 5.393000000]: Camera Plugin (robotNamespace = /), Info: Using the &#39;robotNamespace&#39; param: &#39;/&#39;\n[ INFO] [1480579482.760180757, 5.393000000]: Camera Plugin (ns = /)  &lt;tf_prefix_&gt;, set to &quot;&quot;\n[ INFO] [1480579482.798238182, 5.393000000]: Camera Plugin (ns = /)  &lt;tf_prefix_&gt;, set to &quot;&quot;\n[ INFO] [1480579482.952349952, 5.393000000]: Laser Plugin (robotNamespace = /), Info: Using the &#39;robotNamespace&#39; param: &#39;/&#39;\n[ INFO] [1480579482.952441589, 5.393000000]: Starting Laser Plugin (ns = /)!\n[ INFO] [1480579482.956398329, 5.393000000]: Laser Plugin (ns = /)  &lt;tf_prefix_&gt;, set to &quot;&quot;\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[INFO] [WallTime: 1480579482.997384] [5.393000] Spawn status: SpawnModel: Successfully spawned model\n[Wrn] [ColladaLoader.cc:1461] Polylist input semantic: &#39;COLOR&#39; is currently not supported\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[ INFO] [1480579483.244408623, 5.393000000]: SharedMemoryInterfacePlugin: Loading\n2016-12-01 02:04:43 localhost ncl_cpp: [ERROR   ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Possibly missing an api or node tag from one or more imu sensors\n2016-12-01 02:04:43 localhost ncl_cpp: [WARN    ] [gov.nasa.SharedMemorySimInterfacePlugin.findUrdfSensors] Imu sensor head_imu_sensor doesn&#39;t have &lt;imuTransform&gt; tag. It is likely that the data you receive from this sensor will be incorrect.\n[ INFO] [1480579483.272775329, 5.393000000]: SharedMemorySimInterfacePlugin: Loading complete!\n[ INFO] [1480579483.493457251, 5.393000000]: imu plugin missing &lt;frameName&gt;, defaults to &lt;bodyName&gt;\n[ INFO] [1480579483.493709034, 5.393000000]: imu plugin missing &lt;frameName&gt;, defaults to &lt;bodyName&gt;\n[ INFO] [1480579483.493806569, 5.393000000]: imu plugin missing &lt;frameName&gt;, defaults to &lt;bodyName&gt;\n[urdf_spawner-1] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/urdf_spawner-1*.log\nall processes on machine have died, roslaunch will exit\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[multicamera] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\n[Wrn] [msgs.cc:1793] Conversion of sensor type[force_torque] not suppported.\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n[ INFO] [1480579483.977906212, 5.516000000]: IMUBasedPelvisRotationalStateUpdater: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\n[urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/urdf_spawner_MysticLakeLinux_6234_7279723598710583249-7*.log\n[ INFO] [1480579484.006829319, 5.523000000]: PelvisIMUBasedLinearStateCalculator: More than 1 IMU sensor, using only the first one: pelvis_pelvisRearImu\nAttaching native thread 8788 with priority 45 to JVM\n[ INFO] [1480579485.277123723, 5.934000000]: [INFO] (LogSessionBroadcaster.java:66): Announcing logging session on: name:lo (lo)\n[ INFO] [1480579485.307042792, 5.942000000]: [INFO] (LogSessionBroadcaster.java:307): Trying port 56527\n[INFO] (KryoObjectClient.java:130): Success! Connected KryoClient to SCS at ip localhost/127.0.0.1 on port 4895\n&gt; Building 50% &gt; :runJavaDelegate[ INFO] [1480579486.577147637, 6.369000000]: advertised as /multisense/image_points2\n\n[ INFO] [1480579486.578973940, 6.370000000]: advertised as /multisense/image_points2_color\n\nAttaching native thread 8850 with priority 40 to JVM\n[ INFO] [1480579489.100435507, 7.218000000]: [INFO] (ValkyrieRosControlController.java:307): Running with blocking synchronous execution between estimator and controller\n[INFO] [WallTime: 1480579489.133873] [7.232000] Controller Spawner: Loaded controllers: ihmc_valkyrie_control_java_bridge\n[INFO] [WallTime: 1480579489.347379] [7.332000] Started controllers: ihmc_valkyrie_control_java_bridge\nlower harness\npublishing and latching message for 3.0 seconds\nswitch to high level control after 20 seconds\npublishing and latching message for 3.0 seconds\ndetach in 5 seconds\ndone\n[startup_robot-11] process has finished cleanly\nlog file: /home/rmerriam/.ros/log/cc2b5a12-b79c-11e6-9353-40167e229df0/startup_robot-11*.log\npublishing and latching message for 3.0 seconds\n</pre></div>\n\n\n<p>And after ctrl-C</p>\n<div class=\"codehilite language-text\"><pre><span></span>[multisense_points2_color_relay-14] killing on exit\n[multisense_points2_relay-13] killing on exit\n[multisense/camera/stereo_proc-12] killing on exit\n[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10] killing on exit\n[IHMCValkyrieROSAPI-9] killing on exit\n[gazebo_gui-6] killing on exit\n[gazebo-5] killing on exit\n[robot_state_publisher-8] killing on exit\n[controller_manager_MysticLakeLinux_6234_3747985407585380631-4] killing on exit\n[INFO] [WallTime: 1480579788.125892] [103.940000] Shutting down spawner. Stopping and unloading controllers...\n[control_py_MysticLakeLinux_6234_4573795890746217877-3] killing on exit\n[controller_manager_MysticLakeLinux_7317_412140642757343539-1] killing on exit\n[smtcore_MysticLakeLinux_6234_7759588032764932650-2] killing on exit\n2016-12-01 02:09:48 localhost ncl_cpp: [FATAL   ] [gov.nasa.ControllerExec.ORO_main] Controller manager has stopped running! Stopping controller exec.\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f31aa871c4a, pid=7338, tid=139851297703872\n#\n# JRE version: OpenJDK Runtime Environment (7.0_121) (build 1.7.0_121-b00)\n# Java VM: OpenJDK 64-Bit Server VM (24.121-b00 mixed mode linux-amd64 compressed oops)\n# Derivative: IcedTea 2.6.8\n# Distribution: Ubuntu 14.04 LTS, package 7u121-2.6.8-1ubuntu0.14.04.1\n# Problematic frame:\n# C  [liborocos-rtt-gnulinux.so.2.8+0x159c4a]  RTT::ComponentLoader::unloadComponent(RTT::TaskContext*)+0x6a\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /home/rmerriam/.ros/hs_err_pid7338.log\n*** Error in `/opt/nasa/indigo/lib/val_controller_manager_rtt/controller_exec&#39;: corrupted double-linked list: 0x0000000000f96150 ***\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10] escalating to SIGTERM\n[gazebo-5] escalating to SIGTERM\n[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10] escalating to SIGKILL\n[rosout-1] killing on exit\n[master] killing on exit\nShutdown errors:\n * process[controller_spawner_MysticLakeLinux_6234_3319883639680982985-10, pid 6307]: required SIGKILL. May still be running.\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n</pre></div>\n\n\n<p>Should have kept a copy of a good run to compare. System is Ubuntu 14.04.4 with I7 4 core, 16 Gb. It's been working fine until now except for issue <a href=\"#!/osrf/srcsim/issues/35/ihmc_ros-valkyrie-controller-not-accepting\" rel=\"nofollow\" title=\"/ihmc_ros/valkyrie/controller not accepting subscription to /ihmc_ros/valkyrie/control/head_trajectory\" class=\"ap-connect-link\"><s>#35</s></a>. </p>", "type": "rendered"}, "created_on": "2016-12-01T08:12:25.624307+00:00", "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "updated_on": "2016-12-04T21:21:47.232359+00:00", "type": "issue_comment", "id": 32576906}