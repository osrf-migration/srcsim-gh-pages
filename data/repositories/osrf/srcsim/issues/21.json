{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "links": {"attachments": {"href": "data/repositories/osrf/srcsim/issues/21/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/srcsim/issues/21.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/21/watch"}, "comments": {"href": "data/repositories/osrf/srcsim/issues/21/comments_page=1.json"}, "html": {"href": "#!/osrf/srcsim/issues/21/ihmc-java-real-time-permission-problems"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/srcsim/issues/21/vote"}}, "reporter": {"display_name": "Steven Jens Jorgensen", "uuid": "{9df2d52f-8c3d-4711-a7b9-e8341a9a7415}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9df2d52f-8c3d-4711-a7b9-e8341a9a7415%7D"}, "html": {"href": "https://bitbucket.org/%7B9df2d52f-8c3d-4711-a7b9-e8341a9a7415%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:21125e03-703e-44f8-9adf-61bd4cbaffbe/0206d08d-a4cb-4f66-9a9a-fb84188e0c04/128"}}, "nickname": "Steven Jens Jorgensen", "type": "user", "account_id": "557058:21125e03-703e-44f8-9adf-61bd4cbaffbe"}, "title": "IHMC Java real time permission problems", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Hello,\r\nHello I have an Ubuntu 14.04 LTS (64-bit) system. \r\n\r\nI initially installed ROS Indigo on my own.  And followed the instructions in \r\n#!/osrf/srcsim/wiki/system_setup\r\n\r\nEverything seems to compile and the java libraries are also successfully built.\r\n\r\nAfter sourcing /opt/nasa, I launch:\r\nroslaunch srcsim qual2.launch init:=true walk_test:=true\r\n\r\nI see valkyrie and task#2, but the controller is not initiated.\r\nI am getting the following errors regarding realtime threads with Java:\r\n\r\n[ERROR] [1479218526.837678586, 6.291000000]: java.lang.RuntimeException: Cannot start realtime thread, do you have permission\r\n[ERROR] [1479218526.837843116, 6.291000000]: \tat us.ihmc.realtime.RealtimeThread.start(RealtimeThread.java:112)\r\n[ERROR] [1479218526.837938407, 6.291000000]: \tat us.ihmc.util.PeriodicRealtimeThreadScheduler.schedule(PeriodicRealtimeThreadScheduler.java:35)\r\n[ERROR] [1479218526.838034960, 6.291000000]: \tat us.ihmc.commonWalkingControlModules.controllerAPI.input.ControllerNetworkSubscriber.<init>(ControllerNetworkSubscriber.java:71)\r\n[ERROR] [1479218526.838143691, 6.291000000]: \tat us.ihmc.commonWalkingControlModules.highLevelHumanoidControl.factories.MomentumBasedControllerFactory.createControllerNetworkSubscriber(MomentumBasedControllerFactory.java:141)\r\n[ERROR] [1479218526.838264199, 6.291000000]: \tat us.ihmc.valkyrieRosControl.ValkyrieRosControlController.createDRCControllerFactory(ValkyrieRosControlController.java:140)\r\n[ERROR] [1479218526.838378413, 6.291000000]: \tat us.ihmc.valkyrieRosControl.ValkyrieRosControlController.init(ValkyrieRosControlController.java:253)\r\n[ERROR] [1479218526.838493800, 6.291000000]: \tat us.ihmc.rosControl.IHMCRosControlJavaBridge.initFromNative(IHMCRosControlJavaBridge.java:103)\r\n[ERROR] [1479218526.838645496, 6.291000000]: Initializing controller 'ihmc_valkyrie_control_java_bridge' failed\r\n\r\nSince the controller fails to load, Valkyrie falls down when released from the harness. There are other issues that also appear after this first error.\r\n\r\nIs this an installation issue or is this a permission issue? I checked \r\n/opt/ros/indigo/share/ihmc_ros_java_adapter is owned by the user ( using ls -l )\r\n\r\nAny ideas? The java libraries are binaries so this is difficult to debug for me.", "markup": "markdown", "html": "<p>Hello,\nHello I have an Ubuntu 14.04 LTS (64-bit) system. </p>\n<p>I initially installed ROS Indigo on my own.  And followed the instructions in \n<a href=\"#!/osrf/srcsim/wiki/system_setup\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/srcsim/wiki/system_setup</a></p>\n<p>Everything seems to compile and the java libraries are also successfully built.</p>\n<p>After sourcing /opt/nasa, I launch:\nroslaunch srcsim qual2.launch init:=true walk_test:=true</p>\n<p>I see valkyrie and task<a href=\"#!/osrf/srcsim/issues/2/intermittent-seg-faults-on-startup\" rel=\"nofollow\" title=\"Intermittent seg-faults on startup\" class=\"ap-connect-link\"><s>#2</s></a>, but the controller is not initiated.\nI am getting the following errors regarding realtime threads with Java:</p>\n<p>[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/837678586\" rel=\"nofollow\" class=\"ap-connect-link\">837678586</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]: java.lang.RuntimeException: Cannot start realtime thread, do you have permission\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/837843116\" rel=\"nofollow\" class=\"ap-connect-link\">837843116</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]:    at us.ihmc.realtime.RealtimeThread.start(RealtimeThread.java:112)\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/837938407\" rel=\"nofollow\" class=\"ap-connect-link\">837938407</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]:    at us.ihmc.util.PeriodicRealtimeThreadScheduler.schedule(PeriodicRealtimeThreadScheduler.java:35)\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/838034960\" rel=\"nofollow\" class=\"ap-connect-link\">838034960</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]:    at us.ihmc.commonWalkingControlModules.controllerAPI.input.ControllerNetworkSubscriber.&lt;init&gt;(ControllerNetworkSubscriber.java:71)\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/838143691\" rel=\"nofollow\" class=\"ap-connect-link\">838143691</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]:    at us.ihmc.commonWalkingControlModules.highLevelHumanoidControl.factories.MomentumBasedControllerFactory.createControllerNetworkSubscriber(MomentumBasedControllerFactory.java:141)\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/838264199\" rel=\"nofollow\" class=\"ap-connect-link\">838264199</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]:    at us.ihmc.valkyrieRosControl.ValkyrieRosControlController.createDRCControllerFactory(ValkyrieRosControlController.java:140)\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/838378413\" rel=\"nofollow\" class=\"ap-connect-link\">838378413</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]:    at us.ihmc.valkyrieRosControl.ValkyrieRosControlController.init(ValkyrieRosControlController.java:253)\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/838493800\" rel=\"nofollow\" class=\"ap-connect-link\">838493800</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]:    at us.ihmc.rosControl.IHMCRosControlJavaBridge.initFromNative(IHMCRosControlJavaBridge.java:103)\n[ERROR] [<a href=\"#!/osrf/srcsim/commits/1479218526\" rel=\"nofollow\" class=\"ap-connect-link\">1479218526</a>.<a href=\"#!/osrf/srcsim/commits/838645496\" rel=\"nofollow\" class=\"ap-connect-link\">838645496</a>, 6.<a href=\"#!/osrf/srcsim/commits/291000000\" rel=\"nofollow\" class=\"ap-connect-link\">291000000</a>]: Initializing controller 'ihmc_valkyrie_control_java_bridge' failed</p>\n<p>Since the controller fails to load, Valkyrie falls down when released from the harness. There are other issues that also appear after this first error.</p>\n<p>Is this an installation issue or is this a permission issue? I checked \n/opt/ros/indigo/share/ihmc_ros_java_adapter is owned by the user ( using ls -l )</p>\n<p>Any ideas? The java libraries are binaries so this is difficult to debug for me.</p>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": null, "edited_on": null, "created_on": "2016-11-15T14:23:22.721476+00:00", "milestone": null, "updated_on": "2016-12-01T16:22:45.122461+00:00", "type": "issue", "id": 21}