{"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/175/comments/36970773.json"}, "html": {"href": "#!/osrf/srcsim/issues/175#comment-36970773"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/srcsim/issues/175.json"}}, "type": "issue", "id": 175, "repository": {"links": {"self": {"href": "data/repositories/osrf/srcsim.json"}, "html": {"href": "#!/osrf/srcsim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{c41021d9-0217-4628-999d-7f8d82f98dcb}ts=c_plus_plus"}}, "type": "repository", "name": "srcsim", "full_name": "osrf/srcsim", "uuid": "{c41021d9-0217-4628-999d-7f8d82f98dcb}"}, "title": "How to query if robot is initialized"}, "content": {"raw": "Adding this here because it's a related topic. \n\nInformation is needed after a restart to tell the robot the current task and checkpoint, and that a restart occurred. Might even need information about pose. \n\nThe current competition software doesn't update task and checkpoint until the start service call is made. That service call has to match the current task and checkpoint which is unknown on a restart. Also, if a competitor decides to do each task separately their software needs to know the task and checkpoint they are starting. That's not as big an issue since if I'm starting task 2 presumably I know that and can send the right start. \n\nIt would be useful if there were a generic start message. Use task number 99. That would start task reporting and the robot would know the task and checkpoint that are in progress. \n\nIncidentally, to the point of the question above. My software waits for the simulated time to exceed 27 seconds before proceeding. It's worked for the qualification runs and works now. It'll be interesting to see if it works in the competition environment.\n\nThis is related to Issue #151 not having any task information even though the start command was given. IMO the task and checkpoint state should always be available to the robot. I fixed my issue specific to $151 but feel the restart situations causes a similar condition.", "markup": "markdown", "html": "<p>Adding this here because it's a related topic. </p>\n<p>Information is needed after a restart to tell the robot the current task and checkpoint, and that a restart occurred. Might even need information about pose. </p>\n<p>The current competition software doesn't update task and checkpoint until the start service call is made. That service call has to match the current task and checkpoint which is unknown on a restart. Also, if a competitor decides to do each task separately their software needs to know the task and checkpoint they are starting. That's not as big an issue since if I'm starting task 2 presumably I know that and can send the right start. </p>\n<p>It would be useful if there were a generic start message. Use task number 99. That would start task reporting and the robot would know the task and checkpoint that are in progress. </p>\n<p>Incidentally, to the point of the question above. My software waits for the simulated time to exceed 27 seconds before proceeding. It's worked for the qualification runs and works now. It'll be interesting to see if it works in the competition environment.</p>\n<p>This is related to Issue <a href=\"#!/osrf/srcsim/issues/151/srcsim-finals-task-begin-reporting-once\" rel=\"nofollow\" title=\"/srcsim/finals/task begin reporting once task started\" class=\"ap-connect-link\"><s>#151</s></a> not having any task information even though the start command was given. IMO the task and checkpoint state should always be available to the robot. I fixed my issue specific to $151 but feel the restart situations causes a similar condition.</p>", "type": "rendered"}, "created_on": "2017-05-20T17:56:25.709920+00:00", "user": {"display_name": "Rud Merriam", "uuid": "{79efa10c-b8b6-4b55-9d05-7d0057e235cb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D"}, "html": {"href": "https://bitbucket.org/%7B79efa10c-b8b6-4b55-9d05-7d0057e235cb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc/5c7bde69-befb-417b-9aae-9db0c9a59777/128"}}, "nickname": "rmerriam", "type": "user", "account_id": "557058:c6ed1bc6-3112-49ac-9453-b3846fe562dc"}, "updated_on": "2017-05-20T18:16:44.588409+00:00", "type": "issue_comment", "id": 36970773}